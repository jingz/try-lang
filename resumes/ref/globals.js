var requirejs,require,define;(function(t){function e(t,e){return v.call(t,e)}function i(t,e){var i,n,s,o,a,r,l,u,c,d,h=e&&e.split("/"),p=m.map,f=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(h=h.slice(0,h.length-1),t=h.concat(t.split("/")),u=0;t.length>u;u+=1)if(d=t[u],"."===d)t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((h||f)&&p){for(i=t.split("/"),u=i.length;u>0;u-=1){if(n=i.slice(0,u).join("/"),h)for(c=h.length;c>0;c-=1)if(s=p[h.slice(0,c).join("/")],s&&(s=s[n])){o=s,a=u;break}if(o)break;!r&&f&&f[n]&&(r=f[n],l=u)}!o&&r&&(o=r,a=l),o&&(i.splice(0,a,o),t=i.join("/"))}return t}function n(e,i){return function(){return c.apply(t,y.call(arguments,0).concat([e,i]))}}function s(t){return function(e){return i(e,t)}}function o(t){return function(e){p[t]=e}}function a(i){if(e(f,i)){var n=f[i];delete f[i],g[i]=!0,u.apply(t,n)}if(!e(p,i)&&!e(g,i))throw Error("No "+i);return p[i]}function r(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function l(t){return function(){return m&&m.config&&m.config[t]||{}}}var u,c,d,h,p={},f={},m={},g={},v=Object.prototype.hasOwnProperty,y=[].slice;d=function(t,e){var n,o=r(t),l=o[0];return t=o[1],l&&(l=i(l,e),n=a(l)),l?t=n&&n.normalize?n.normalize(t,s(e)):i(t,e):(t=i(t,e),o=r(t),l=o[0],t=o[1],l&&(n=a(l))),{f:l?l+"!"+t:t,n:t,pr:l,p:n}},h={require:function(t){return n(t)},exports:function(t){var e=p[t];return e!==void 0?e:p[t]={}},module:function(t){return{id:t,uri:"",exports:p[t],config:l(t)}}},u=function(i,s,r,l){var u,c,m,v,y,b,_=[];if(l=l||i,"function"==typeof r){for(s=!s.length&&r.length?["require","exports","module"]:s,y=0;s.length>y;y+=1)if(v=d(s[y],l),c=v.f,"require"===c)_[y]=h.require(i);else if("exports"===c)_[y]=h.exports(i),b=!0;else if("module"===c)u=_[y]=h.module(i);else if(e(p,c)||e(f,c)||e(g,c))_[y]=a(c);else{if(!v.p)throw Error(i+" missing "+c);v.p.load(v.n,n(l,!0),o(c),{}),_[y]=p[c]}m=r.apply(p[i],_),i&&(u&&u.exports!==t&&u.exports!==p[i]?p[i]=u.exports:m===t&&b||(p[i]=m))}else i&&(p[i]=r)},requirejs=require=c=function(e,i,n,s,o){return"string"==typeof e?h[e]?h[e](i):a(d(e,i).f):(e.splice||(m=e,i.splice?(e=i,i=n,n=null):e=t),i=i||function(){},"function"==typeof n&&(n=s,s=o),s?u(t,e,i,n):setTimeout(function(){u(t,e,i,n)},15),c)},c.config=function(t){return m=t,c},define=function(t,i,n){i.splice||(n=i,i=[]),e(p,t)||e(f,t)||(f[t]=[t,i,n])},define.amd={jQuery:!0}})(),function(t){odesk.mediator=function(){return{isMediator:!0,widgets:{},registerWidget:function(t,e){if("object"==typeof t){for(var i in t)this.registerWidget(i,t[i]);return this}if(!e||!t)throw Error("key/widget cannot be null");if(!(e instanceof odesk.AbstractWidget))throw Error("widget must extend odesk.AbstractWidget");return e.ctx.mediator=this,e.ctx.key=t,this.widgets[t]=e,this},removeWidget:function(t){return delete this.widgets[t],this},publish:function(e){return odesk.logger.say("published: "+e),t(this).triggerHandler(e,Array.prototype.slice.call(arguments,1)),this},subscribe:function(e,i){return t(this).bind(e,i),odesk.logger.say("subscribed: "+e),this},unsubscribe:function(e,i){return t(this).unbind(e,i),odesk.logger.say("unsubscribed: "+e),this},destroyWidgets:function(){var t=this.widgets;for(var e in t)t[e].destroy();return this}}}()}(jQuery),function(t){var e,i={},n={};odesk.Class=function(){var s=arguments[arguments.length-1];(!s||s instanceof odesk.Class||"object"!=typeof s)&&(s={});var o=arguments[0];o&&"string"==typeof o||(o="");var a=o?arguments[1]:arguments[0];!a||"string"==typeof a||a.prototype instanceof odesk.Class||(a=null);var r;if(a&&(r="string"==typeof a?i[a]:a,!r))return n[a]=arguments,odesk.logger&&odesk.logger.say("parent class: "+a+" not exists"),void 0;var l=function(e){for(var i in e){var n=e[i],s=Object.prototype.toString.call(n);e[i]="[object Array]"==s?t.extend(!0,[],n):"[object Object]"==s?t.extend(!0,{},n):n}},u=function(e,i,n,s){e[n]="function"==typeof s?e[n]&&"function"==typeof e[n]&&i&&i.hasOwnProperty(n)?function(t,e){return function(){return this._super=i[t],e.apply(this,arguments)}}(n,s):s:"object"==typeof s&&i&&"object"==typeof i[n]?t.extend(!0,{},i[n],s):s},c=function(){return l(this),e||(this._create&&this._create.apply(this,arguments),this.init&&this.init.apply(this,arguments)),this},d=o.split(".");if(o){i[o]=c;for(var h=window,p=0,f=d.length-1;f>p;p++)h=h[d[p]];h[d[d.length-1]]=c}var m;if(r){for(m in r)c[m]=r[m];e=!0,c.prototype=new r,e=!1}else c.prototype=this;c.prototype.Class=c,c.prototype.constructor=c;for(m in s)if(s.hasOwnProperty(m)){var g=s[m];if("Static"==m){for(var v in g)u(c,r,v,g[v]);delete s[m]}u(c.prototype,r?r.prototype:null,m,g)}return c.shortName=d[d.length-1],c.fullName=o,c.className=o,n[o]&&(new odesk.Class(n[o][0],n[o][1],n[o][2]),delete n[o]),c}}(jQuery),odesk.abstractPageController=$.extend(!0,{},odesk.mediator,{name:"pageController",config:odesk.pageConfig,getPageState:function(){var t={},e=this.widgets;for(var i in e){var n=e[i];t[i]=n.getState()}return t},init:$.noop,_registerPreLoadedWidgets:function(){var t=odesk.preLoadedWidgets;for(var e in t){var i=t[e];this.registerWidget(e,i)}return this},initPageController:function(){return $(window).bind("unload",$.proxy(function(){this.destroyWidgets()},this)),this._registerPreLoadedWidgets().init(),this},popupCallBack:function(t){$(window).trigger("oauth-popup-callback",t)}}),function(t){new odesk.Class("odesk.AbstractWidget",{_create:function(){this.ctx={mediator:{publish:t.proxy(function(t,e){if(this.trigger){var i;for(var n in this.events)this.events[n]==t&&(i=n);this.trigger(i,e)}},this)}},this.options=this.options||{},this.events={};var e=this.constructor.instance;this.name=this.constructor.shortName.replace(/^(.)/,function(t,e){return e.toLowerCase()})+(e||""),this.constructor.instance?this.constructor.instance++:this.constructor.instance=1},init:t.noop,getState:t.noop,destroy:t.noop})}(jQuery),odesk.events=function(){return{makeMap:function(t,e){for(var i={},n=0,s=e.length;s>n;n++){var o=e[n];i[o]=o+"."+t}return i}}}(),odesk.uuid=function(){var t=1;return{getUniqueId:function(){return t++}}}(),odesk.env=function(){var t=odesk.pageConfig,e=t.ROOT||"";return{CONSOLE_ROOT:e,CONSOLE_ROOT_SECURE:e.replace(/^http:/,"https:"),COOKIE_PREFIX:t.COOKIE_PREFIX,COOKIE_DOMAIN:t.COOKIE_DOMAIN,API_ROOT:"/api/",OCA_ROOT:"/oca/",GDS_ROOT:"/gds/",COMMUNITY_ROOT:e+"drupal/",HELPCMS_ROOT:t.HELPCMS_ROOT,TOP_HELP_TOPIC:t.TOP_HELP_TOPIC,URCHIN_ID:t.URCHIN_ID,USER_MAX_FILE_UPLOAD:t.USER_MAX_FILE_UPLOAD,USER_MAX_UPLOADING_WIDTH:t.USER_MAX_UPLOADING_WIDTH,USER_MAX_UPLOADING_HEIGHT:t.USER_MAX_UPLOADING_HEIGHT,DISABLE_GAET_TRACKING:!1,ZENDESK_HOMEPAGE_URL:t.ZENDESK_HOMEPAGE_URL,AJAX_TIMEOUT:t.AJAX_TIMEOUT}}(),jQuery.cookie=function(t,e,i){if(void 0===e){var n=null;if(document.cookie&&""!=document.cookie)for(var s=document.cookie.split(";"),o=0;s.length>o;o++){var a=jQuery.trim(s[o]);if(a.substring(0,t.length+1)==t+"="){n=decodeURIComponent(a.substring(t.length+1));break}}return n}i=i||{},null===e&&(e="",i.expires=-1);var r="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var l;"number"==typeof i.expires?(l=new Date,l.setTime(l.getTime()+1e3*60*60*24*i.expires)):l=i.expires,r="; expires="+l.toUTCString()}var u=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",d=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),r,u,c,d].join("")},function(t){function e(){var t=document.querySelectorAll("[data-fill]"),e=0,n=t.length;for(e=0;n>e;e++)i(t[e])}function i(t){var e=t.getAttribute("data-fill");e="random"===e?"#"+Math.floor(16777215*Math.random()).toString(16):e;var i=window.getComputedStyle(t),n=i.backgroundImage;if("none"!=n){var s,o=n.replace(/^.+base64,/,"").replace(/\"?\)$/,""),a=window.atob(o),r=a.match(/fill="/);if(r&&r.length)s=a.replace(/fill="#[A-Za-z0-9]+"/,'fill="'+e+'"');else{for(var l=new DOMParser,u=l.parseFromString(a,"text/xml"),c=u.childNodes,d=0;c.length>d;d++)1===c[d].nodeType&&c[d].setAttribute("fill",e);s=(new XMLSerializer).serializeToString(u)}var h=window.btoa(s),p="url('data:image/svg+xml;base64,"+h+"')";t.style.backgroundImage=p}}t.fillerup=e,e()}(window),odesk.logger={disabled:!0,_maxSaves:3,_savesTried:0,say:function(t,e){odesk.logger.disabled||(e?console.log(t,e):console.log(t))},save:function(t,e,i,n,s){e&&(this._savesTried>=this._maxSaves||(this._savesTried++,odesk.ajax({url:"/error/java-script-error",type:"POST",timeoutSilently:!0,cache:!1,data:{message:t,url:window.location.href,file:e,line:i,col:n,trace:s?s.stack:""}})))}},window.onerror||window.QUnit||(window.onerror=odesk.logger.save.bind(odesk.logger)),function(t){var e=[],i=0,n={},s={fn:[],data:[]},o=function(){return++i},a=function(t,i){e.push({id:t,fn:i})},r=function(){var t=e.shift();if(t&&"inprogress"===t.fn&&(t=e.shift()),t){var i=t.fn;e.unshift({id:0,fn:"inprogress"}),i.call(this)}},l=function(e,i){var n=t.template(null,'<div class="ws_dbg"><hr/>web service: ${webService}<br/><br/>branch: <b>${branch}</b> built on ${branchBuild}<br/>host: ${host}<br/><br/>total: ${totalTime}ms<br/>- rpc: ${rpcTime}ms (${(100*rpcTime/totalTime).toFixed()}%)<br/>- delta/php: ${phpTime}ms (${(100*phpTime/totalTime).toFixed()}%)<br/><br/><table class="dbg"><tr><th>Type</th><th>Module</th><th>Percent</th><th>Duration</th></tr><tr><td>WS</td><td>TOTAL</td><td></td><td>${rpcTime}ms</td></tr>{{each(i, api) apis}}<tr><td>${api.type}</td><td>${api.module}</td><td>${(api.duration*100/rpcTime).toFixed(1)}%</td><td>${api.duration}ms</td></tr>{{/each}}</table><br/><br/><a onclick="jQuery(\'#${detailsId}\').toggle(); return false;" href="#">details...</a><br/><div id="${detailsId}" style="display:none;"><table class="dbg"><tr><th>Type</th><th>Module</th><th>Params</th><th>Duration</th></tr><tr><td>WS</td><td>TOTAL</td><td></td><td>${rpcTime}ms</td></tr>{{each(i, api) apis}}<tr><td>${api.type}</td><td>${api.module}</td><td><pre>${odesk.string.obj2String(api.params)}</pre></td><td>${api.duration}ms</td></tr>{{/each}}</table></div></div>'),s={webService:i,branch:e.branch.tag,branchBuild:e.branch.build,host:e.host,totalTime:parseInt(e.runtime.substr(0,e.runtime.length-2),10),rpcTime:parseInt(e.log.total,10),phpTime:parseInt(e.php.substr(0,e.php.length-2),10),apis:e.log.apis,detailsId:"ws_performance_details_"+(new Date).getTime()},o=t("div.ws_dbg:last");if(o.length)return t.tmpl(n,s).insertAfter(o),void 0;var a=t("div.dbg:last");return a.length?(t.tmpl(n,s).insertAfter(a),void 0):(t.tmpl(n,s).appendTo("body"),void 0)},u=function(t){return!t||0===t.status},c=function(e){var i=e.type||t.ajaxSettings.type;e.data&&e.data.perf!==void 0&&delete e.data.perf;var n="string"==typeof e.data?e.data:t.param(e.data||{});return i+e.url+n},d=function(t,e,i,o,a,r){if(!u(a)){var l=c(r);!n[l]&&i&&i.server_time&&odesk.date&&(odesk.date.serverTime=1e3*i.server_time,odesk.date.browserTime=new Date),r.cacheResponse&&!n[l]&&(n[l]={id:[r.id],status:a.status,statusText:a.statusText,responseText:a.responseText,responseXML:a.responseXML,_successData:i}),r.sync?s.data[r.syncPos].success=[i,o,a]:e.call(t,i,o,a)}},h=function(e,i,n,o,a){if("timeout"===o&&(a.timeoutCallback(n,o,a),a.timeoutRetries>0&&(a.timeoutRetries--,odesk.ajax(a))),u(n)){var l="abort";return a.abort.call(e,n,l,a),void 0}if(a.queue&&r.call(e),a.sync){var c=s.fn,d=s.data;if(d[a.syncPos].complete=[n,o],c[a.syncPos].done=!0,0===a.syncPos||!c[a.syncPos-1])for(var h=a.syncPos;c.length>h&&c[h].done;h++)c[h].error&&c[h].error.apply(t,d[h].error),c[h].success&&c[h].success.apply(t,d[h].success),c[h].complete&&c[h].complete.apply(t,d[h].complete),c[h]=null,d[h]=null}else i.call(e,n,o)},p=function(e){if(e.perf=e.perf||!1,e.perf||t("div.dbg").length){e.data=e.data||{},e.data.perf=1;var i=e.success;e.success=function(t){i&&i.apply(this,arguments),t&&t.performance&&l(t.performance,e.url)}}};odesk.escapeRawData=function(e){return e?("string"==typeof e?e=odesk.string.pxss(e):t.each(e,function(t,i){var n=typeof i;i&&"object"===n?odesk.escapeRawData(i):"string"===n&&(e[t]=odesk.string.pxss(i))}),!0):!1},odesk.ajax=function(e){function i(i){t.each(e.rawValues,function(t,e){l.push(Function("data","try { return data."+e+"} catch(e) {}")(i))}),l=t.extend(!0,[],l)}function s(i){t.each(l,function(t,n){Function("data","value","try { data."+e.rawValues[t]+" = value } catch(e) {}")(i,n)})}var o,a=e.complete||t.noop,r=e.success||t.noop,l=[],u=!(!e.rawValues||!e.rawValues.length||-1==e.rawValues[0]),f=!(!e.rawValues||!e.rawValues.length||-1!=e.rawValues[0]),m=odesk.pageConfig&&odesk.pageConfig.CSRF_TOKEN?{"X-Odesk-Csrf-Token":odesk.pageConfig.CSRF_TOKEN}:null,g={"X-Odesk-User-Agent":"oDesk LM"};e.abort=e.abort||t.noop,e.timeout=e.timeout||odesk.env.AJAX_TIMEOUT||8e3,e.timeoutSilently=e.timeoutSilently||!1,e.defaultMessageDelay=2e3,e.warnMsgDelay=4e3,e.timeoutRetries=parseInt(e.timeoutRetries,10)||0,e.timeoutCallback=e.timeoutCallback||function(t,e,i,n){if(odesk.logger.save("AJAX call to "+i.url+" timed out","timeout",i.timeout),!i.timeoutSilently&&odesk.loading){var s=i.timeoutRetries>0?" Retrying!":"please try again...";odesk.loading.flash("This is taking longer than expected, hang on..."+s,n||i.defaultMessageDelay)}},m&&(e.headers=e.headers?t.extend(e.headers,m):m),e.headers=e.headers?t.extend(e.headers,g):g,setTimeout(function(){e.timeoutSilently||"object"!=typeof o||4===o.readyState||odesk.loading.setText("Request is taking a bit longer than expected...",e.defaultMessageDelay)},e.warnMsgDelay),e.success=function(t,n,o){u&&i(t),f||odesk.escapeRawData(t),u&&s(t),d(this,r,t,n,o,e)},e.complete=function(t,i){h(this,a,t,i,e)};var v,y=c(e),b=e.cacheResponse&&n[y];return b?(setTimeout(function(){e.success.call(this,b._successData,"success",b),e.complete.call(this,b,"success")},0),v=t.Deferred(),setTimeout(function(){v.resolve(b._successData,b.status,b)},0),v):(p(e),o=t.ajax(e),o.fail(function(i){var n=odesk.escapeRawData(t.parseJSON(i.responseText));n&&n.error!==void 0&&412===n.error.status&&0===n.error.code&&odesk.loading&&odesk.loading.flash("Sorry, there seems to be a problem with your session. Please log out & log back in...",2*e.defaultMessageDelay)}),o)},odesk.ajaxPattern={statusMessage:function(t,e,i,n,s){n&&void 0!==n||(n="Loading..."),odesk.loading.show(n,!0),odesk.ajax({url:t,data:e,async:!0,type:"post",success:function(t){"success"===t.status?(s&&void 0!==s||odesk.loading.hide(),i(t)):(odesk.loading.hide(),new odesk.Showbox({title:t.status,message:t.message,type:"error",timeout:!1}).show())},error:function(){odesk.loading.hide(),new odesk.Showbox({title:"Error",message:"Oops! We ran in to a server error. Please try again later.",type:"error",timeout:5e3}).show()}})}},t.extend(odesk.ajax,{addToQueue:function(i){var s=i.complete||t.noop,l=i.success||t.noop;i.abort=i.abort||t.noop,i.queue=!0,i.id=o(),i.success=function(t,e,n){d(this,l,t,e,n,i)},i.complete=function(t,e){h(this,s,t,e,i)};var u=0===e.length;return a(i.id,function(){var e=c(i),s=!(!i.cacheResponse||!n[e]);s?(n[e].id.push(i.id),setTimeout(function(){i.success.call(this,n[e]._successData,"success",n[e]),i.complete.call(this,n[e],"success")},0)):(p(i),t.ajax(i))}),u&&r(),i.id},removeFromQueue:function(t){for(var i=0;e.length>i;i++)if(e[i].id==t)return e.splice(i,1),!0;return!1},emptyQueue:function(){return e=[],!0},ajaxSync:function(e){var i=s.fn,a=s.data,r=i.length;i[r]={error:e.error,success:e.success,complete:e.complete,done:!1},a[r]={error:[],success:[],complete:[]},e.error=function(){a[r].error=arguments},e.abort=e.abort||t.noop,e.sync=!0,e.syncPos=r;var l,u=c(e),f=!(!e.cacheResponse||!n[u]);return f||(e.id=o()),e.success=function(t,i,n){d(this,null,t,i,n,e)},e.complete=function(t,i){h(this,null,t,i,e)},f?(setTimeout(function(){e.success.call(this,n[u]._successData,"success",n[u]),e.complete.call(this,n[u],"success")},0),l=n[u].id[0]):(p(e),t.ajax(e),l=e.id),l},removeFromCache:function(t){for(var e in n)for(var i=0;n[e].id.length>i;i++)if(n[e].id[i]==t)return delete n[e],!0;return!1},emptyCache:function(){return n={},!0}})}(jQuery),function(t){"use strict";var e,i,n,s;odesk.poll=function(o){function a(t){var e=Modernizr.prefixed("hidden",document)?a:odesk.poll;i&&clearTimeout(i),i=setTimeout(function(){e(t)},1e3)}function r(t){return Math.round(Math.random()*500*Math.pow(2,t))}function l(t,e){var o=Modernizr.prefixed("hidden",document)?a:odesk.poll;return i&&clearTimeout(i),s>t.pollMaxFailedAttempts?(console.error("Polling terminated due to exceeding max failed attempts..."),void 0):(-1!==t.pollLoops&&(n+=1,n>=t.pollLoops)||e&&(i=setTimeout(function(){o(t)},e)),void 0)}var u=odesk.ajax||t.ajax;o.pollDelay=o.pollDelay||6e4,o.pollLoops=o.pollLoops||-1,o.pollMaxFailedAttempts=o.pollMaxFailedAttempts||10,n=n||0,s=s||0,e=u(o),"function"==typeof o.pollDone&&e.done(o.pollDone),"function"==typeof o.pollFail&&e.fail(o.pollFail),e.done(function(){s=0,l(o,o.pollDelay)}),e.fail(function(){s++,l(o,r(s))})}}(jQuery),odesk.object=function(){return{getKeys:function(t){if(!(t instanceof Object))return[];var e=[];for(var i in t)e.push(i);return e},getValues:function(t){if(!(t instanceof Object))return[];var e=[];for(var i in t)e.push(t[i]);return e},values2Hash:function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=!0);return e}}}(),odesk.string=function(){var t=function(t,e){for("string"!=typeof t&&(t=t?""+t:"0");(e||2)>t.length;)t="0"+t;return t};return{nl2br:function(t){return t?t.replace(/\n/g,"<br />"):""},procEntity:function(t){return t?t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\$/g,"&#36;"):""},decodeEntity:function(t){return t?t.replace(/&quot;/g,'"').replace(/&#0?39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#0?36;/g,"$").replace(/&amp;/g,"&"):""},procXssEntity:function(t){return t?t.replace(/<(\/)?script[^>]*>/gi,""):""},pxss:function(t){return this.procEntity(this.procXssEntity(t))},escapeHTML:function(t){return $("<div>").html(t).text()},wordWrap:function(t,e,i){var n=RegExp("\\S{"+e+",}","gm"),s=""+t,o=t.match(n);if(o){for(var a,r,l=o.length;--l>=0;l){r=0,a=[];do a.push(o[l].substr(r,e)),r+=e;while(o[l].length>r);s=s.replace(o[l],a.join(i||"\n"))}return s}return t},obj2String:function(t,e){var i=odesk.json.stringify(t);return e?e+i:i},substitute:function(t,e){return t.replace(/\{(.*?)\}/g,function(t,i){return null!=e[i]?e[i]:t})},groupDigits:function(t,e){e=$.extend({decimalSymbol:".",digitGroupSymbol:",",groupDigits:!0,round:-1,decimalZeros:0,errorValue:""},e);var i="";if(t=Number(t),isNaN(t))return e.errorValue;e.round>=0&&(t=odesk.math.roundToPrecision(t,e.round));var n=Math.floor(t)+"",s=t+"";if(n!==s){var o=n.length+1,a=s.length-o;e.round>=0&&a>e.round&&(a=e.round),i=s.substr(o,a)}for(;i.length>e.decimalZeros&&"0"===i.charAt(i.length-1);)i=i.substring(0,i.length-1);for(;i.length<e.decimalZeros;)i+="0";if(i.length&&(i=e.decimalSymbol+i),s=s.substring(0,n.length),e.groupDigits)for(var r=0;Math.floor((s.length-r-1)/3)>r;r++){var l=s.length-(4*r+3);s=s.substring(0,l)+e.digitGroupSymbol+s.substring(l)}return s+i},clearNumber:function(t){return parseFloat((t+"").replace(/\,/g,""))},floatToTime:function(t,e){var i=parseInt(t,10),n=0;return n=e?Math.round(10*Math.round(60*(parseFloat(t)-i)/10)):Math.round(60*(parseFloat(t)-i)),60==n&&(n=0,i++),this.groupDigits(i)+":"+("00"+n).slice(-2)},fmtSize:function(t){"number"!=typeof t&&(t=parseInt(t,10));var e,i,n=1024,s=1048576,o=10485760;return n>=t?(e=t||0,i="B"):t>n&&o>t&&0!==t%s?(e=Math.round(t/n),i="KB"):(e=Math.round(t/s),i="MB"),e+i},cutStr:function(t,e,i){return(t||"").length>e?t.substr(0,e)+(i||"&hellip;"):t},capitalize:function(t,e){if("string"!=typeof t)return"";e=e||" ",t=t.toLowerCase();for(var i=t.split(e),n=i.length,s=[],o=0;n>o;o++)s.push(i[o].substring(0,1).toUpperCase()+i[o].substring(1));return s.join(e)},sprintf:function(){for(var e,i,n,s,o,a=0,r=arguments[a++],l=[];r;){if(i=/^[^\x25]+/.exec(r))l.push(i[0]);else if(i=/^\x25{2}/.exec(r))l.push("%");else if(i=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:[\.](\d+))?([b-ftosuxX])/.exec(r)){if(e=arguments[i[1]||a++],null==e)throw"Too few arguments.";if(/[^s]/.test(i[7])&&"number"!=typeof e)throw"Expecting number but found "+typeof e;switch(i[7]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e,10);break;case"e":e=i[6]?e.toExponential(i[6]):e.toExponential();break;case"f":e=i[6]?parseFloat(e).toFixed(i[6]):parseFloat(e);break;case"t":var u=parseInt(e,10),c=100*(parseFloat(e)-u).toFixed(i[6]);e=t(u,i[3])+":"+t(c,i[6]);break;case"o":e=e.toString(8);break;case"s":e+="",e=e&&i[6]?e.substring(0,i[6]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(i[7])&&i[2]&&e>0?"+"+e:e,s=i[3]?"0"==i[3]?"0":i[3].charAt(1):" ",o=i[5]-(e+"").length,n="",l.push(i[4]?e+n:n+e)}r=r.substring(i[0].length)}return l.join("")},escapeRegExp:function(t){return t.replace(/[\$\(\)\{\}\|\-\+\^\*\?\.\/\\]/g,"\\$&")},accurateCut:function(t,e,i){var n=i||"&hellip;";if(!(t.length>e))return t;var s,o,a=t.length;for(s=o=e;;)if(!(t.charAt(s).match(/\w/)&&a>++s))break;for(;;)if(!(t.charAt(o).match(/\w/)&&--o>0))break;return t.length>s||o>0?(s-e>e-o?t.substr(0,o):t.substr(0,s))+n:s!=t.length||o?s==t.length&&o>0?t.substr(0,o)+n:t.length>s&&!o?t.substr(0,s)+n:void 0:odesk.string.cutStr(t,e,n)},formatTeaser:function(t,e){var i=t.length>e;return i&&(t=t.substr(0,e)),t=this.procEntity(t).replace(/[ ]{2}/g,"&nbsp;&nbsp;").replace(/&nbsp; /g,"&nbsp;&nbsp;"),i&&(t+="&nbsp;&hellip;"),t},formatAmount:function(t){return parseFloat(t.replace(/[\,\-](\d\d)$/,".$1").replace(/[\'\.\,\s](\d{3})/g,"$1"))||0},removeExtraSpaces:function(t){return $.trim(t.replace(/\s+/g," "))},tmplFix:function(t){return t.replace(/&(?!(?:amp|lt|gt|quot|#(?:x[0-9a-f]{0,6}|[0-9]{0,8}));)/gi,"&amp;")},hashCode:function(t,e){var i,n=0,s=0,o=t.length;if(!o)return n;for(;o>s;s++)i=t.charCodeAt(s),n=(n<<5)-n+i,n&=n;return Math.abs(n).toString(e?16:10)}}}(),odesk.timers=function(){var t={},e=0,i=function(e){delete t[e]},n=function(e,s){t[e]&&(t[e].func.apply(null,t[e].arg||[]),!s&&t[e].loop?t[e].id=setTimeout(function(){n(e)},t[e].timeout):void 0===t[e].loop&&i(e))};return{add:function(i,s,o,a,r,l){var u=r||e++;return t[u]={id:setTimeout(function(){n(u)},i),func:s,arg:o,loop:a,timeout:i},l&&n(u),u},restart:function(e,i,s){return t[e]?(clearTimeout(t[e].id),t[e].id=setTimeout(function(){n(e)},t[e].timeout),(i===!1||i)&&(t[e].func=i||null),t[e].arg=s||null,e):!1},refine:function(e,i,s){return t[e]?(clearTimeout(t[e].id),t[e].id=setTimeout(function(){n(e)},t[e].timeout=i),void 0!==s&&(t[e].loop=s),!0):!1},stop:function(e){return t[e]&&clearTimeout(t[e].id),i(e),!0}}}(),odesk.array=function(){return{obj2Array:function(t){return t instanceof Array?t:[t]},shuffle:function(t){for(var e,i,n=t.length;n;e=parseInt(Math.random()*n,10),i=t[--n],t[n]=t[e],t[e]=i);return t},remove:function(t,e){var i=t.indexOf(e);return i>-1&&(t=t.slice(0,i).concat(t.slice(i+1))),t}}}(),function(t){odesk.date=function(){var e=function(t,e){for("string"!=typeof t&&(t=t?""+t:"0");(e||2)>t.length;)t="0"+t;return t};return{defaultFormat:"%d/%m/%Y",serverTime:odesk.pageConfig.SERVER_TIME||(new Date).getTime(),browserTime:new Date,now:function(t){return t=1*(t||0),new Date(this.serverTime+(new Date-this.browserTime)+t)},utcToLocal:function(t){return new Date(t.getTime()+6e4*t.getTimezoneOffset())},localToUtc:function(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset())},getDayName:function(e,i){return i?t.datepicker.regional[""].dayNamesShort[e.getUTCDay()]:t.datepicker.regional[""].dayNames[e.getUTCDay()]},getMonthName:function(e,i){return i?t.datepicker.regional[""].monthNamesShort[e.getUTCMonth()]:t.datepicker.regional[""].monthNames[e.getUTCMonth()]},set:function(t,e){var i={year:"setUTCFullYear",month:"setUTCMonth",day:"setUTCDate",hour:"setUTCHours",minute:"setUTCMinutes",second:"setUTCSeconds",millisecond:"setUTCMilliseconds"},n={timezone:"setTimezone",timezoneOffset:"setTimezoneOffset",week:"setWeek"};for(var s in e)n[s]?t=this[n[s]](t,e[s]):t[i[s]](e[s]);return t},moveToMonth:function(t,e,i){var n=(e-t.getUTCMonth()+12*(i||1))%12;return this.addMonths(t,0===n?n+=12*(i||1):n)},moveToDayOfWeek:function(t,e,i){i||(i=1);var n=(e-t.getUTCDay()+7*i)%7;return this.addDays(t,0===n?n+=7*i:n)},moveToFirstDayOfMonth:function(t){return this.set(t,{day:1})},moveToLastDayOfMonth:function(t){return this.set(t,{day:this.getDaysInMonth(t)})},isWeekend:function(t){var e=t.getUTCDay();return 0===e||6===e},addDays:function(t,e){return t.setUTCDate(t.getUTCDate()+1*e),t},addWeeks:function(t,e){return this.addDays(t,7*e)},addMonths:function(t,e){var i=t.getUTCDate();return t.setUTCDate(1),t.setUTCMonth(t.getUTCMonth()+1*e),t.setUTCDate(Math.min(i,this.getDaysInMonth(t))),t},addYears:function(t,e){return this.addMonths(t,12*e)},clone:function(t){return new Date(t.getTime())},UTCDate:function(t,e,i,n,s,o,a,r){if(e&&!i&&!n){var l=(""+e).match(/^(\d{4})(\d{2})(\d{2})$/);e=l[1],i=parseInt(l[2],10)-1,n=l[3]}return t.setUTCFullYear(e,i,n),null!=s&&t.setUTCHours(s),null!=o&&t.setUTCMinutes(o),null!=a&&t.setUTCSeconds(a),null!=r&&t.setUTCMilliseconds(r),t},setWeek:function(t,e,i){return i||(i=t.getUTCFullYear()),t.setTime(0),t.setUTCFullYear(i),t.setUTCMonth(0),t.setUTCDate(1),t.setUTCDate(7*e-(t.getUTCDay()-2)),t},getWeek:function(e){return t.datepicker.iso8601Week(this.utcToLocal(e))},resetWeekDay:function(t){return t.setUTCDate(t.getUTCDate()-(0===t.getUTCDay()?6:t.getUTCDay()-1)),t},resetMonth:function(t){return t.setUTCMonth(0),this.resetDate(t),t},resetDate:function(t){return t.setUTCDate(1),this.resetTime(t),t},resetTime:function(t){return t.setUTCHours(0),this.resetMinutes(t),t},zeroTime:function(t){return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},resetMinutes:function(t){return t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},resetSeconds:function(t){return t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},setLastDateOfMonth:function(t){return t.setUTCMonth(t.getUTCMonth()+1),t.setUTCDate(0),t},inc:function(t,e,i){"string"!=typeof e&&(e=""+e);var n=e.match(/^(-|\+)?(\d+)([dwMyhtms])?$/),s="-"!=n[1];switch(e=s?+parseInt(n[2],10):-parseInt(n[2],10),n[3]){case"d":t.setUTCDate(t.getUTCDate()+e);break;case"w":t.setUTCDate(t.getUTCDate()+7*e);break;case"m":t.setUTCMonth(t.getUTCMonth()+e),i&&this.resetDate(t);break;case"y":t.setUTCFullYear(t.getUTCFullYear()+e),i&&this.resetMonth(t,0);break;case"h":t.setUTCHours(t.getUTCHours()+e),i&&this.resetMinutes(t);break;case"M":t.setTime(t.getTime()+6e4*e);break;case"s":t.setTime(t.getTime()+1e3*e);break;default:t.setTime(t.getTime()+e)}return t},daysInMonth:function(t,e,i){return this.UTCDate(new Date,i||t.getUTCFullYear(),(e||t.getUTCMonth())+1,0).getUTCDate()},getDaysInMonth:function(t){return this.daysInMonth(t,t.getUTCMonth(),t.getUTCFullYear())},setTimezone:function(t,e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),t.tzoffset=e,e&&(t.setTime(t.getTime()+e),t.setUTCMilliseconds(0)),t},floor10:function(t){return t.setUTCMinutes(10*Math.floor(t.getUTCMinutes()/10)),t},ceil10:function(t){return t.setUTCMinutes(10*Math.ceil(t.getUTCMinutes()/10)),t},formatTz:function(t,i){if(!t)return"UTC+00";var n=t>0?"+":"-";t=Math.abs(t);var s=Math.floor(t/1e3/60/60),o=t/1e3/60-60*s;return"UTC"+(0!==t?n+e(s,2)+(i&&!o?"":":"+e(o,2)):"+00")},parseDate:function(e,i){return this.localToUtc(t.datepicker.parseDate(i||"yymmdd",e))},formatDate:function(e,i){return e?t.datepicker.formatDate(i,this.utcToLocal(e)):""},sparse:function(t){var e=new Date;if(t instanceof Date)return e.setTime(t.getTime()),t.tzoffset&&(e.tzoffset=t.tzoffset),this;if("string"!=typeof t){if(null==t)return;t=""+t}if(t.match(/^now$/i))return e;var i=t.match(/^(\d{4})\-?(\d{2})\-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})Z$/);if(i)e.setUTCHours(i[4],i[5],i[6]),e.setUTCFullYear(i[1],i[2]-1,i[3]);else if(i=t.match(/^(\-?\d+)(u|m|s)$/))switch(e.setTime(0),i[2]){case"m":e.setUTCMinutes(i[1]);break;case"s":e.setUTCSeconds(i[1]);break;case"u":e.setTime(i[1]+"000")}else i=t.match(/^\-?\d+$/),i?e.setTime(i[0]):(i=t.match(/^(\d{1,2}):?(\d{2}):?(\d{2})?$/),i?e.setUTCHours(i[1],i[2]||0,i[3]||0):(i=t.match(/^(\d{4}).(\d{2}).(\d{2})|(\d{4})(\d{2})(\d{2})d|(\d{2}).(\d{2}).(\d{4})$/),i&&(e.setUTCFullYear(i[1]||i[4]||i[9],(i[2]||i[5]||i[7])-1,i[3]||i[6]||i[8]),this.resetTime(e))));return e},format:function(t,i,n){var s,o,a,r,l,u,c="";for(n&&("number"!=typeof n&&(n=parseInt(n,10)),l=t.getTime(),t.setTime(t.getTime()+n)),i||(i="%u");;){if(r=i.match(/(%[AbBYymdDHkahIMsSrRuTtqlLwWfnzKE])/),!r)break;switch(r[1]){case"%Y":c=t.getUTCFullYear();break;case"%y":c=(""+t.getUTCFullYear()).substr(2);break;case"%m":c=e(t.getUTCMonth()+1,2);break;case"%d":c=e(t.getUTCDate(),2);break;case"%D":c=t.getUTCDate();break;case"%A":c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getUTCDay()];break;case"%b":c=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getUTCMonth()];break;case"%B":c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getUTCMonth()];break;case"%w":c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getUTCDay()];break;case"%W":c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getUTCDay()];break;case"%H":c=864e5==t.getTime()?"24":e(t.getUTCHours(),2);break;case"%k":c=864e5==t.getTime()?"24":t.getUTCHours();break;case"%q":c=e(Math.floor(t.getTime()/36e5));break;case"%a":c=t.getUTCHours()>11?"pm":"am";break;case"%h":c=(o=t.getUTCHours())>12?o-12:0===o?12:o;break;case"%I":c=e((o=t.getUTCHours())>12?o-12:0===o?12:o,2);break;case"%M":c=e(t.getUTCMinutes(),2);break;case"%s":c=e(t.getUTCSeconds(),2);break;case"%S":c=t.getTime();break;case"%r":var d=new Date;d.setTime(t.getTime()),this.resetMinutes(d),c=d.getTime();break;case"%R":d=new Date,d.setTime(t.getTime()),d.setUTCHours(t.getUTCHours()+(t.getUTCMinutes()>0?1:0),0,0),c=d.getTime();break;case"%T":d=new Date,d.setTime(t.getTime()),d.setUTCMinutes(10*Math.floor(d.getUTCMinutes()/10)),d.setUTCSeconds(0),c=d.getTime();break;case"%t":d=new Date,d.setTime(t.getTime()),this.ceil10(d),this.resetSeconds(d),c=d.getTime();break;case"%u":c=t.getUTCFullYear()+e(t.getUTCMonth()+1,2)+e(t.getUTCDate(),2)+"T"+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z";break;case"%l":var h;d=new Date,n&&d.setTime(d.getTime()+n),h=Math.floor((d.getTime()-t.getTime())/1e3/60),c=this.format(t,"%Y%m%d")==this.format(d,"%Y%m%d")?this.format(t,"%h:%M %a"):d.getUTCFullYear()==t.getUTCFullYear()?this.format(t,"%B %d"):this.format(t,"%m/%d/%Y");break;case"%K":u=this.clone(t),this.setTimezone(u,-(6e4*u.getTimezoneOffset()));case"%E":var p=!0;case"%L":var f,m;switch(d=this.now(),n&&d.setTime(d.getTime()+n),u||(u=t),m=Math.floor((d.getTime()-t.getTime())/1e3/60),!0){case this.format(t,"%Y%m%d")==this.format(d,"%Y%m%d"):f=this.formatMinutesInWords(m),c=p?this.format(u,"%h:%M%a ("+f+")"):f;break;case this.format(t,"%Y%m%d")==this.format(this.inc(this.clone(d),"-1d"),"%Y%m%d")&&1440>m:f=this.formatMinutesInWords(m),c=p?"yesterday ("+f+")":f;break;case 43200>=m:var g;if(p){var v=this.zeroTime(this.clone(d)),y=this.zeroTime(this.clone(u));g=Math.floor((v.getTime()-y.getTime())/864e5)}else g=Math.floor(m/1440);f=2>g?"1 day ago":g+" days ago",c=p?this.format(u,"%B %D ("+f+")"):f;break;case 525600>m:a=Math.floor(m/43200),f=a+" month"+(a>1?"s":"")+" ago",c=p?this.format(u,"%B %D ("+f+")"):f;break;default:c=this.format(u,"%m/%d/%Y")}break;case"%f":t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+6)),c="";break;case"%n":c=this.getWeek(t,1);break;case"%z":c=this.formatTz(n||0);break;default:c=""}s=RegExp(r[1]),i=i.replace(s,c)}return n&&t.setTime(l),i},getDayOfWeek:function(t){var e=t.getUTCDay()-1;return 0>e&&(e=6),e},getWeeks:function(t,e,i){var n=this.zeroTime(this.clone(t)),s=this.zeroTime(this.clone(e)),o=this.getDayOfWeek(n),a=this.getDayOfWeek(s);
i&&(o&&(this.moveToDayOfWeek(n,1,-1),o=0),6!=a&&(this.moveToDayOfWeek(s,0),a=6)),i&&o&&(this.moveToDayOfWeek(n,1,-1),o=0);for(var r=6-o,l={labels:[],startDates:[],endDates:[]},u=!1,c=this.clone(n);!u;){var d=this.clone(c);this.addDays(d,r),r=6;var h=this.formatDate(c,"M dd");d>=s&&(d=this.clone(s),u=!0);var p=this.formatDate(d,"M dd"),f=h;p!=h&&(f+=this.formatDate(d,"M")==this.formatDate(c,"M")?" - "+this.formatDate(d,"dd"):" - "+this.formatDate(d,"M dd")),l.labels.push(f),l.startDates.push(this.clone(c)),l.endDates.push(this.clone(d)),c=d,this.addDays(c,1)}return l},getMonths:function(t,e){for(var i=[],n=[],s=this.addMonths(odesk.date.clone(t),0);this.formatDate(s,"yymm")<=this.formatDate(e,"yymm");){var o=this.formatDate(s,"M yy");i.push(o),n.push(this.parseDate(o+" 01","M yy dd")),s=this.addMonths(odesk.date.clone(s),1)}return{labels:i,startDates:n}},getDates:function(t,e){for(var i=[],n=[],s=this.addDays(odesk.date.clone(t),0);this.formatDate(s,"yymmdd")<=this.formatDate(e,"yymmdd");)i.push(this.formatDate(s,"mm/dd/y")),n.push(this.zeroTime(s)),s=this.addDays(odesk.date.clone(s),1);return{labels:i,startDates:n}},parseTime:function(t){var e=0,i=t.match(/^(\d{1,2}):(\d{2})$/);null!=i?e=parseInt(i[1],10):(i=t.match(/^(\d{1,2}):(\d{2})\s?(am|pm)$/i),null!=i&&("pm"==i[3].toLowerCase()&&(e=12),i[1]=parseInt(i[1],10),i[3]&&i[1]>12&&(e=i[1]),e=12>i[1]?i[1]+e:parseInt(e,10)));var n=60*e+(i?parseInt(i[2],10):0);return new Date(6e4*n)},formatMinutesInWords:function(t){var e,i="";switch(!0){case 0>=t:i="less than a minute ago";break;case 1===t:i="a minute ago";break;case 45>t:i=t+" minutes ago";break;case 90>t:i="about an hour ago";break;default:i=(e=Math.floor(t/60))+" hour"+(e>1?"s":"")+" ago"}return i}}}()}(jQuery),odesk.url=function(){return{parseObjectString:function(t,e,i,n){if(n){var s=e.indexOf("[");if(-1!==s){var o=e.substr(0,s);return e.substr(s).replace(/\[([^\[]*)\]/g,function(e,i){t.hasOwnProperty(o)||(t[o]=i?{}:[]),i||(i=t[o].length),t=t[o],o=i}),t[o]=i,void 0}}t[e]=i},parseQueryString:function(t,e){var i=this,n={};return t.replace(/(?:^|&)([^&=]+)=?([^&]*)/g,function(t,s,o){i.parseObjectString(n,decodeURIComponent(s.replace(/\+/g," ")),decodeURIComponent(o.replace(/\+/g," ")),e)}),n},extractQueryParams:function(t){var e=[];return t.replace(/(?:^|&)([^&=]+)=?([^&]*)/g,function(t,i,n){e.push({name:decodeURIComponent(i.replace(/\+/g," ")),value:decodeURIComponent(n.replace(/\+/g," "))})}),e},findUriParams:function(t,e){var i=$(t).serializeArray(),n=[];e=e||{};for(var s in i){var o=i[s];""===o.value&&-1===$.inArray(o.name,e.allowEmpties)||e.includes&&-1===$.inArray(o.name,e.includes)||e.excludes&&-1!==$.inArray(o.name,e.excludes)||n.push({name:o.name,value:o.value})}return n},parse:function(t,e){t=t||document.location.href;for(var i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","queryString","anchor"],n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=n.exec(t),o={},a=14;a--;)o[i[a]]=s[a]||"";return e||(o.queryParams=this.parseQueryString(o.queryString)),o.query=o.queryString,o},jobShowUrlFormat:function(t,e){var i=t.match(/[\w]{3,}/g)?t.match(/[\w]{3,}/g).join("-"):"";return i?i+"_"+e:e},unique:function(t){return t+(/\?/.test(t)?"&":"?")+(new Date).getTime()+Math.ceil(1e5*Math.random())}}}(),odesk.currency=function(){return{format:function(t,e){if(e=$.extend({symbol:"$",positiveFormat:"%s%n",negativeFormat:"(%s%n)",showZero:!1,round:2,decimalZeros:2},e),!t||isNaN(t)||"-"===t&&-1===e.round){if(!e.showZero)return"&nbsp;";t=0}var i=t>=0?e.positiveFormat:e.negativeFormat,n=odesk.string.groupDigits(Math.abs(t),e);return i.replace(/%s/g,e.symbol).replace(/%n/g,n)},compactFormat:function(t){return this.format(t,{decimalZeros:0})}}}(),odesk.json={parse:function(t){try{return jQuery.parseJSON(t)}catch(e){return}},stringify:function(){function t(t){return 10>t?"0"+t:t}function e(t){return a.lastIndex=0,a.test(t)?'"'+t.replace(a,function(t){var e=r[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function i(t,a){var r,l,u,c,d,h=n,p=a[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof o&&(p=o.call(a,t,p)),typeof p){case"string":return e(p);case"number":return isFinite(p)?p+"":"null";case"boolean":case"null":return p+"";case"object":if(!p)return"null";if(n+=s,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,r=0;c>r;r+=1)d[r]=i(r,p)||"null";return u=0===d.length?"[]":n?"[\n"+n+d.join(",\n"+n)+"\n"+h+"]":"["+d.join(",")+"]",n=h,u}if(o&&"object"==typeof o)for(c=o.length,r=0;c>r;r+=1)l=o[r],"string"==typeof l&&(u=i(l,p),u&&d.push(e(l)+(n?": ":":")+u));else for(l in p)Object.hasOwnProperty.call(p,l)&&(u=i(l,p),u&&d.push(e(l)+(n?": ":":")+u));return u=0===d.length?"{}":n?"{\n"+n+d.join(",\n"+n)+"\n"+h+"}":"{"+d.join(",")+"}",n=h,u}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var n,s,o,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return window.JSON&&"function"==typeof JSON.stringify?JSON.stringify:function(t,e,a){var r;if(n="",s="","number"==typeof a)for(r=0;a>r;r+=1)s+=" ";else"string"==typeof a&&(s=a);if(o=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return i("",{"":t})}}()},function(t){var e={CACHE:"cache",SESSION:"session",PERSISTENT:"persistent",UNIMPORTANT_DATA:0,IMPORTANT_DATA:1,USER_CONTEXT_DATA:2,SERVER_DATA:4,_GARBAGE_COLLECTION_MAX_TTL:"1m",_GARBAGE_LPD_HOLDER:"###LPD",_GARBAGE_LPD_PERIOD:"7d",_SUP_STR_VALUE:1,_SUP_GARBAGE_COL:2,_SUP_GGARBAGE_COL:6,_SUP_SIZE_LIMIT:8,_STRG_STATUS_CREATED:1,_STRG_STATUS_INITIATED:2,_STRG_STATUS_READY:3,_STORAGE_SIZE_KEY:"###STS"},i=129384e7,n=function(t,e,n,s,o){var a={LastAccess:t||(new Date).getTime(),LastUpdate:e||(new Date).getTime(),ExpireType:n||0,TimeToLive:s||0,Flags:o||0,vSize:0,update:function(t,e,i,n,s){t&&(this.LastAccess=t),e&&(this.LastUpdate=e),i&&(this.ExpireType=i),n&&(this.TimeToLive=n),s&&(this.Flags=s)},toString:function(){var t=["01",Math.floor((this.LastAccess-i)/1e3).toString(16),Math.floor((this.LastUpdate-i)/1e3).toString(16),this.ExpireType.toString(16),this.Flags.toString(16),this.vSize.toString(16)];switch(isFinite(this.TimeToLive)){case!0:t.push("0"+Math.floor(Number(this.TimeToLive)/1e3).toString(16));break;case!1:var e=odesk.date.inc(new Date(0),this.TimeToLive).getTime();t.push("1"+(this.TimeToLive?e:0).toString(16))}return t.join("x")},fromString:function(t){if(!t)return this;switch(t.substr(0,2)){case"01":var e=["LastAccess","LastUpdate","ExpireType","Flags","vSize","TimeToLive"],n=0,s=null;for(t=t.split("x"),t.shift();;){if(s=t.shift(),!s)break;switch(e[n]){case"TimeToLive":var o=s.substr(1),a=s.substr(0,1);switch(a){case"0":o=1e3*Number("0x"+o);break;case"1":o=Number("0x"+o)}break;case"LastAccess":case"LastUpdate":o=1e3*Number("0x"+s)+i;break;default:o=Number("0x"+s)}this[e[n++]]=o}}return this}};return 1==arguments.length&&"string"==typeof t&&a.fromString(t),a},s=function(){return{limit:null,support:0,db:null,storageName:null,status:e._STRG_STATUS_CREATED,_keySizes:{},init:function(){},initStorage:function(){var t=this.db.getItem(e._STORAGE_SIZE_KEY);t&&this.handleSizes&&this.handleSizes(Number(t)||0),odesk.logger.say("odesk.storageManager: storage "+this.storageName+" initiated, the storage used for "+Number(t))},storeSize:function(t){try{this.db.setItem(e._STORAGE_SIZE_KEY,t)}catch(i){}},makeKeyName:function(t,e){return e+":"+t},setKey:function(t,i){i.LastAccess=(new Date).getTime();var n=""+i;this.db.setItem("#"+t,n),this.support&e._SUP_SIZE_LIMIT&&this._keySizes[t]!=n.length&&(this.handleSizes(this._keySizes[t]?this._keySizes[t]-n.length:n.length),this._keySizes[t]=n.length)},removeKey:function(t){this.db.removeItem("#"+t),this.support&e._SUP_SIZE_LIMIT&&(this.handleSizes(-this._keySizes[t]),delete this._keySizes[t])},key:function(t,i){t=t&&i?this.makeKeyName(t,i):t;var s="#"+t,o=this.db.getItem(s);return this.support&e._SUP_SIZE_LIMIT&&o&&(this._keySizes[t]=o.length),o&&(this.support&e._SUP_STR_VALUE)==e._SUP_STR_VALUE?new n(o):o},getItem:function(t,i){var n=this.makeKeyName(t,i),s=this.key(n),a=!0;if(null==s)return null;if(a=o.isValid(s),"object"==typeof s&&s.ExpireType&&a||!s.ExpireType){var r=this.db.getItem(n);if(this.setKey(n,s),r)try{return(this.support&e._SUP_STR_VALUE)==e._SUP_STR_VALUE?odesk.json.parse(r):r}catch(l){}}else a||this.removeItem(t,i);return null},setItem:function(t,i,s,o,a,r){var l=this.makeKeyName(t,i),u=this.key(l);null==u&&(u=new n(null,null,r,a,o)||u.update(null,null,r,a,o));var c=(this.support&e._SUP_STR_VALUE)==e._SUP_STR_VALUE?odesk.json.stringify(s):s;if(this.support&(e._SUP_SIZE_LIMIT|e._SUP_STR_VALUE)){var d=c.length-u.vSize;this.handleSizes(d),u.vSize=c.length}try{this.db.setItem(l,c),u.LastUpdate=(new Date).getTime(),this.setKey(l,u)}catch(h){}return!0},removeItem:function(t,i){var n=this.makeKeyName(t,i);if(this.support&(e._SUP_SIZE_LIMIT|e._SUP_STR_VALUE)){var s=this.key(n);s&&this.handleSizes(-s.vSize)}this.db.removeItem(n),this.removeKey(n)},iterate:function(t,i){for(var s,o,a=RegExp("^#"+t+":(.*)$"),r=0;this.db.length>r;r++){s=this.db.key(r);var o=s.match(a);s&&o&&(s=this.db.getItem(s),i(o[1],(this.support&e._SUP_STR_VALUE)==e._SUP_STR_VALUE?new n(s):s))}},flush:function(t){for(var e,i,n=RegExp("^#?"+(t||".+")+":(.*)$"),s=[],o=0;this.db.length>o;o++){e=this.db.key(o);var i=e.match(n);e&&i&&s.push(e)}for(;;){if(n=s.shift(),!n)break;this.db.removeItem(n)}},globalGarbageCollector:function(t,s){var a=(new Date).getTime(),r=0,l=this.db.getItem(e._GARBAGE_LPD_HOLDER),u=[],c=odesk.date.sparse(Number("0x"+l)+i);if(!(l&&odesk.date.inc(c,e._GARBAGE_LPD_PERIOD).getTime()>a||s)){for(var d,h,p,f=this.db.length;--f>=0;f)p=this.db.key(f),p.match(/^#{3}/)||(h=this.db.getItem(p),r+=h.length,p.match(/^#/)&&(d=new n(h))&&(!o.isValid(d)||a-d.LastAccess>e._GARBAGE_COLLECTION_MAX_AGE||t&&(d.Flags&e.IMPORTANT_DATA)!=e.IMPORTANT_DATA)&&u.push(p));try{this.db.setItem(e._GARBAGE_LPD_HOLDER,a.toString(16))}catch(m){}for(this.storeSize(r);;){if(p=u.shift(),!p)break;d=p.match(/^#(\w+):(.*)$/),this.removeItem(d[2],d[1])}}},garbageCollector:function(t,i){for(var s,a,r,l=(new Date).getTime(),u=[],c=this.db.length;--c>=0;c)if(r=this.db.key(c),!r.match(/^#{3}/)){a=this.db.getItem(r);var s=new n(a);r.match(/^#/)&&s&&(!o.isValid(s)||l-s.LastAccess>e._GARBAGE_COLLECTION_MAX_AGE||i&&(s.Flags&e.IMPORTANT_DATA)!=e.IMPORTANT_DATA)&&u.push(r)}for(;;){if(r=u.shift(),!r)break;s=r.match(/^#(\w*):(.*)$/),this.removeItem(s[2],s[1])}}}},o=function(){var t=[],i=[];return{isValid:function(e){return t[e.ExpireType]?t[e.ExpireType](e):!0},update:function(t,e,n){i[t.ExpireType]&&i[t.ExpireType](t,e,n)},register:function(n,s,o){var a=t.length,r=function(t,e,i){return t.LastUpdate=(new Date).getTime(),t.TimeToLive=e||t.TimeToLive||null,t.ExpireType=i||t.ExpireType||null,t};e[n]=a,i[a]=s instanceof Function?s:"std"==s?r:null,t[a]=o||null,e.ET_CHECK||(e.ET_CHECK={}),e.ET_CHECK["check::"+a]=!0},supported:function(t){return e.ET_CHECK?e.ET_CHECK["check::"+t]:!1}}}();odesk.storageManager=function(){function i(i,n){if(!r[i]){var o=l[i];if(o=o.length?o.sort():null,!o)throw"odesk.storageManager your browser doesn't support "+i+" storage...";var a=o[0].split(":")[1];r[i]=new t.extend({},s(),u[a].obj),r[i].TTL=u[a].TTL,r[i].ET=u[a].ET,r[i].storageName=a,r[i].init&&r[i].init(),(r[i].support&e._SUP_SIZE_LIMIT)==e._SUP_SIZE_LIMIT&&(c[i]=0,r[i].handleSizes=function(t){if(c[i]+t>r[i].limit)throw"odesk.storageManager."+i+" exceed size limit";return c[i]+=t,r[i].storeSize(c[i]),!0}),r[i].initStorage(n)}return(r[i].support&e._SUP_GGARBAGE_COL)==e._SUP_GGARBAGE_COL&&r[i].globalGarbageCollector(),r[i].status=e._STRG_STATUS_READY,!0}function a(t,e,i,n,s,o){if(!l[e])throw"odesk.storageManager: storage type "+e+" is not supported";u[t]={obj:o,TTL:n,ET:s},l[e].push(i+":"+t)}var r={},l={persistent:[],session:[],cache:[],qcache:[],sessionCache:[]},u={},c={};return{cnst:function(){return e},init:function(){var i=odesk.pageConfig;if(a(e.CACHE,e.CACHE,5,null,null,{init:function(){this.support=e._SUP_GARBAGE_COL},initStorage:function(){this.db||(this.db={})},key:function(t,e){return this.db[e]&&this.db[e][t]?this.db[e][t].key:null},setItem:function(t,e,i,s,o,a){this.db[e]||(this.db[e]={});var r=this.db[e][t]?this.db[e][t].key:new n(null,null,a,o,s);r.LastUpdate=(new Date).getTime(),this.db[e][t]={key:r,value:i}},getItem:function(t,e){var i=this.key(t,e),n=!0;return null==i?null:(n=o.isValid(i),i.ExpireType&&n||!i.ExpireType?(this.db[e][t].key.LastUpdate=(new Date).getTime(),this.db[e][t].value):(n||this.removeItem(t,e),null))},removeItem:function(t,e){delete this.db[e][t]},iterate:function(t,e){for(var i in this.db[t])e(i,this.db[t][i].key)}}),window.sessionStorage)try{odesk.logger.say("odesk.storageManager: sessionStorage supported"),a(e.SESSION,e.SESSION,5,null,null,{init:function(){this.support=e._SUP_GGARBAGE_COL|e._SUP_SIZE_LIMIT|e._SUP_STR_VALUE,this.limit=5242880},initStorage:function(){this.db=window.sessionStorage,s().initStorage.call(this)}})}catch(r){odesk.logger.say("odesk.storageManager: sessionStorage initializing error")}if(window.localStorage)try{odesk.logger.say("odesk.storageManager: localStorage supported"),a(e.PERSISTENT,e.PERSISTENT,5,null,null,{init:function(){this.support=e._SUP_GGARBAGE_COL|e._SUP_SIZE_LIMIT|e._SUP_STR_VALUE,this.limit=5242880},initStorage:function(){this.db=window.localStorage,s().initStorage.call(this)}})}catch(r){odesk.logger.say("odesk.storageManager: localStorage initializing error")}a("cookies-sess",e.SESSION,9,null,null,{init:function(){this.limit=4096,this.support=e._SUP_SIZE_LIMIT|e._SUP_STR_VALUE},initStorage:function(){},setItem:function(e,n,s){t.cookie(i.COOKIE_PREFIX+e+"-"+n,odesk.json.stringify(s),{domain:i.COOKIE_DOMAIN,path:"/"})},getItem:function(e,n){var s=t.cookie(i.COOKIE_PREFIX+e+"-"+n);if(null!=s)try{s=odesk.json.parse(s)}catch(o){}return s},removeItem:function(e,n){t.cookie(i.COOKIE_PREFIX+e+"-"+n,null,{domain:i.COOKIE_DOMAIN,path:"/"})}}),a("cookies-pers",e.PERSISTENT,9,90,null,{init:function(){this.limit=4096,this.support=e._SUP_SIZE_LIMIT|e._SUP_STR_VALUE},initStorage:function(){},setItem:function(e,n,s,o,a){t.cookie(i.COOKIE_PREFIX+e+"-"+n,odesk.json.stringify(s),{domain:i.COOKIE_DOMAIN,path:"/",expires:a})},getItem:function(e,n){var s=t.cookie(i.COOKIE_PREFIX+e+"-"+n);if(null!==s)try{s=odesk.json.parse(s)}catch(o){}return s},removeItem:function(e,n){t.cookie(i.COOKIE_PREFIX+e+"-"+n,null,{domain:i.COOKIE_DOMAIN,path:"/"})}})},expireTypes:o,proxy:function(n,s,o){var a=odesk.pageConfig;return this.isSupported(n)&&i(n,s)?function(){return{get:function(i,o){return(o&e.SERVER_DATA)==e.SERVER_DATA?t.cookie(a.COOKIE_PREFIX+i):r[n].getItem(i,s)},set:function(i,l,u,c,d){if(void 0===l)return this;if((u&e.SERVER_DATA)==e.SERVER_DATA){var h={domain:a.COOKIE_DOMAIN,path:"/"};n==e.PERSISTENT&&(h.expires=c||o||3600),t.cookie(a.COOKIE_PREFIX+i,l,h)}else r[n].setItem(i,s,l,u,c,d);return this},kill:function(i,o){if((o&e.SERVER_DATA)==e.SERVER_DATA){var l={domain:a.COOKIE_DOMAIN,path:"/",expires:-1};t.cookie(a.COOKIE_PREFIX+i,"",l)}else r[n].removeItem(i,s);return this},iterate:function(t){return r[n].iterate(s,t),this},flush:function(){r[n].flush(s)},logout:function(){var t=[];r[n].iterate(s,function(i,n){(n.Flags&e.USER_CONTEXT_DATA)==e.USER_CONTEXT_DATA&&t.push(i)});for(var i=t.length;--i>=0;i)r[n].removeItem(t[i],s)},driverName:function(){return r[n].storageName},isLimitedStorage:function(){return!!r[n].storageName.match(/cookie/)},garbageCollector:function(t){r[n].garbageCollector(s,t)},length:function(){return r[n].db.length}}}():null},isSupported:function(t){return!!l[t]},registerExpireType:function(t,e,i){o.register(t,e,i)},clearUserContext:function(){for(var t in r)r[t].logout()}}}(),odesk.storageManager.init(),odesk.storageManager.registerExpireType("NO_EXPIRE",null,null),odesk.storageManager.registerExpireType("DEADLINE_EXPIRE","std",function(t){return odesk.date.sparse(t.TimeToLive).getTime()>(new Date).getTime()}),odesk.storageManager.registerExpireType("TTL_EXPIRE","std",function(t){return odesk.date.inc(new Date(t.LastUpdate),t.TimeToLive).getTime()>(new Date).getTime()}),odesk.persistentStorage=odesk.storageManager.proxy(odesk.storageManager.cnst().PERSISTENT,""),odesk.sessionStorage=odesk.storageManager.proxy(odesk.storageManager.cnst().SESSION,"")}(jQuery),odesk.gaManager=function(){function t(){if(!odesk.env.DISABLE_GAET_TRACKING&&odesk.pageConfig.GA){var t=odesk.pageConfig.GA,e=window._gat._getTracker(odesk.env.URCHIN_ID);e._setDomainName(".odesk.com"),t.showSiteSpeedCode&&e._trackPageLoadTime();var i=$.cookie(odesk.env.COOKIE_PREFIX+"recognized");1==i&&e._setCustomVar(1,"visitor-type","recognized",2),t.inTeam&&e._setVar("o_ga_ignore");var n=window.location.pathname,s=window.location.search,o=escape(window.location.hash);if(t.showActivationParams&&t.showSignupConversionCode){var a="o_action=activated&o_utype="+("BS"==t.showSignupConversionCode?"e":"c"),r=s.length?"&":"?";s+=r+a}if(t.urchinReqUri)e._trackPageview(t.urchinReqUri);else{var l=odesk.storageManager.proxy(odesk.storageManager.cnst().PERSISTENT,"");"/teamroom/"==n&&(s="",o="%23"+(l.get("teamroom-view_mode")?l.get("teamroom-view_mode"):"grid")),"/workdiary/"==n&&(s="",o="%23"+("list"==l.get("wd-view")?"list":"thumbnail")),e._trackPageview(n+s+o)}}}var e="//stats.g.doubleclick.net/dc.js",i=document.createElement("script");i.type="text/javascript",i.async=!0;var n=document.getElementsByTagName("script")[0],s=window._gaq=window._gaq||[];return s.push(["_setAccount",odesk.env.URCHIN_ID]),s.push(["_setDomainName",".odesk.com"]),s.push(["_trackPageview",odesk.url.parse().relative]),s.push(["_trackPageLoadTime"]),s.push(t),i.src=e,n.parentNode.insertBefore(i,n),{add:function(t){s.push(t)}}}(),function(t){new odesk.Class("odesk.DataSource",{init:function(t){this.data=t,t&&(this.records=this.read(t)),this.rows=[],this.columnTotals={},this.groupTotals={}},getField:function(t,e){var i;return i="number"==e?odesk.DataSource.NumberField:"date"==e?odesk.DataSource.DateField:odesk.DataSource.Field,new i(t)},read:function(t){var e=[];if(!(t.table&&t.table.cols&&t.table.cols.length&&t.table.rows&&t.table.rows.length))return e;for(var i=this.readFields(t),n=t.table.rows,s=0,o=n.length;o>s;s++){for(var a=n[s],r={},l=0,u=a.c.length;u>l;l++){var c=a.c[l],d=i[l].clone();r[d.name]=d,d.set(c.v)}r.team_name&&r.team_id&&!r.team_name.value&&(r.team_name.value=r.team_id.value),e.push(r)}return e},readFields:function(t){var e=[];if(!t.table||!t.table.cols||!t.table.cols.length)return e;for(var i=t.table.cols,n=0,s=i.length;s>n;n++){var o=i[n];e.push(this.getField(o.label,o.type))}return e},getColumnValue:function(e,i){return t.isFunction(i)?i(e):e[i]?e[i].value:[]},getUniqueRecordValues:function(e){for(var i=[],n=0,s=this.records.length;s>n;n++){var o=this.records[n],a=this.getColumnValue(o,e);-1==t.inArray(a,i)&&i.push(a)}return i.sort(),i},getFilteredRecordset:function(t){for(var e=[],i=0,n=this.records.length;n>i;i++){var s=this.records[i];t(s)&&e.push(s)}return e},getColumnMappedRecordset:function(t){for(var e,i=this,n=this.getUniqueRecordValues(t),s={},o=function(e){return function(n){return e===i.getColumnValue(n,t)}},a=0,r=n.length;r>a;a++)e=n[a],s[e]=this.getFilteredRecordset(o(e));return s},getUniqueRowValues:function(e){for(var i=[],n=0,s=this.rows.length;s>n;n++){var o,a=this.rows[n];if(t.isFunction(e))o=e(a);else{if(e>=a.length)return[];o=a[e].value}-1==t.inArray(o,i)&&i.push(o)}return i.sort(),i},createRows:function(e){var i={columns:[],rowFilter:function(){return!0}};e=t.extend({},i,e),this.rows=[];for(var n=0,s=this.records.length;s>n;n++){var o=this.records[n];if(e.rowFilter(o)){for(var a=[],r=0,l=e.columns.length;l>r;r++){var u=e.columns[r],c=this.getField(u.name,u.type);for(var d in u.valueFunctions)c[d]=u.valueFunctions[d](o);a.push(c)}this.rows.push(a)}}},sortRecords:function(t){this.records.sort(function(e,i){for(var n=0,s=0,o=t.length;o>s;s++){var a=t[s],r=a.name,l=a.isDescending||!1,u=a.isNullInfinity||!1,c=e[r].value,d=i[r].value;if(n=c==d?0:c?d?c>d?1:-1:u?-1:1:u?1:-1,l&&(n*=-1),n)break}return n})},sortRows:function(t){this.rows.sort(function(e,i){for(var n=0,s=0,o=t.length;o>s;s++){var a=t[s],r=e[a].value.constructor===Date?e[a].value.getTime():e[a].value,l=i[a].value.constructor===Date?i[a].value.getTime():i[a].value;if(n=r==l?0:r>l?1:-1)return n}return n})},tagWeekData:function(e){var i={type:"week",dateField:"worked_on",startDate:new Date,endDate:new Date};e=t.extend({},i,e);for(var n=odesk.date.getWeeks(e.startDate,e.endDate,!0),s=0,o=this.records.length;o>s;s++){for(var a=this.records[s],r=n.startDates.length-1,l=0,u=n.startDates.length;u>l;l++){var c=n.startDates[l];if(c>a[e.dateField].value){r=l-1;break}}a[e.dateField].weekNumber=r,a[e.dateField].weekStartDate=n.startDates[r],a[e.dateField].weekLabel=n.labels[r]}return n},tagDate:function(e){var i={type:"week",dateField:"worked_on",startDate:new Date,endDate:new Date};e=t.extend({},i,e);var n,s,o,a,r,l,u,c=odesk.date["week"==e.type?"getWeeks":"month"==e.type?"getMonths":"getDates"](e.startDate,e.endDate,!0);for(e.hideEmpty&&(n=[]),a=0,r=this.records.length;r>a;a++){for(s=this.records[a],o=c.startDates.length-1,l=0,u=c.startDates.length;u>l;l++)if(s[e.dateField].value<c.startDates[l]){o=l-1;break}s[e.dateField][e.type+"Number"]=o,s[e.dateField][e.type+"StartDate"]=c.startDates[o],s[e.dateField][e.type+"Label"]=c.labels[o],e.hideEmpty&&(s[e.hideEmpty].value||isNaN(s[e.hideEmpty].value))&&-1==t.inArray(o,n)&&n.push(o)}if(e.hideEmpty){n.sort(function(t,e){return t>e?1:-1});var d={};for(var h in c)d[h]=[];for(a=0,r=n.length;r>a;a++)for(h in c)d[h].push(c[h][n[a]]);for(c=d,a=0,r=this.records.length;r>a;a++){for(s=this.records[a],o=c.startDates.length-1,l=0,u=c.startDates.length;u>l;l++)if(s[e.dateField].value<c.startDates[l]){o=l-1;break}s[e.dateField][e.type+"Number"]=o,s[e.dateField][e.type+"StartDate"]=c.startDates[o],s[e.dateField][e.type+"Label"]=c.labels[o]}}return c},pivot:function(e,i){var n,s,o,a,r,l,u,c,d,h={type:"weeks"==i?"week":"months"==i?"month":"dates"==i?"date":"",labels:null,values:null,dateField:"worked_on",sort:!0};e=t.extend({},h,e),e.type&&(c=this.range=this.tagDate(e));var p={};for(this.rows=[],n=0,o=this.records.length;o>n;n++){var f=this.records[n],m="";for(s=0,a=e.labels.length;a>s;s++)r=e.labels[s],m+=r.labelFunction(f);if(l=p[m],!l){for(l=[],p[m]=l,l.labelCombo=m,void 0!==f.week_hourly_charge&&(l.weekHourlyCharge=f.week_hourly_charge.value||0),this.rows.push(l),s=0,a=e.labels.length;a>s;s++)if(r=e.labels[s],u=this.getField(r.name,"string"),u.set(this.getColumnValue(f,r.labelFunction)),l.push(u),r.labelValues)for(d in r.labelValues)l[s][d]=r.labelValues[d](f);for(a=c?c.labels.length:7,s=0;a>s;s++){u=this.getField("value","number"),u.set(0);for(var d in e.values)u[d]=0;l.push(u)}}var g=e.type?f[e.dateField][e.type+"Number"]:f[e.dateField].dayOfWeek();u=l[g+e.labels.length];for(d in e.values){var v=e.values[d](f);"number"==typeof v?u[d]+=v:u[d]=v}}return e.sort&&this.rows.sort(function(t,e){return t.labelCombo==e.labelCombo?0:t.labelCombo>e.labelCombo?1:-1}),this},pivotWeeks:function(t){return this.pivot(t,"weeks")},pivotWeekDays:function(t){return this.pivot(t,"weekDays")},addTotalColumn:function(t,e){if(!this.rows.length)return this;for(var i=0,n=this.rows.length;n>i;i++){var s=this.rows[i],o=this.getField(t,"number");o.set(0);for(var a in e){for(var r=e[a],l=0,u=0,c=s.length;c>u;u++)l+=r(s[u]);o[a]=l}s.push(o)}return this},getColumnTotals:function(t){if(!this.rows.length)return[];for(var e=[],i=this.rows[0].length,n=0;i>n;n++){var s=this.getField("columnTotal","number");if(s.set(0),e.push(s),"number"==this.rows[0][n].dataType)for(var o=0,a=this.rows.length;a>o;o++){var r=this.rows[o];(!t||t(r,r[n]))&&(s.value+=r[n].value||0)}}return e},calculateColumnTotals:function(){return this.columnTotals=this.getColumnTotals(),this},calculateTotalsForCustomGroups:function(t){for(var e=this.getUniqueRowValues(t),i=function(e){return function(i){return t(i)==e}},n=0,s=e.length;s>n;n++){var o=e[n];this.groupTotals[o]=this.getColumnTotals(i(o))}return this},calculateGroupTotals:function(t){function e(e){for(var i=[],n=0;t>=n;n++)e[n].value&&i.push(""+e[n].value);return i.join(";")}return this.calculateTotalsForCustomGroups(e)}}),new odesk.Class("odesk.DataSource.Field",{init:function(t,e,i){this.name=t,this.label=t,this.dataType=e||"string",this.set(i)},clone:function(){for(var t=new this.constructor,e=["name","dataType","value","label"],i=0,n=e.length;n>i;i++){var s=e[i];t[s]=this[s]}return t},set:function(t){return this.value=t,this}}),new odesk.Class("odesk.DataSource.DateField","odesk.DataSource.Field",{Static:{format:"yymmdd"},init:function(t,e){this._super(t,"date",e)},set:function(t){return this.value="string"==typeof t?odesk.date.parseDate(t,this.constructor.format):t,this},dayOfWeek:function(){return odesk.date.getDayOfWeek(this.value)}}),new odesk.Class("odesk.DataSource.DateTimeField","odesk.DataSource.Field",{Static:{format:"yymmdd"},init:function(t,e){this._super(t,"dateTime",e)},set:function(t){var e=typeof t;return this.value="string"==e?odesk.date.parseDate(t,this.constructor.format):"number"==e?new Date(t):t,this},dayOfWeek:odesk.DataSource.DateField.prototype.dayOfWeek}),new odesk.Class("odesk.DataSource.NumberField","odesk.DataSource.Field",{init:function(t,e){this._super(t,"number",e)},set:function(t){return this.value=parseFloat(t),this},toHours:function(){return odesk.string.floatToTime(this.value,!0)},toMoney:function(){return odesk.currency.format(this.value)}}),new odesk.Class("odesk.DataSource.Query",{init:function(t){this.params=t,this.urlTemplate=null,this.urlFragments=[],this.selectStatement=null,this.conditions=[],this.orderStatement=null},setUrlTemplate:function(t){return this.urlTemplate=t,this},addUrlFragment:function(t){return this.urlFragments.push(t),this},addSelectStatement:function(t){return t&&t.length?(this.selectStatement="SELECT "+t.join(","),this):this},addCondition:function(t,e,i){return this.conditions.push(e+" "+t+" '"+i+"'"),this},addSortStatement:function(t){return this.orderStatement=" ORDER BY "+t.join(","),this},get:function(){var t,e,i={};for(var n in this.params)i[n]=escape(this.params[n]);var s=odesk.string.substitute(this.urlTemplate||"",i);for(t=0,e=this.urlFragments.length;e>t;t++){var o=odesk.string.substitute(this.urlFragments[t],i);-1==o.indexOf("{")&&(s+=o)}if(this.selectStatement){var a=this.selectStatement,r=[];for(t=0,e=this.conditions.length;e>t;t++){var l=this.conditions[t];l=odesk.string.substitute(l,i),-1==l.indexOf("{")&&r.push(l)}r.length&&(a+=" WHERE "+r.join(" AND ")),this.orderStatement&&(a+=this.orderStatement),s+="?tq="+escape(a)}return s}})}(jQuery),odesk.dataTableHelper={renderField:function(t){return t.row[t.columnIndex].value?t.row[t.columnIndex].value.replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},renderUrl:function(t,e,i,n,s,o){var a="",r=[];n&&r.push(n);for(var l in i)a+=(a.length?"&":"?")+l+"="+(o?i[l]:escape(i[l]));return o&&(a=a.replace(/^\?/,"#")),$.tmpl(odesk.templates.dataTableHelper.link,{url:e+a,title:s||"",text:t||"",className:r.join(" ")}).wrapAll("<div />").parent().html().replace(/\&amp;/g,"&")},formatHoursField:function(t,e){var i=t.row[t.columnIndex];return odesk.dataTableHelper.formatHours(i.value,e)},formatChargesField:function(t){var e=t.row[t.columnIndex];return odesk.dataTableHelper.formatCharges(e.value)},formatChargesAbsField:function(t){var e=t.row[t.columnIndex];return odesk.dataTableHelper.formatChargesAbs(e.value)},formatChargesInvField:function(t){var e=t.row[t.columnIndex];return odesk.dataTableHelper.formatChargesInv(e.value)},formatHours:function(t,e){return t||e?odesk.string.floatToTime(t,!0):""},formatCharges:function(t){return isNaN(t)?'<span class="notAvailable">N/A</span>':odesk.currency.format(t)},formatChargesAbs:function(t){return isNaN(t)?'<span class="notAvailable">N/A</span>':odesk.currency.format(Math.abs(t))},formatChargesInv:function(t){return isNaN(t)?'<span class="notAvailable">N/A</span>':odesk.currency.format(t,{positiveFormat:"-%s%n",negativeFormat:"%s%n"})}},odesk.templates.dataTableHelper={link:'<a{{if className}} class="${className}"{{/if}} {{if title}} title="${title}" {{/if}} href="${url}">${text}</a>'},function(){var t=navigator.userAgent.toLowerCase(),e=function(e){return-1!=t.indexOf(e)},i=document.getElementsByTagName("html")[0],n=!/opera|webtv/i.test(t)&&/msie (\d)/.test(t)?"ie ie"+RegExp.$1:e("gecko/")?"gecko":e("opera/9")?"opera opera9":/opera (\d)/.test(t)?"opera opera"+RegExp.$1:e("konqueror")?"konqueror":e("applewebkit/")?"webkit safari":e("mozilla/")?"gecko":"",s=e("x11")||e("linux")?" linux":e("mac")?" mac":e("win")?" win":"",o=n+s+" js";i.className+=i.className?" "+o:o}(),odesk.math=function(){return{feesFromCharge:function(t,e){(e===void 0||null==e)&&(e=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT);var i=this.roundToPrecision(this.roundToPrecision(t,2)*this.roundToPrecision(1-e/100,4),2);return this.roundToPrecision(this.roundToPrecision(t,2)-i,2)},feesFromCost:function(t,e){(e===void 0||null==e)&&(e=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT);var i=this.roundToPrecision(100*this.roundToPrecision(t,2)/(100-e),4);return this.roundToPrecision(i-this.roundToPrecision(t,2),2)},costFromCharge:function(t,e,i){var i=i===void 0?2:i;(e===void 0||null==e)&&(e=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT);var n=this.roundToPrecision(this.roundToPrecision(t,2)*this.roundToPrecision(1-e/100,4),i);return n},chargeFromCost:function(t,e){(e===void 0||null==e)&&(e=odesk.pageConfig.DEFAULT_ODESK_RENT_PERCENT);var i=this.roundToPrecision(100*this.roundToPrecision(t,2)/(100-e),4);return i},roundToPrecision:function(t,e){var i=Math.pow(10,e||0);return Math.round(t*i)/i}}}(),odesk.logging={log:function(t,e,i,n,s,o,a,r){this.logEvent(t,e,i,n,s,o,a,!0,r)},logSync:function(t,e,i,n,s,o,a,r){this.logEvent(t,e,i,n,s,o,a,!1,r)},logCustomData:function(t,e,i,n,s,o){this._logCustomDataEvent(t,e,i,n,!0,s,o)},logCustomDataSync:function(t,e,i,n,s,o){this._logCustomDataEvent(t,e,i,n,!1,s,o)},logEvent:function(t,e,i,n,s,o,a,r,l){var u={event:t,location:e,sublocation:i,timestamp:(new Date).getTime(),data:[{type:n,id:s,indexed:o,position:a}]};l!==void 0&&(u.qt_allocation=l),this._sendLoggingData(u,r)},_logCustomDataEvent:function(t,e,i,n,s,o,a){var r={event:t,location:e,sublocation:i,timestamp:(new Date).getTime()};r.data=[],null!==n&&(r.data=n),o!==void 0&&(r.qt_allocation=o),this._sendLoggingData(r,s,a)},_sendLoggingData:function(t,e,i){var n=odesk.json.stringify(t),s=null,o={};odesk.pageConfig.AUSER!==void 0?s=odesk.pageConfig.AUSER.uid:(s=odesk.pageConfig.VISITOR_ID,o={X_ODESK_VISITOR:odesk.pageConfig.VISITOR_API_KEY});var a=i!==void 0?i+"/id/"+s:odesk.env.API_ROOT+"o2/v1/logging/"+s+".json";odesk.ajax({url:a,headers:o,type:"POST",dataType:"json",async:e,timeout:odesk.pageConfig.LOG_TIMEOUT,timeoutSilently:!0,data:{data:n}})},logAtsEventToProxy:function(t,e,i,n,s,o){var a={event:t,location:e,sublocation:i,timestamp:(new Date).getTime()};a.data=[],null!==n&&(a.data=n),o!==void 0&&(a.qt_allocation=o);var r=odesk.json.stringify(a),l=null,u={};odesk.pageConfig.AUSER!==void 0?l=odesk.pageConfig.AUSER.uid:(l=odesk.pageConfig.VISITOR_ID,u={X_ODESK_VISITOR:odesk.pageConfig.VISITOR_API_KEY}),odesk.ajax({url:"/event-log/ats-logging-proxy/id/"+l,headers:u,type:"POST",dataType:"json",async:s,timeout:odesk.pageConfig.LOG_TIMEOUT,timeoutSilently:!0,data:{data:r}})
}};var adroll_adv_id=odesk.pageConfig.ADROLL_ADV_ID,adroll_pix_id=odesk.pageConfig.ADROLL_PIX_ID,__adroll_loaded=!0;odesk.remarketing=function(){odesk.pageConfig.GA&&$.getScript(("https:"===document.location.protocol?"https://s":"http://a")+".adroll.com/j/roundtrip.js")}(),new odesk.Class("odesk.Object",{init:function(t,e,i){this.reference=i||null,this.name=e||null,this.id=t||null},toString:function(){return this.getDisplayName()},getDisplayName:function(){return this.id?this.name+" ("+this.id+")":this.name},setDisplayName:function(t){this.name=t.replace(" ("+this.id+")","")},makeParams:function(t){var e={};return e[t+"Id"]=this.id,e[t+"Reference"]=this.reference,e[t+"Name"]=this.name,e}}),new odesk.Class("odesk.Timeline",{init:function(t,e,i){e?odesk.date.clone(e):odesk.date.now(),this.timeType=t,this.setStartDate(e),"range"==this.timeType&&this.setEndDate(i?odesk.date.clone(i):odesk.date.now())},setStartDate:function(t){var e=t?odesk.date.clone(t):odesk.date.now();switch(this.timeType){case"month":this.startDate=e,odesk.date.moveToFirstDayOfMonth(this.startDate),this.endDate=odesk.date.clone(this.startDate),odesk.date.moveToLastDayOfMonth(this.endDate);break;case"week":odesk.date.getDayOfWeek(e)>0&&odesk.date.moveToDayOfWeek(e,1,-1),this.startDate=e,this.endDate=odesk.date.clone(e),odesk.date.addDays(this.endDate,6);break;case"range":this.startDate=e,(!this.endDate||this.endDate<this.startDate)&&(this.endDate=odesk.date.clone(this.startDate));break;default:this.startDate=e,this.endDate=odesk.date.clone(e)}return this},setEndDate:function(t){if("range"==this.timeType){var e=t?odesk.date.clone(t):odesk.date.now();this.endDate=e,this.startDate>this.endDate&&(this.startDate=this.endDate)}else this.setStartDate(t);return this},makeParams:function(t){var e={};return e[t+"StartDate"]=odesk.date.formatDate(this.startDate,"yy-mm-dd"),e[t+"EndDate"]=odesk.date.formatDate(this.endDate,"yy-mm-dd"),e},getDisplayName:function(t){var e=t?"M":"MM",i="";return"month"==this.timeType?i=odesk.date.formatDate(this.startDate,e+" yy"):"week"==this.timeType||"range"==this.timeType?(i=odesk.date.formatDate(this.startDate,"dd "+e+" yy"),this.endDate>this.startDate&&(i+=" - "+odesk.date.formatDate(this.endDate,"dd "+e+" yy"))):i=odesk.date.formatDate(this.startDate,"dd "+e+" yy"),i},getDisplayNameWithAbbreviations:function(){return this.getDisplayName(!0)}}),new odesk.Class("odesk.Model",{makeParams:function(){var t={};for(var e in this){var i=this[e];if(i)if("function"==typeof i.makeParams){var n=i.makeParams(e);for(var s in n){var o=n[s];o&&"0"!=o&&"function"!=typeof o&&(t[s]=o)}}else i&&"0"!=i&&"function"!=typeof i&&(t[e]=i)}return t}}),function(t){new odesk.Class("odesk.AuthUser","odesk.Object",{defaultFilters:{roles:[],permissions:[],companyReference:null,engagementReference:null,appliesTo:{company:"any",team:"self"}},init:function(t,e,i,n,s){this.firstName=e||"",this.lastName=i||"",this._super(t,this.firstName+" "+this.lastName),this.timezone=n,this.timezoneOffset=s,this.companies=[],this.roles=[]},addRole:function(t){for(var e,i=-1,n=0,s=this.roles.length;s>n;n++){var o=this.roles[n];if(t.team==o.team&&t.authUser.id==o.authUser.id){e=o,i=n;break}}e?this.roles.splice(i,1,t):this.roles.push(t);var a=this.getCompanyByReference(t.team.company.reference);return a||this.companies.push(t.team.company),this},_sortByName:function(t,e){var i=t.name.toLowerCase(),n=e.name.toLowerCase();return n>i?-1:i>n?1:t.name>e.name?1:-1},_processRule:function(t,e,i){var n=0,s=0;t.team.walk(function(o){s++;var a=i(o);a&&n++,t.team.id==o.id||"self"==e.team?o.hidden&&a&&(o.hidden=!1):o.hidden=t.team.hidden}),"all"==e.company&&n==s||"any"==e.company&&n>0?t.hidden=!1:"self"==e.company&&(t.hidden=t.team.hidden)},filterRoles:function(e,i){return i&&i.roles&&i.roles.length?(this._processRule(e,i.appliesTo,function(e){for(var n=0,s=i.roles.length;s>n;n++){var o=i.roles[n];if(-1!=t.inArray(o,e.roles))return!0}return!1}),this):this},filterPermissions:function(e,i){return i&&i.permissions.length?(this._processRule(e,i.appliesTo,function(e){for(var n=0,s=i.permissions.length;s>n;n++){var o=i.permissions[n];if(-1!=t.inArray(o,e.permissions))return!0}return!1}),this):this},filterEngagement:function(t,e){return e&&e.engagementReference?(this._processRule(t,e.appliesTo,function(t){var i=!1;return i="__exists__"==e.engagementReference?!!t.engagementReference:t.engagementReference==e.engagementReference}),this):this},filterHasTeamRoomAccess:function(t,e){return e&&e.hasTeamRoomAccess?(this._processRule(t,e.appliesTo,function(t){return!!t.hasTeamRoomAccess}),this):this},companyHasFlavor:function(t,e){e.companyReference=t;var i=this.getCompanies(e),n=!1;return i.length&&(n=!i[0].hidden),n},teamHasFlavor:function(t,e){for(var i=this.getCompanies(e),n=0,s=i.length;s>n;n++){var o=i[n],a=o.team.findTeamByReference(t);if(a)return!a.hidden}return!1},getFilters:function(e){return e=t.extend(!0,{},this.defaultFilters,e),e.defaultHidden=e.roles.length||e.permissions.length||!!e.engagementReference||e.hasTeamRoomAccess,e},getCompanies:function(t){var e=[];t=this.getFilters(t);for(var i=0,n=this.companies.length;n>i;i++){var s=this.companies[i];if(!t.companyReference||t.companyReference==s.reference){var o=s.createCopy();e.push(o),o.hidden=t.defaultHidden,o.filterTeams(this,t)}}return e.sort(this._sortByName)},getVisibleTeams:function(t){for(var e=[],i=0,n=t.team.teams.length;n>i;i++){var s=t.team.teams[i];1==s.isHidden||s.hidden||e.push(s)}return e.sort(this._sortByName),t.team.hidden||e.unshift(t.team),e},getCompany:function(t){for(var e=0,i=this.companies.length;i>e;e++){var n=this.companies[e];if(n.id==t)return n}return null},getCompanyByReference:function(t){for(var e=0,i=this.companies.length;i>e;e++){var n=this.companies[e];if(n.reference==t)return n}return null},getTeam:function(t){for(var e=0,i=this.companies.length;i>e;e++){var n=this.companies[e],s=n.team.findTeam(t);if(s)return s}return null}}),odesk.AuthUser.Flavors={manager:{roles:["admin","manager"]},recruiter:{permissions:["manage_recruiting"]},affiliate:{permissions:["manage_affiliation"]},recruiterOrAffiliate:{permissions:["manage_affiliation","manage_employment"]},hiring:{permissions:["manage_employment"]},workdiary_all:{permissions:["manage_teamroom"]},engaged:{engagementReference:"__exists__"},teamAdmin:{roles:["admin"]},companyAdmin:{roles:["admin"],appliesTo:{company:"self",team:"self"}},member:{}}}(jQuery),function(t){new odesk.Class("odesk.Team","odesk.Object",{init:function(t,e,i,n,s){this._super(t,e,i),this.company=n,this.parentTeam=s||n.team?n.team:null,this.teams=[],this.roles=[],this.permissions=[],this.engagementReference=null,this.isHidden=null,this.parentTeam&&this.parentTeam.addTeam(this)},addTeam:function(e){return this==e?this:(-1==t.inArray(e,this.teams)&&this.teams.push(e),this)},_walkTree:function(t){var e,i,n=this.teams.length+1;for(e=0,i=this.teams.length;i>e;e++)t.nodeFilter(this.teams[e])||n--;if(!n)return!0;if(t.nodeBegin(this,n),!t.visitNode(this))return!1;for(e=0,i=this.teams.length;i>e;e++)t.nodeFilter&&this.teams[e]._walkTree(t);return t.nodeComplete(this),!0},walkTree:function(e){var i={nodeFilter:function(){return!0},treeBegin:function(){},visitNode:function(){},nodeBegin:function(){},nodeComplete:function(){},treeComplete:function(){}};if(e=t.extend({},i,e),e.nodeFilter(this)){if(e.treeBegin(),!this._walkTree(e))return!1;e.treeComplete()}},walk:function(t){t(this);for(var e=0,i=this.teams.length;i>e;e++)this.teams[e].walk(t);return this},sortTeams:function(){this.teams.sort();for(var t=0,e=this.teams.length;e>t;t++)this.teams[t].sortTeams();return this},createCopy:function(t,e){var i=new odesk.Team(this.id,this.name,this.reference,t,e);i.roles=this.roles,i.permissions=this.permissions,i.affiliationStatus=this.affiliationStatus,i.engagementReference=this.engagementReference,i.isHidden=this.isHidden,i.hasTeamRoomAccess=this.hasTeamRoomAccess;for(var n=0,s=this.teams.length;s>n;n++)i.addTeam(this.teams[n].createCopy(t,this));return i},findTeam:function(t){if(this.id==t)return this;for(var e=0,i=this.teams.length;i>e;e++){var n=this.teams[e].findTeam(t);if(n)return n}return null},findTeamByReference:function(t){if(this.reference==t)return this;for(var e=0,i=this.teams.length;i>e;e++){var n=this.teams[e].findTeamByReference(t);if(n)return n}return null}})}(jQuery),new odesk.Class("odesk.Company","odesk.Object",{init:function(t,e,i,n){this._super(t,e,i),this.team=new odesk.Team(t,n,i,this),this.roles=[],this.permissions=[]},sort:function(){return this.team.sortTeams(),this},filterTeams:function(t,e){return e=t.getFilters(e),this.team.walk(function(t){t.hidden=e.defaultHidden}),t.filterRoles(this,e).filterPermissions(this,e).filterEngagement(this,e).filterHasTeamRoomAccess(this,e),this},createCopy:function(){var t=new odesk.Company(this.id,this.name,this.reference,this.team.name);t.roles=this.roles,t.permissions=this.permissions,t.team.roles=this.team.roles,t.team.permissions=this.team.permissions,t.team.engagementReference=this.team.engagementReference,t.team.isHidden=this.team.isHidden,t.team.hasTeamRoomAccess=this.team.hasTeamRoomAccess;for(var e=0,i=this.team.teams.length;i>e;e++)t.team.addTeam(this.team.teams[e].createCopy(t,t.team));return t}}),function(t){new odesk.Class("odesk.UserRole",{init:function(e,i,n,s,o){this.authUser=e,this.team=i,this.roleName=n,this.permissions=s||[],this.authUser.addRole(this),o&&(i.hasTeamRoomAccess="1"==o.has_team_room_access,i.engagementReference=o.engagement__reference,i.affiliationStatus=o.affiliation_status,i.isOwner=o.is_owner),-1==t.inArray(n,i.roles)&&i.roles.push(n),-1==t.inArray(n,i.company.roles)&&i.company.roles.push(n);for(var a=0,r=this.permissions.length;r>a;a++){var l=this.permissions[a];"manage_affiliation"===l&&(e.isAffiliateManager=!0),-1==t.inArray(l,i.permissions)&&i.permissions.push(l),-1==t.inArray(l,i.company.permissions)&&i.company.permissions.push(l)}}})}(jQuery),function(t){new odesk.Class("odesk.Bank",{BPI_ROUTING_NUMBER:"010040018",BPI_ACCOUNT_NUMBER_REGEXP:"^[0-9]{10}$",BPI_ACCOUNT_NUMBER_DESC:"BPI Account numbers should be 10 digits in length",findByRoutNo:function(e,i,n){var s=this;delete this.info,"function"==typeof i&&(n=i,i=""),odesk.ajax({url:odesk.env.API_ROOT+"finance/v1/banks/"+(i?i+"/":"")+e+".json",rawValues:[-1],success:function(t){if(s.info=t.bank,!s.info.name)for(var i in s.info)e=i,s.info=s.info[e]},complete:function(){n=n||t.noop,n.call(s,e,s)}})},toHtml:function(e){if(!this.info)return"";var i=t("<strong>").text(this.info.name);return e||(i=i.add(t("<div>").text(t.map([this.info.address,this.info.address1,this.info.address2,this.info.address3],function(t){return t||null}).join(", ")))),i.add(t("<div>").text(t.map([this.info.city,"-"!=this.info.district?this.info.district:"",this.info.state!=this.info.city?this.info.state:"","-"!=this.info.zip?this.info.zip:"",this.info.country||("US"==this.info.country_code2?"UNITED STATES":"")],function(t){return t||null}).join(", ")))}})}(jQuery),function(t){new odesk.Class("odesk.Currencies",{findBySwift:function(e,i,n,s){var o=this;this.info=[],odesk.ajax({url:odesk.env.API_ROOT+"finance/v1/currencies/"+e+".json",rawValues:[-1],success:function(t){o.info=t.currencies||[],(n||s)&&(o.info=o.filterByTypeAndCode(o.info,n,s))},complete:function(){i=i||t.noop,i.call(o,e,o)}})},filterByTypeAndCode:function(e,i,n){var s=-1,o=-1,a=1e3;return e=t.map(e,function(t){if(!n||t.currency_code==n){if(i){if(t.payment_method!=i)return;if("WIRE"==i){var e=parseFloat(t.withdrawal_fee);a>e&&(a=e,o++),"1"==t.is_default&&s++}}return t}}),0>s&&o>-1&&(e[o].is_default="1"),e},getAdditionalElements:function(e){var i=odesk.json.parse(e.additional_codes)||[];return t(i).map(function(i,n){if(1!=n.is_formula){var s=t('<input type="text" class="oInputText oFormMed">').attr({id:e.currency_code+"_"+n.id,name:e.currency_code+"_"+n.id,value:n["default"],maxlength:n.max_length}).data("currency",e.currency_code),o=t('<div class="oFormField">').toggleClass("oOptional",1!=n.is_required).append(t('<label class="oLabel">').text(odesk.string.capitalize(n.title))).append(s);if(n.description){var a=t('<aside class="oFormHelp isHidden">').attr("id","oFormHelp-"+s.attr("id")).text(n.description);a.bind("mouseenter",function(){t(this).data("simulatedHover",!0)}),a.bind("mouseleave",function(){t(this).data("hideAfterFocusLost")&&t(this).data("hideAfterFocusLost",!1).addClass("isHidden"),t(this).data("simulatedHover",!1)}),s.bind("focus",function(){t(this).siblings(".oFormError").length||a.removeClass("isHidden")}),s.bind("blur",function(){a.data("simulatedHover")?a.data("hideAfterFocusLost",!0):a.addClass("isHidden")}),o.append(a)}return o.toArray()}})}})}(jQuery),function(t){odesk.AuthServices={_createCompany:function(t){var e,i;t.parent_team__reference==t.company__reference&&(e=t.parent_team__id,i=t.parent_team__name);var n=new odesk.Company(e,t.company__name,t.company__reference,i);return n.team.isHidden=t.team__is_hidden,n},_createTeam:function(t,e){t.reference||(t.reference=e.user__reference);var i=null,n=t.getTeam(e.parent_team__id);n?i=n.company:(i=t.getCompanyByReference(e.company__reference),i||(i=this._createCompany(e)),i.id!=e.parent_team__id&&(n=new odesk.Team(e.parent_team__id,e.parent_team__name,e.parent_team__reference,i),i.team.addTeam(n)));var s;return s=e.parent_team__id==e.team__id?i.team:new odesk.Team(e.team__id,e.team__name,e.team__reference,i,n),s.engagementReference=e.engagement__reference,s.affiliationStatus=e.affiliation_status,s.isHidden=e.team__is_hidden,s.user__is_provider&&(t.isProvider=!0),"none"!==s.affiliationStatus&&(t.isContractor=!0),"exclusive"===s.affiliationStatus&&(t.isExclusive=!0),s},_createRole:function(e,i){if(!t.trim(i.company__reference))return null;var n=e.getTeam(i.team__id)||this._createTeam(e,i),s=i.permissions.permission?odesk.array.obj2Array(i.permissions.permission):[];return new odesk.UserRole(e,n,i.role,s,i)},updateRoles:function(t,e){var i,n;if(e.userroles){if(e.userroles.userrole.length)for(i=0,n=e.userroles.userrole.length;n>i;i++)this._createRole(t,e.userroles.userrole[i]);else this._createRole(t,e.userroles.userrole);for(t.companies.sort(t._sortByName),i=0,n=t.companies.length;n>i;i++)t.companies[i].sort()}},getAuthUserAndRoles:function(e,i){var n=this;e=e||t.noop,i=i||t.noop,odesk.ajax({url:odesk.env.API_ROOT+"hr/v2/userroles.json",dataType:"json",rawValues:[-1],success:function(t,s){var o=new odesk.AuthUser(t.user.id,t.auth_user.first_name,t.auth_user.last_name,t.auth_user.timezone,t.auth_user.timezone_offset);if(n.updateRoles(o,t),o.isProvider)e(o,s);else{if(!t.user)return i("User not found"),void 0;o.isProvider=1==parseInt(t.user.isProvider,10)?!0:!1,o.reference=t.user.reference,e(o,s)}},error:i})}}}(jQuery),function(t){function e(e,i,n,s){var o={data:s||(i?i.data:{}),_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:u,nest:c,wrap:d,html:h,update:p};return e&&t.extend(o,e,{nodes:[],parent:i}),n&&(o.tmpl=n,o._ctnt=o._ctnt||o.tmpl(t,o),o.key=++k,(C.length?b:y)[k]=o),o}function i(e,s,o){var a,r=o?t.map(o,function(t){return"string"==typeof t?e.key?t.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+e.key+'" $2'):t:i(t,e,t._ctnt)}):e;return s?r:(r=r.join(""),r.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,i,s,o){a=t($("<div>").appendTo(document.body).html(s).detach().html()).get(),l(a),i&&(a=n(i).concat(a)),o&&(a=a.concat(n(o)))}),a?a:n(r))}function n(e){var i=document.createElement("div");return i.innerHTML=e,t.makeArray(i.childNodes)}function s(e){return Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+t.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,i,n,s,o,r,l){var u,c,d,h=t.tmpl.tag[n];if(!h)throw"Template command not found: "+n;return u=h._default||[],r&&!/\w$/.test(o)&&(o+=r,r=""),o?(o=a(o),l=l?","+a(l)+")":r?")":"",c=r?o.indexOf(".")>-1?o+r:"("+o+").call($item"+l:o,d=r?c:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):d=c=u.$1||"null",s=a(s),"');"+h[i?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(d).split("$1").join(c).split("$2").join(s?s.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(t,e,i,n){return n=n?","+n+")":i?")":"",n?"("+e+").call($item"+n:t}):u.$2||"")+"_.push('"})+"');}return _;")}function o(e,n){e._wrap=i(e,!0,t.isArray(n)?n:[v.test(n)?n:t(n).html()]).join("")}function a(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function r(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function l(i){function n(i){function n(t){t+=u,a=c[t]=c[t]||e(a,y[a.parent.key+u]||a.parent,null,!0)}var s,o,a,r,l=i;if(r=i.getAttribute(g)){for(;l.parentNode&&1===(l=l.parentNode).nodeType&&!(s=l.getAttribute(g)););s!==r&&(l=l.parentNode?11===l.nodeType?0:l.getAttribute(g)||0:0,(a=y[r])||(a=b[r],a=e(a,y[l]||b[l],null,!0),a.key=++k,y[k]=a),w&&n(r)),i.removeAttribute(g)}else w&&(a=t.data(i,"tmplItem"))&&(n(a.key),y[a.key]=a,l=t.data(i.parentNode,"tmplItem"),l=l?l.key:0);if(a){for(o=a;o&&o.key!=l;)o.nodes.push(i),o=o.parent;delete a._ctnt,delete a._wrap,t.data(i,"tmplItem",a)}}var s,o,a,r,l,u="_"+w,c={};for(a=0,r=i.length;r>a;a++)if(1===(s=i[a]).nodeType){for(o=s.getElementsByTagName("*"),l=o.length-1;l>=0;l--)n(o[l]);n(s)}}function u(t,e,i,n){return t?(C.push({_:t,tmpl:e,item:this,data:i,options:n}),undefined):C.pop()}function c(e,i,n){return t.tmpl(t.template(e),i,n,this)}function d(e,i){var n=e.options||{};return n.wrapped=i,t.tmpl(t.template(e.tmpl),e.data,n,e.item)}function h(e,i){var n=this._wrap;return t.map(t(t.isArray(n)?n.join(""):n).filter(e||"*"),function(t){return i?t.innerText||t.textContent:t.outerHTML||r(t)})}function p(){var e=this.nodes;t.tmpl(null,null,null,this).insertBefore(e[0]),t(e).remove()}var f,m=t.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,y={},b={},_={key:0,data:{}},k=0,w=0,C=[];t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){t.fn[e]=function(n){var s,o,a,r,l=[],u=t(n),c=1===this.length&&this[0].parentNode;if(f=y||{},c&&11===c.nodeType&&1===c.childNodes.length&&1===u.length)u[i](this[0]),l=this;else{for(o=0,a=u.length;a>o;o++)w=o,s=(o>0?this.clone(!0):this).get(),t.fn[i].apply(t(u[o]),s),l=l.concat(s);w=0,l=this.pushStack(l,e,u.selector)}return r=f,f=null,t.tmpl.complete(r),l}}),t.fn.extend({tmpl:function(e,i,n){return t.tmpl(this[0],e,i,n)},tmplItem:function(){return t.tmplItem(this[0])},template:function(e){return t.template(e,this[0])},domManip:function(e,i,n){if(e[0]&&e[0].nodeType){for(var s,o=t.makeArray(arguments),a=e.length,r=0;a>r&&!(s=t.data(e[r++],"tmplItem")););a>1&&(o[0]=[t.makeArray(e)]),s&&w&&(o[2]=function(e){t.tmpl.afterManip(this,e,n)}),m.apply(this,o)}else m.apply(this,arguments);return w=0,f||t.tmpl.complete(y),this}}),t.extend({tmpl:function(n,s,a,r){var l,u=!r;if(u)r=_,n=t.template[n]||t.template(null,n),b={};else if(!n)return n=r.tmpl,y[r.key]=r,r.nodes=[],r.wrapped&&o(r,r.wrapped),t(i(r,null,r.tmpl(t,r)));return n?("function"==typeof s&&(s=s.call(r||{})),a&&a.wrapped&&o(a,a.wrapped),l=t.isArray(s)?t.map(s,function(t){return t?e(a,r,n,t):null}):[e(a,r,n,s)],u?t(i(r,null,l)):l):[]},tmplItem:function(e){var i;for(e instanceof t&&(e=e[0]);e&&1===e.nodeType&&!(i=t.data(e,"tmplItem"))&&(e=e.parentNode););return i||_},template:function(e,i){return i?("string"==typeof i?i=s(i):i instanceof t&&(i=i[0]||{}),i.nodeType&&(i=t.data(i,"tmpl")||t.data(i,"tmpl",s(i.innerHTML))),"string"==typeof e?t.template[e]=i:i):e?"string"!=typeof e?t.template(null,e):t.template[e]||t.template(null,v.test(e)?e:t(e)):null},encode:function(t){return(""+t).split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),t.extend(t.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){y={}},afterManip:function(e,i,n){var s=11===i.nodeType?t.makeArray(i.childNodes):1===i.nodeType?[i]:[];n.call(e,i),l(s),w++}})}(jQuery),function(t,e){function i(e,i){var s,o,a,r=e.nodeName.toLowerCase();return"area"===r?(s=e.parentNode,o=s.name,e.href&&o&&"map"===s.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,s,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?r["inner"+n].call(this):this.each(function(){t(this).css(a,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?r["outer"+n].call(this,e):this.each(function(){t(this).css(a,s(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i){var n,s=t.plugins[e];if(s&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(o){}s(e)},t.widget=function(i,n,s){var o,a,r,l,u={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,s||(s=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(s,function(i,s){return t.isFunction(s)?(u[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=s.apply(this,arguments),this._super=n,this._superApply=o,i}}(),e):(u[i]=s,e)}),r.prototype=t.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:i},u,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete a._childConstructors):n._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var s,o,a=n.call(arguments,1),r=0,l=a.length;l>r;r++)for(s in a[r])o=a[r][s],a[r].hasOwnProperty(s)&&o!==e&&(i[s]=t.isPlainObject(o)?t.isPlainObject(i[s])?t.widget.extend({},i[s],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,l=n.call(arguments,1),u=this;return a=!r&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var n,s=t.data(this,o);return s?t.isFunction(s[a])&&"_"!==a.charAt(0)?(n=s[a].apply(s,l),n!==s&&n!==e?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new s(a,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},s=i.split("."),i=s.shift(),s.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;s.length-1>a;a++)o[s[a]]=o[s[a]]||{},o=o[s[a]];if(i=s.pop(),n===e)return o[i]===e?null:o[i];o[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,s){var o,a=this;"boolean"!=typeof i&&(s=n,n=i,i=!1),s?(n=o=t(n),this.bindings=this.bindings.add(n)):(s=n,n=this.element,o=this.widget()),t.each(s,function(s,r){function l(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||t.guid++);var u=s.match(/^(\w+)\s*(.*)$/),c=u[1]+a.eventNamespace,d=u[2];d?o.delegate(d,c,l):n.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),a=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&t.effects&&t.effects.effect[r]?n[e](s):r!==e&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;
var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=t.fn.position;t._position={scrollbarWidth:function(){if(o!==e)return o;var i,n,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return t("body").append(s),i=a.offsetWidth,s.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t._position.scrollbarWidth():0,height:s?t._position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,m,g,v,y,b=t(e.of),_=t._position.getWithinInfo(e.within),k=t._position.getScrollInfo(_),w=(e.collision||"flip").split(" "),C={};return y=s(b),b[0].preventDefault&&(e.at="left top"),p=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=d.exec(n[0]),i=d.exec(n[1]),C[this]=[t?t[0]:0,i?i[0]:0],e[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=i(C.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var s,u,c=t(this),d=c.outerWidth(),h=c.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),D=d+f+n(this,"marginRight")+k.width,T=h+y+n(this,"marginBottom")+k.height,x=t.extend({},v),S=i(C.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?x.left-=d:"center"===e.my[0]&&(x.left-=d/2),"bottom"===e.my[1]?x.top-=h:"center"===e.my[1]&&(x.top-=h/2),x.left+=S[0],x.top+=S[1],t.support.offsetFractions||(x.left=l(x.left),x.top=l(x.top)),s={marginLeft:f,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[w[i]]&&t.ui.position[w[i]][n](x,{targetWidth:p,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:s,collisionWidth:D,collisionHeight:T,offset:[o[0]+S[0],o[1]+S[1]],my:e.my,at:e.at,within:_,elem:c})}),e.using&&(u=function(t){var i=g.left-x.left,n=i+p-d,s=g.top-x.top,o=s+m-h,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:x.left,top:x.top,width:d,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};d>p&&p>r(i+n)&&(l.horizontal="center"),h>m&&m>r(s+o)&&(l.vertical="middle"),l.important=a(r(i),r(n))>a(r(s),r(o))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(x,{using:u}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,l=s-r,u=r+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&0>=u?(i=t.left+l+e.collisionWidth-o-s,t.left+=l-i):t.left=u>0&&0>=l?s:l>u?s+o-e.collisionWidth:s:l>0?t.left+=l:u>0?t.left-=u:t.left=a(t.left-r,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,l=s-r,u=r+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&0>=u?(i=t.top+l+e.collisionHeight-o-s,t.top+=l-i):t.top=u>0&&0>=l?s:l>u?s+o-e.collisionHeight:s:l>0?t.top+=l:u>0?t.top-=u:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,d=u+e.collisionWidth-a-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+h+p+f+e.collisionWidth-a-o,(0>i||r(c)>i)&&(t.left+=h+p+f)):d>0&&(n=t.left-e.collisionPosition.marginLeft+h+p+f-l,(n>0||d>r(n))&&(t.left+=h+p+f))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,d=u+e.collisionHeight-a-l,h="top"===e.my[1],p=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(n=t.top+p+f+m+e.collisionHeight-a-o,t.top+p+f+m>c&&(0>n||r(c)>n)&&(t.top+=p+f+m)):d>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>d&&(i>0||d>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",s=t(r).offset().left,t.support.offsetFractions=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i,n=this,s=!1,o=!1;for(t.ui.ddmanager&&!this.options.dropBehaviour&&(o=t.ui.ddmanager.drop(this,e)),this.dropped&&(o=this.dropped,this.dropped=!1),i=this.element[0];i&&(i=i.parentNode);)i===document&&(s=!0);return s||"original"!==this.options.helper?("invalid"===this.options.revert&&!o||"valid"===this.options.revert&&o||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,o)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;if("parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=["document"===s.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===s.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===s.containment?0:t(window).scrollLeft())+t("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===s.containment?0:t(window).scrollTop())+(t("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||s.containment.constructor===Array)s.containment.constructor===Array&&(this.containment=s.containment);else{if(i=t(s.containment),n=i[0],!n)return;e="hidden"!==t(n).css("overflow"),this.containment=[(parseInt(t(n).css("borderLeftWidth"),10)||0)+(parseInt(t(n).css("paddingLeft"),10)||0),(parseInt(t(n).css("borderTopWidth"),10)||0)+(parseInt(t(n).css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t(n).css("borderRightWidth"),10)||0)-(parseInt(t(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t(n).css("borderBottomWidth"),10)||0)-(parseInt(t(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s,o,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName),u=e.pageX,c=e.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(u=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(u=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(s=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-a.grid[1]:s+a.grid[1]:s,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),s=n.options,o=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var n=t(this).data("ui-draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("ui-draggable"),s=this;t.each(n.sortables,function(){var o=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,s,o,a,r,l,u,c,d,h,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)r=p.snapElements[d].left,l=r+p.snapElements[d].width,u=p.snapElements[d].top,c=u+p.snapElements[d].height,g>r-m&&l+m>g&&y>u-m&&c+m>y||g>r-m&&l+m>g&&b>u-m&&c+m>b||v>r-m&&l+m>v&&y>u-m&&c+m>y||v>r-m&&l+m>v&&b>u-m&&c+m>b?("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),s=m>=Math.abs(c-y),o=m>=Math.abs(r-v),a=m>=Math.abs(l-g),n&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=n||s||o||a,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),s=m>=Math.abs(c-b),o=m>=Math.abs(r-g),a=m>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(n||s||o||a||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=n||s||o||a||h):(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){var e,i,n,s,o="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},u=function(e){var i=e.name,n=e.form,s=t([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,c="checkbox"===this.type||"radio"===this.type,d=c?"":"ui-state-active",h="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(d)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(h)}),c&&(this.element.bind("change"+this.eventNamespace,function(){s||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(s=!1,i=t.pageX,n=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||n!==t.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||s?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||s)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var e=a.element[0];u(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,a.document.one("mouseup",function(){e=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(t(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?u(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))
}}),t.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),undefined;if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(s.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(t.each(i,function(i,n){var s,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(e.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(s))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(s,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,s=n.resizable,o=this.uiDialog.css("position"),a="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,s){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(s))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(s,o){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,e(o))}}).css("position",o)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(n){var s=this,o=!1,a={};t.each(n,function(t,n){s._setOption(t,n),t in e&&(o=!0),t in i&&(a[t]=n)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,n,s=this.uiDialog;"dialogClass"===t&&s.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=s.is(":data(ui-draggable)"),i&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=s.is(":data(ui-resizable)"),n&&!e&&s.resizable("destroy"),n&&"string"==typeof e&&s.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker,.oFlyout").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(s[t]=n[t],n[t]=e)}),i={my:n[0]+(0>s[0]?s[0]:"+"+s[0])+" "+n[1]+(0>s[1]?s[1]:"+"+s[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function s(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.2"}});var o,a="datepicker",r=(new Date).getTime();t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,o;n=e.nodeName.toLowerCase(),s="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),s),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):s&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:s,title:s}):s)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;t.length>s;s++)t[s].length>i&&(i=t[s].length,n=s);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,r){var l,u,c,d,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),s(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(u=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+d,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var a,r,l,u,c=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=o),c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(c,"min"),u=this._getMinMaxDate(c,"max"),s(c.settings,a),null!==l&&a.dateFormat!==e&&a.minDate===e&&(c.settings.minDate=this._formatDate(c,l)),null!==u&&a.dateFormat!==e&&a.maxDate===e&&(c.settings.maxDate=this._formatDate(c,u)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),s[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,s[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var n,s,o=t.datepicker._getInst(i.target);return t.datepicker._get(o,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!n||n.indexOf(s)>-1):e},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(s){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,a,r,l,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),s=n[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!==document.activeElement&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+o>u&&u>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,s,o,r=this._curInst;!r||e&&r!==t.data(e,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),n=this._get(r,"duration"),s=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),n,s):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),o=this._getInst(s[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(e,i,n,s){var o,a=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",s).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,n,s){if(null==i||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var o,a,r,l,u=0,c=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,f=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,y=-1,b=-1,_=!1,k=function(t){var e=i.length>o+1&&i.charAt(o+1)===t;return e&&o++,e},w=function(t){var e=k(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s=RegExp("^\\d{1,"+i+"}"),o=n.substring(u).match(s);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},C=function(i,s,o){var a=-1,r=t.map(k(i)?o:s,function(t,e){return[[e,t]]
}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,i){var s=i[1];return n.substr(u,s.length).toLowerCase()===s.toLowerCase()?(a=i[0],u+=s.length,!1):e}),-1!==a)return a+1;throw"Unknown name at position "+u},D=function(){if(n.charAt(u)!==i.charAt(o))throw"Unexpected literal at position "+u;u++};for(o=0;i.length>o;o++)if(_)"'"!==i.charAt(o)||k("'")?D():_=!1;else switch(i.charAt(o)){case"d":y=w("d");break;case"D":C("D",h,p);break;case"o":b=w("o");break;case"m":v=w("m");break;case"M":v=C("M",f,m);break;case"y":g=w("y");break;case"@":l=new Date(w("@")),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":l=new Date((w("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":k("'")?D():_=!0;break;default:D()}if(n.length>u&&(r=n.substr(u),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=g?0:-100)),b>-1)for(v=1,y=b;;){if(a=this._getDaysInMonth(g,v-1),a>=y)break;v++,y-=a}if(l=this._daylightSavingAdjust(new Date(g,v-1,y)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},u=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},d="",h=!1;if(e)for(n=0;t.length>n;n++)if(h)"'"!==t.charAt(n)||l("'")?d+=t.charAt(n):h=!1;else switch(t.charAt(n)){case"d":d+=u("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),s,o);break;case"o":d+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),a,r);break;case"y":d+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(n)}return d},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),o=s,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||s}catch(r){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=s.getFullYear(),a=s.getMonth(),r=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":a+=parseInt(u[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(u[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}u=l.exec(i)}return new Date(o,a,r)},a=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),s===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+r].datepicker._adjustDate(n,-i,"M")},next:function(){window["DP_jQuery_"+r].datepicker._adjustDate(n,+i,"M")},hide:function(){window["DP_jQuery_"+r].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+r].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+r].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+r].datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,o,a,r,l,u,c,d,h,p,f,m,g,v,y,b,_,k,w,C,D,T,x,S,E,F,I,M,A,$,O,R,j,N,P,L,U=new Date,H=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),B=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),z=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),K=this._get(t,"showCurrentAtPos"),V=this._get(t,"stepMonths"),Q=1!==Y[0]||1!==Y[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-K,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Y[0]*Y[1]+1,J.getDate())),e=X&&X>e?X:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-V,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=q?this.formatDate(s,this._daylightSavingAdjust(new Date(te,Z+V,1)),this._getFormatConfig(t)):s,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:H,a=q?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",w=0;Y[0]>w;w++){for(C="",this.maxRows=4,D=0;Y[1]>D;D++){if(T=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),x=" ui-corner-all",S="",Q){if(S+="<div class='ui-datepicker-group",Y[1]>1)switch(D){case 0:S+=" ui-datepicker-group-first",x=" ui-corner-"+(B?"right":"left");break;case Y[1]-1:S+=" ui-datepicker-group-last",x=" ui-corner-"+(B?"left":"right");break;default:S+=" ui-datepicker-group-middle",x=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===w?B?o:n:"")+(/all|right/.test(x)&&0===w?B?n:o:"")+this._generateMonthYearHeader(t,Z,te,X,J,w>0||D>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;7>k;k++)F=(k+c)%7,E+="<th"+((k+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[F]+"'>"+p[F]+"</span></th>";for(S+=E+"</tr></thead><tbody>",I=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),M=(this._getFirstDayOfMonth(te,Z)-c+7)%7,A=Math.ceil((M+I)/7),$=Q?this.maxRows>A?this.maxRows:A:A,this.maxRows=$,O=this._daylightSavingAdjust(new Date(te,Z,1-M)),R=0;$>R;R++){for(S+="<tr>",j=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",k=0;7>k;k++)N=g?g.apply(t.input?t.input[0]:null,[O]):[!0,""],P=O.getMonth()!==Z,L=P&&!y||!N[0]||X&&X>O||J&&O>J,j+="<td class='"+((k+c+6)%7>=5?" ui-datepicker-week-end":"")+(P?" ui-datepicker-other-month":"")+(O.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===O.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(P&&!v?"":" "+N[1]+(O.getTime()===G.getTime()?" "+this._currentClass:"")+(O.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(P&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(P&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===H.getTime()?" ui-state-highlight":"")+(O.getTime()===G.getTime()?" ui-state-active":"")+(P?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);S+=j+"</tr>"}Z++,Z>11&&(Z=0,te++),S+="</tbody></table>"+(Q?"</div>"+(Y[0]>0&&D===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),C+=S}_+=C}return _+=u,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,i,n,s,o,a,r){var l,u,c,d,h,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,u=s&&s.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!u||s.getMonth()>=c)&&(_+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),s=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!s||e.getTime()>=s.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.2",window["DP_jQuery_"+r]=t}(jQuery),function(t){t.datepicker._parse=function(e){if(!e)return null;var i,n,s;if(RegExp("("+t.datepicker.regional[""].monthNamesShort.join("|")+")","i").exec(e)){var o=RegExp.$1;o=o.substring(0,1).toUpperCase()+o.substring(1).toLowerCase(),n=t.inArray(o,t.datepicker.regional[""].monthNamesShort);var a=/(\d{1,2})[^\d]*(\d{4}|\d{1,2})?/.exec(e);if(!a)return null;i=a[1],s=a[2],s||(s=(new Date).getFullYear()),2==s.length&&(s="20"+s),1==s.length&&(s="200"+s)}else{if(!/^[^\d]*(\d{1,2})[^\d]*(\d{1,2})?[^\d]*(\d{1,2}|\d{4})?[^\d]*$/.exec(e))return null;n=RegExp.$1,i=RegExp.$2,s=RegExp.$3,s||(s=(new Date).getFullYear()),2==s.length&&(s="20"+s),1==s.length&&(s="200"+s),i?n>12&&12>=i&&(n=i,i=RegExp.$1):(i=n,n=(new Date).getMonth()+1),n-=1}return new Date(s,n,i)},t.datepicker._doKeyUp=function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!=i.lastVal)try{var n=t.datepicker._parse(i.input?i.input.val():null);if(n){t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i);var s=t.datepicker._get(i,"onSelect");s&&s.apply(i.input?i.input[0]:null,[t.datepicker._formatDate(i),i])}}catch(e){t.datepicker.log(e)}return!0},t.datepicker._doBlur=function(e){var i=e.target,n=t.datepicker._getInst(i),s=t.datepicker._getDate(n);if(s){i.value=t.datepicker.formatDate(t.datepicker._get(n,"dateFormat"),s);var o=t.datepicker._get(n,"onSelect");o&&o.apply(n.input?n.input[0]:null,[t.datepicker._formatDate(n,n.currentDay,n.currentMonth,n.currentYear),n])}},t.datepicker._connectDatepicker=function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).blur(this._doBlur).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,e,n){i.settings[e]=n}).bind("getData.datepicker",function(t,e){return this._get(i,e)}),this._autoSize(i),t.data(e,"datepicker",i))},t.datepicker._setDateFromField=function(e,i){if(e.input.val()!=e.lastVal){this._get(e,"dateFormat");var n,s,o=e.lastVal=e.input?e.input.val():null;n=s=this._getDefaultDate(e),this._getFormatConfig(e);try{n=t.datepicker._parse(o)||s}catch(a){this.log(a),o=i?"":o}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=o?n.getDate():0,e.currentMonth=o?n.getMonth():0,e.currentYear=o?n.getFullYear():0,this._adjustInstDate(e)}};var e=t.datepicker._updateDatepicker;t.datepicker._updateDatepicker=function(i){e.apply(this,arguments);var n=t.datepicker._get(i,"onUpdate");n&&n.apply(this,[])},t.datepicker._selectDay=function(e,i,n,s){var o=t(e);if(!t(s).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(o[0])){var a=this._getInst(o[0]);a.selectedDay=a.currentDay=t("a",s).text(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=n,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}}}(jQuery),function(t){function e(e){function n(t){return t===!1?function(t){return t}:"string"==typeof t&&(t=s(t.split("")))||"function"==typeof t?function(e){return t(encodeURIComponent(e))}:encodeURIComponent}function s(e){var i=RegExp(t.map(e,encodeURIComponent).join("|"),"ig");return function(t){return t.replace(i,decodeURIComponent)}}function o(t){return t===!1?function(t){return t.replace(/%20/g," ")}:decodeURIComponent}e=t.extend({unescape:!1},e||{}),i.encoder=n(e.unescape),i.decoder=o(e.unescape)}var i={put:function(t,e){(e||window).location.hash=this.encoder(t)},get:function(t){var e=odesk.url.parse((t||window).location.href).anchor;try{return this.decoder(e)}catch(i){return e}},encoder:function(t){return t},decoder:function(t){return t}},n={id:"__jQuery_history",init:function(){var e='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';return t("body").prepend(e),this},_document:function(){return t("#"+this.id)[0].contentWindow.document},put:function(t){var e=this._document();e.open(),e.close(),i.put(t,e)},get:function(){return i.get(this._document())}},s={};s.base={callback:void 0,type:void 0,check:function(){},load:function(){},init:function(t,i){e(i),o.callback=t,o._options=i,o._init()},_init:function(){},_options:{}},s.timer={_appState:void 0,_init:function(){var t=i.get();o._appState=t,o.callback(t),setInterval(o.check,100)},check:function(){var t=i.get();t!=o._appState&&(o._appState=t,o.callback(t))},load:function(t){t!=o._appState&&(i.put(t),o._appState=t,o.callback(t))}},s.iframeTimer={_appState:void 0,_init:function(){var t=i.get();o._appState=t,n.init().put(t),o.callback(t),setInterval(o.check,100)},check:function(){var t=n.get(),e=i.get();e!=t&&(e==o._appState?(o._appState=t,i.put(t),o.callback(t)):(o._appState=e,n.put(e),o.callback(e)))},load:function(t){t!=o._appState&&(i.put(t),n.put(t),o._appState=t,o.callback(t))}},s.hashchangeEvent={_init:function(){o.callback(i.get()),t(window).bind("hashchange",o.check)},check:function(){o.callback(i.get())},load:function(t){i.put(t)}};var o=t.extend({},s.base);o.type="onhashchange"in window?"hashchangeEvent":"timer",t.extend(o,s[o.type]),t.history=o}(jQuery),function(t){"use strict";var e=function(t,e){this.init("flyout",t,e)};t.extend(e.prototype,{init:function(e,i,n){var s,o;this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,"click"==this.options.trigger?this.$element.bind("click."+this.type,t.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(s="hover"==this.options.trigger?"mouseenter":"focus",o="hover"==this.options.trigger?"mouseleave":"blur",this.$element.bind(s+"."+this.type,t.proxy(this.enter,this)),this.$element.bind(o+"."+this.type,t.proxy(this.leave,this))),this.options.selector&&(this._options=t.extend({},this.options,{trigger:"manual",selector:""})),this.options.loading&&this.addLoading()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},getPosition:function(){var e=t.isFunction(this.$element[0].getBBox)?{width:this.$element[0].getBBox().width,height:this.$element[0].getBBox().height}:{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight};return t.extend({},this.$element.offset(),e)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);i[i.visible?"hide":"show"]()},setContent:function(e){var i=this.tip();if(e){if(this.options.content=e,this.loading&&this.removeLoading(),this.visible)return this.hide().show()}else e=this.getContent();e instanceof t&&e.show(),i.children(".oBd")[e instanceof jQuery?"append":"html"](e),i.removeClass("isTop isBottom isLeft isRight")},hasContent:function(){return this.getContent()||this.loading},getContent:function(){var e=this.$element,i=this.options;if(!i.content&&i.reveal&&t(i.reveal)){var n,s=i.container;n="this"==s?e:s?t(s):t(document.body);var o=n.find(i.reveal);i.content=o.length?o:null}return"function"==typeof i.content?i.content.call(e[0]):i.content},tip:function(){if(!this.$tip){var e=this.$tip=t(this.options.template).addClass(this.options.className).delegate(".jsFlyoutHide","click",this.hide.bind(this)).data("$element",this.$element);"hover"==this.options.trigger&&this.options.keepAlive&&this.$tip.bind("mouseenter",function(){this.$element.mouseenter()}.bind(this)).bind("mouseleave",function(){this.$element.mouseleave()}.bind(this)),this.options.isModal&&e.addClass(this.options.modalClass),e.addClass("isTop").appendTo(document.body);var i=e.children(".oFlyoutArrow");this.arrowPosition=i[0].style.left.length?i.css("left"):"50%",this.arrowSize=Math.abs(parseInt(e.css("margin-top"),10)),e.removeClass("isTop").detach(),this.options.hasCloseBtn&&t('<button class="oBtnCloseSmall"></button>').appendTo(e).bind("click",this.hide.bind(this))}return this.$tip},destroy:function(){this.hide().$element.unbind("."+this.type).removeData(this.type),this.$tip=null},show:function(){var e,i,n,s,o,a,r,l,u,c,d,h,p,f,m,g,v,y,b,_,k,w,C,D,T,x,S,E,F;if(!this.hasContent()||!this.enabled||!this.$element.is(":visible"))return this;if(i=this.tip(),this.visible)return this;if(this.visible=!0,n=i.children(".oFlyoutArrow"),this.setContent(),u="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,E=this.options.container,e=t(window),"this"==E?S=this.$element:E?(S=t(E),e=S):(F=t(document.body).children().filter(function(){var e=t(this);return"relative"==e.css("position")}).slice(0,1),S=1===F.length?F:t(document.body)),i.detach().css({top:0,left:0,display:"block"}).appendTo(S),this.options.width&&i.css("width",this.options.width),l=this.options.arrowPosition||this.arrowPosition,r=this.arrowSize,s=this.getPosition(),s.top=parseInt(s.top,10),s.left=parseInt(s.left,10),E&&"this"!=E&&(s=t.extend(!0,s,this.$element.position())),o=i[0].offsetWidth,a=i[0].offsetHeight,k=e.width(),w=e.height(),C=e.scrollLeft(),D=e.scrollTop(),E&&"this"!=E){var I=e.get(0).scrollHeight>e.get(0).clientHeight?30:0,M=e.get(0).scrollWidth>e.get(0).clientWidth?30:0;k-=I,w-=M}for(c=u.split(/\s/),T=0,x=c.length;x>T&&(u=c[T],!("left"==u&&s.left-o-r>C))&&!("right"==u&&C+k>s.left+s.width+o+r)&&!("top"==u&&s.top-a-r>D)&&!("bottom"==u&&D+w>s.top+s.height+a+r);T++);return h={},"left"==u||"right"==u?g=/%/.test(l)?a*parseInt(l,10)/100:parseInt(l,10):("top"==u||"bottom"==u)&&(v=/%/.test(l)?o*parseInt(l,10)/100:parseInt(l,10)),"bottom"==u||"top"==u?(p="bottom"==u?s.top+s.height:s.top-a,f=s.left+s.width/2-v,m=f+o,b=0,this.options.fixedPosition||(m>k+C?b=k+C-m:C>f&&(b=C-f)),d={top:p,left:f+b},h={left:v-b}):("left"==u||"right"==u)&&(f="left"==u?s.left-o:s.left+s.width,p=s.top+s.height/2-g,y=p+a,_=0,this.options.fixedPosition||(y>w+D?_=w+D-y:D>p&&(_=D-p)),d={top:p+_,left:f},h={top:g-_}),E&&"this"!=E?i.css(d):i.offset(d),i.addClass(this.options.size).addClass("is"+u[0].toUpperCase()+u.slice(1)),n[0].style.cssText="",n.css(h),this.$element.addClass("isActive"),this.options.clickAnywhereToClose&&(this.mousedown=function(t){this.$tip&&this.$tip.length&&!this.$tip[0].contains(t.target)&&!this.$element[0].contains(t.target)&&this.hide()}.bind(this),t(document).bind("mousedown",this.mousedown)),this.$element.trigger("show"),this},hide:function(){return this.tip().removeClass("isLeft isRight isTop isBottom").detach(),this.visible=!1,this.mousedown&&(t(document).unbind("mousedown",this.mousedown),this.mousedown=null),this.$element.removeClass("isActive").trigger("hide"),this},addLoading:function(){this.tip().addClass("isLoading"),this.loading=!0},removeLoading:function(){this.tip().removeClass("isLoading"),this.loading=!1}}),t.fn.flyout=function(i,n){return this.each(function(){var s=t(this),o=s.data("flyout"),a="object"==typeof i&&i;o||s.data("flyout",o=new e(this,a)),"string"==typeof i&&o[i](n)})},t.fn.flyout.defaults={placement:"bottom top right left",trigger:"hover",content:"",container:"",clickAnywhereToClose:!0,template:'<div class="oFlyout"><div class="oFlyoutArrow"></div><div class="oBd"></div></div>',className:"",delay:{show:400,hide:100},keepAlive:!0,fixedPosition:!1,isModal:!1,modalClass:"oModal"},t(document.body).delegate('[data-rel="flyout"]',"click",function(e){var i=t(e.currentTarget),n=i.data("trigger");"click"!=n||i.data("flyout")||i.flyout().click()}).delegate('[data-rel="flyout"]',"focus",function(e){var i=t(e.currentTarget),n=i.data("trigger");"focus"!=n||i.data("flyout")||i.flyout().focus()}).delegate('[data-rel="flyout"]',"mouseenter",function(e){var i=t(e.currentTarget),n=i.data("trigger");"hover"!=n&&n||i.data("flyout")||i.flyout({isModal:!!i.closest(".ui-dialog").length}).mouseenter()})}(jQuery),function(t){var e=function(){this.init.apply(this,arguments)},i=!!("placeholder"in t("<input>")[0]);if(!i){var n=t.fn.val;t.fn.val=function(t){return void 0===t&&this.hasClass("placeholder")?"":n.apply(this,arguments)};var s=t.fn.attr;t.fn.attr=function(t,e){return"placeholder"==t&&void 0!==e&&this.hasClass("placeholder")&&this.val(e),s.apply(this,arguments)}}e.prototype={init:function(e){var n=this.$element=t(e);if(!i){var s=this.$element.attr("placeholder");s&&(n.val()&&(n.removeClass("placeholder"),document.activeElement==e&&n.addClass("focused")),n.val()||document.activeElement==e||this.blur(),this.events(),n[0].form&&t(n[0].form).submit(t.proxy(this.submit,this)))}},events:function(){this.$element.bind("focus",t.proxy(this.focus,this)).bind("blur",t.proxy(this.blur,this))},focus:function(){this.$element.hasClass("placeholder")&&this.$element.val("").removeClass("placeholder").addClass("focused")},blur:function(){this.$element.val()||this.$element.val(this.$element.attr("placeholder")).addClass("placeholder").removeClass("focused")},submit:function(){this.$element.hasClass("placeholder")&&this.$element.val("")}},t.fn.oPlaceholder=function(){for(var t=0,i=this.length;i>t;t++)new e(this[t]);return this}}(jQuery),function(t){new odesk.Class("odesk.Menu","odesk.AbstractWidget",{options:{bufferTimeout:1e3,search:!0,ignoreKeys:[],currentClass:"isCurrent",selectedClass:"isSelected",hiddenClass:"isHidden",show:function(t){t.show()},hide:function(t){t.hide()},mousedownEvent:"touchstart mousedown",mouseupEvent:"touchend mouseup",clickEvent:"click",keepOpenSelectors:!1},init:function(e,i,n){this.name=e,this.$element=t(i),t.extend(!0,this.options,n),this.keyEvent="keydown",t.extend(this.events,odesk.events.makeMap(this.name,["change","show","hide"])),this.bound=this.bound||{},this.bound._onKeyDown=t.proxy(this._onKeyDown,this),this.bound._onOuterMousedown=t.proxy(this._onOuterMousedown,this),this.bound._onMouseup=t.proxy(this._onMouseup,this),this._addEvents(),this.buffer="",this.position={}},goNext:function(){if(this.$current){var t=this.$current.nextAll(":not(.unselectable):eq(0)");if(!t.length)return this;this.setCurrent(t)}else this.goFirst();return this},goPrev:function(){if(this.$current){var t=this.$current.prevAll(":not(.unselectable):eq(0)");if(!t.length)return this;this.setCurrent(t)}else this.goLast();return this},goFirst:function(){return this.setCurrent(this.$element.children(":not(.unselectable):first"))},goLast:function(){return this.setCurrent(this.$element.children(":not(.unselectable):last"))},show:function(){if(this.visible)return this;this.visible=!0,this.options.show(this.$element),this.removeCurrent(),this.$selected&&this.setCurrent(this.$selected);var t=this;return setTimeout(function(){t.visible&&t._addDocEvents()},1),this.ctx.mediator.publish(this.events.show),this},hide:function(){return this.visible?(this.visible=!1,this.options.hide(this.$element),this.removeCurrent(),this._removeDocEvents(),this.ctx.mediator.publish(this.events.hide),this):this},getCurrent:function(){return this.$current},setCurrent:function(t){return this.removeCurrent(),this.$current=t.addClass(this.options.currentClass),this.scrollTo(t),this},removeCurrent:function(){return this.$current&&this.$current.removeClass(this.options.currentClass),this.$current=null,this},scrollTo:function(t){var e=this.$element[0],i=t[0],n=e.scrollHeight-e.offsetHeight;if(0>n)return this;var s=i.offsetTop,o=s+i.offsetHeight;return e.scrollTop>s?e.scrollTop=s:o>e.scrollTop+e.offsetHeight&&(e.scrollTop=o-e.offsetHeight),this},_addEvents:function(){this.$element.bind(this.options.clickEvent,t.proxy(this._onClick,this)),this.$element.bind("mousemove",t.proxy(this._onMousemove,this)),this.$element.bind("mouseleave",t.proxy(this._onMouseleave,this))
},_onClick:function(e){var i=t(e.target),n=i.closest("li");n.length&&!n.hasClass("unselectable")&&this.select(n).hide()},_onMousemove:function(e){if(this.position.x!=e.pageX||this.position.y!=e.pageY){this.position={x:e.pageX,y:e.pageY};var i=t(e.target),n=i.closest("li").not(".unselectable");return this._resetBuffer(),n.length?(this.setCurrent(n),void 0):(this.removeCurrent(),void 0)}},_onMouseleave:function(){this.removeCurrent()},_addDocEvents:function(){t(document).bind(this.keyEvent,this.bound._onKeyDown).bind(this.options.mousedownEvent,this.bound._onOuterMousedown).bind(this.options.mouseupEvent,this.bound._onMouseup)},_removeDocEvents:function(){t(document).unbind(this.keyEvent,this.bound._onKeyDown).unbind(this.options.mousedownEvent,this.bound._onOuterMousedown).unbind(this.options.mouseupEvent,this.bound._onMouseup)},_onOuterMousedown:function(t){return this._keepMenuOpen(t)?(this.mousedown=!0,void 0):(this.hide(),void 0)},_keepMenuOpen:function(e){if(t.contains(this.$element[0],e.target)||this.$element[0]==e.target)return!0;for(var i in this.options.keepOpenSelectors)if(t(this.options.keepOpenSelectors[i]).length&&t.contains(t(this.options.keepOpenSelectors[i])[0],e.target))return!0;return!1},_onMouseup:function(){this.mousedown=!1},_onKeyDown:function(e){if(-1==t.inArray(e.keyCode,this.options.ignoreKeys))switch(e.keyCode){case 40:e.preventDefault(),this.goNext();break;case 38:e.preventDefault(),this.goPrev();break;case 33:e.preventDefault(),this.goFirst();break;case 34:e.preventDefault(),this.goLast();break;case 13:e.preventDefault(),this.select();break;case 32:e.preventDefault(),this.buffer?this._search(" "):this.select();break;case 8:case 27:e.preventDefault(),this.hide();break;default:this._search(String.fromCharCode(e.keyCode).toLowerCase())}},select:function(t){return(t=t||this.$current)?(this.$selected&&this.$selected.removeClass(this.options.selectedClass),this.$selected=t.addClass(this.options.selectedClass),this.ctx.mediator.publish(this.events.change,this.$selected),this.hide(),this):this},hideItem:function(t){return t?(this.$selected=t.addClass(this.options.hiddenClass),this):this},showItem:function(t){return t?(this.$selected=t.removeClass(this.options.hiddenClass),this):this},clearSelection:function(){return this.$selected&&(this.$selected.removeClass(this.options.selectedClass),this.$selected=null),this},_resetBuffer:function(){this.bufferTimer&&clearTimeout(this.bufferTimer),this.bufferTimer=null,this.buffer=""},_search:function(e){if(this.options.search){this.bufferTimer&&clearTimeout(this.bufferTimer),this.bufferTimer=setTimeout(t.proxy(this._resetBuffer,this),this.options.bufferTimeout);var i=this.buffer+e,n=this,s=!1,o=!1;this.$element.children().each(function(){var e=t(this).text().toLowerCase();if(e.substr(0,i.length)==i)return n.setCurrent(t(this)),s=this,!1;try{RegExp(i).test(e)&&(o=this)}catch(a){}}),o&&!s&&this.setCurrent(t(o)),(o||s||this.buffer)&&(this.buffer=i)}}})}(jQuery),function(t){"use strict";new odesk.Class("odesk.Dropdown","odesk.AbstractWidget",{options:{trigger:"touchstart mousedown"},init:function(e,i){this.$element=t(e),t.extend(this.options,i),t.extend(this.events,odesk.events.makeMap(this.name,["select","show","hide"])),this.$value=this.$element.children(".oDropdownValue"),this.$list=this.$element.children(".oDropdownList"),0!==this.$list.length&&(this.$list.children(".oDropdownHeader, .oDropdownFooter").addClass("unselectable"),this.registerWidget("menu",new odesk.Menu("menu",this.$list,{show:function(){},hide:function(){}})),this._addEvents())},_addEvents:function(){var t=this.options.trigger;"hover"==t&&(t="mouseenter",this.$element.bind("mouseleave",this.hide.bind(this))),this.$element.bind(t,this["mouseenter"!=t?"toggle":"show"].bind(this));for(t in{hide:1,show:1,change:1})this.subscribe(this.widgets.menu.events[t],this["_on"+odesk.string.capitalize(t)])},show:function(){return this.widgets.menu.show(),this},hide:function(){return this.widgets.menu.hide(),this},toggle:function(e){return t.contains(this.$list[0],e.target)?this:this.widgets.menu.visible?this.hide():this.show()},_onShow:function(){this.$value.addClass("isActive"),this.ctx.mediator.publish(this.events.show)},_onHide:function(){this.$value.removeClass("isActive"),this.ctx.mediator.publish(this.events.hide)},_onChange:function(t,e){this.ctx.mediator.publish(this.events.select,e)}}),t.extend(!0,odesk.Dropdown.prototype,odesk.mediator)}(jQuery),function(t){"use strict";window.odesk||(window.odesk={}),odesk.pageConfig||(odesk.pageConfig={});var e={options:{cookie:{name:"company_last_accessed"},tray:{newLabelSelector:".oCompanyNewMessageLabel",iconSelector:".oATSIconSmall.oMessagedIcon",template:'<strong class="oCompanyNewMessageLabel">new</strong><i class="oATSIconSmall oMessagedIcon"></i>',maxCounter:99,cookie:{name:"company_selector_counters",options:{expires:null,path:"/"}}},notification:{selector:".oIconNewMessage",template:'<span class="oIconNewMessage">NEW</span>'},companyContext:{qt:{name:"CT_896_MCCompanyContext-${cell}",cells:["Enabled","Cell1","Cell2","Cell3"]}},preOnChange:function(){},onChange:function(){document.location=this.changeHref(this.selected.ref)}},init:function(e,i){this.$element=t(e),this.options=t.extend(!0,{},this.options,i),this.registerWidget("dropdown",new odesk.Dropdown(this.$element)),this.subscribe(this.widgets.dropdown.events.select,t.proxy(function(t,e){this.select(e)},this)),this.subscribe(this.widgets.dropdown.events.show,t.proxy(function(){this.hideNotificationBadge()},this)),this.$value=this.widgets.dropdown.$value,this.data=this.getCookie()},getCurrentCompanyRef:function(){return""+this.$value.data("reference")},onChange:function(){this.options.preOnChange.apply(this),t.cookie(this.options.cookie.prefix+this.options.cookie.name,this.selected.ref,{expires:3600,path:"/",domain:this.options.cookie.domain}),this.options.onChange.apply(this)},changeHref:function(t){return"/home/index/"+t},select:function(t){this.selected={ref:t.data("reference"),name:this.parseNameFromHtml(t.html())},this.$value.data("reference",this.selected.ref).html(this.selected.name),this.onChange()},parseNameFromHtml:function(e){var i=t(e.trim());return i.find(this.options.tray.newLabelSelector).remove(),i.text()},addEvents:function(){this.bound={};var t=this,e=function(e){t.bound[e]=function(){t[e].apply(t,arguments)}};for(var i in{onOpen:1,onSelect:1,onOuterMousedown:1,onClick:1})e(i);this.$items.length&&this.$element.find(".display").bind("mousedown",this.bound.onOpen).bind("click",this.bound.onClick),this.$element.find(".item").bind("click",this.bound.onSelect)},onOpen:function(t){this.mousedown=!1,this.opened||1!=t.which||(this.mousedown=!0,this.open())},onClick:function(){this.mousedown||this.close()},onOuterMousedown:function(e){var i=t(e.target);i.closest(".simple-company-selector").length||this.close()},onSelect:function(e){this.select(t(e.target)),this.close()},open:function(){this.opened=!0,t(document).bind("mousedown",this.bound.onOuterMousedown),this.$value.addClass("open"),this.$items.hide(),this.$items.animate({opacity:"show"},350)},close:function(){this.opened=!1,this.$value.removeClass("open"),t(document).unbind("mousedown",this.bound.onOuterMousedown),this.$items.animate({opacity:"hide"},200)},addBadge:function(e,i,n){var s=e.find(this.options.tray.newLabelSelector),o=e.find(this.options.tray.iconSelector),a=Boolean(s.length),r=Boolean(+i);(a||r)&&(a||(e.append(t.tmpl(this.options.tray.template,{counter:this.formatCounter(i)})),e.addClass("isMessaged"),odesk.logger.say("odesk.SimpleCompanySelector: added badge for company ID: "+n)),r||(s.remove(),o.remove(),e.removeClass("isMessaged"),odesk.logger.say("odesk.SimpleCompanySelector: removed badge from company ID: "+n)))},formatCounter:function(t){return+t>this.options.tray.maxCounter?this.options.tray.maxCounter+"+":t},updateBadges:function(e){var i=t(),n="";if(e&&this.companyContextEnabled()){for(n in e)i=this.$element.find('[data-reference="'+n+'"] a'),i.length&&this.addBadge(i,e[n],n);this._checkForUpdatedCounters(e)&&this.showNotificationBadge(),this.data=e,this.setCookie(e)}},_checkForUpdatedCounters:function(e){if(!t.isPlainObject(this.data))return!1;for(var i in e)if("none"!==i&&!odesk.pageConfig.companyRef&&this.data[i]<e[i])return!0;return!1},showNotificationBadge:function(){var e=t();return this.hasNew||!this.companyContextEnabled()?!1:(e=t(this.options.notification.template),e.css("opacity",0).prependTo(this.$element).css("top",parseInt(e.css("top"),10)-20).animate({top:parseInt(e.css("top"),10)+20,opacity:1},1e3,"easeOutBounce"),this.hasNew=!0,odesk.logger.say("odesk.SimpleCompanySelector: show notification badge"),!0)},hideNotificationBadge:function(){var e=t();return this.hasNew?(e=this.$element.find(this.options.notification.selector),e.animate({top:parseInt(e.css("top"),10)-20,opacity:0},500,"easeOutQuad",function(){e.remove()}),this.hasNew=!1,odesk.logger.say("odesk.SimpleCompanySelector: hide notification badge"),!0):!1},getCookie:function(){var e=t.cookie(this.options.cookie.prefix+this.options.tray.cookie.name),i={};if(!e)return i;try{i=odesk.json.parse(e),t.isPlainObject(i)||(i={})}catch(n){odesk.logger.say("odesk.SimpleCompanySelector: can't parse json in cookie",e[1])}return i},setCookie:function(e){t.cookie(this.options.cookie.prefix+this.options.tray.cookie.name,odesk.json.stringify(e),this.options.tray.cookie.options)},companyContextEnabled:function(){var t=this.options.companyContext.qt,e=0;if(!odesk.qt)return!1;for(;t.cells.length>e;e++)if(odesk.qt[t.name.replace("${cell}",t.cells[e])])return!0;return!1}};new odesk.Class("odesk.SimpleCompanySelector","odesk.AbstractWidget",e),odesk.mediator&&t.extend(!0,odesk.SimpleCompanySelector.prototype,odesk.mediator)}(jQuery),function(t){"use strict";odesk.Launchbar=function(){return this.init.apply(this,arguments),this},odesk.Launchbar.prototype={options:{initialDelay:9e5,maxAttempts:11,cookie:{options:{expires:null,path:"/"}},companyContext:{trayInbox:"inbox",widget:"simpleCompanySelector",qt:{name:"CT_896_MCCompanyContext-${cell}",cells:["Enabled","Cell1","Cell2","Cell3"]}},statsUrl:"/api/mc/v2/trays/{uid}/{trays}/stats.json",contentsUrl:"/api/mc/v2/trays/{uid}/{trays}/contents.json",maxNotifications:20,maxMessages:99,onRemove:function(){},badgeAction:"appendTo",inboxSel:"a.jsNavMC",alertSel:".oNavIconNotifications",alertMenuSel:".oNavIconNotifications + .oDropdownList",helpSel:".oNavIconHelp",badgeSel:".oIconUnreadCount",badgeCls:"oIconUnreadCount",ticketsSel:".jsTickets",disputesSel:".jsDisputes",hiddenCls:"isHidden",unreadCls:"isUnread"},init:function(e,i){this.$element=t(e),t.extend(!0,this.options,i),this.$inbox=this.$element.find(this.options.inboxSel),this.$notifications=this.$element.find(this.options.alertSel),this.$tickets=this.$element.find(this.options.helpSel),this.$notificationsMessages=this.$element.find(this.options.alertMenuSel),this.$searchFrom=this.$element.find("form"),this.$searchInput=this.$searchFrom.find('input[type="text"]'),this.$element.find(".oDropdown").each(function(e,i){var n=new odesk.Dropdown(i,{trigger:"mousedown"}),s=t(i).children(".oNavIconNotifications").length;s&&(this.registerWidget("notifications",n),this.subscribe(this.widgets.notifications.events.show,function(){this.$notificationsMessages.children(".isLoading").length&&this.loadTray("notifications")}))}.bind(this)),this.$inbox.length&&(this.$element.find(".oBtnCloseAnnouncement").bind("click",t.proxy(function(e){t(e.target).closest(".oAnnouncement").remove(),t.cookie(this.options.cookie.prefix+"hideRebrandAnnouncement","1",this.options.cookie.options)},this)),this.options.cookie.options.expires||(this.options.cookie.options.expires=this.options.initialDelay/864e5),this._checkCookieValue(),this.trayLoading={},this.initRemoveNotifications(),this.initSearch())},_checkCookieValue:function(){var e=this.encodeCookie(t.cookie(this.options.cookie.name));this.timer&&clearTimeout(this.timer),t.isEmptyObject(e.trays)?(odesk.logger.say("odesk.Launchbar: cookie was not set or is invalid. Starting to load data from server."),this.loadTraysCount()):(this.update(e),this.timer=setTimeout(this._checkCookieValue.bind(this),this.options.initialDelay/10))},loadTraysCount:function(){var t=this;this.saveCookie(),odesk.poll({dataType:"json",url:this.options.statsUrl.replace("{uid}",this.options.uid).replace("{trays}","notifications;inbox;tickets;disputes"),data:{context:odesk.pageConfig.companyRef},pollDone:function(e){odesk.logger.say("odesk.Launchbar: poll done, received data from server:",e),t.updateData(e)},pollDelay:t.options.initialDelay,pollMaxFailedAttempts:t.options.maxAttempts})},updateData:function(e){return t.isPlainObject(e)&&(this.update({trays:this._getTraysData(e.trays),unreadByCompany:this._getCompanyUnreadData(e.trays,this.options.companyContext.trayInbox)}).saveCookie(),odesk.logger.say("odesk.Launchbar: updated data:",e)),this},_getTraysData:function(e){var i={},n="";if(t.isPlainObject(e))for(n in e)i[n]=parseInt(e[n].unread,10);if(t.isArray(e))for(var s=0,o=e.length;o>s;s++)i[e[s].type]=parseInt(e[s].unread,10);return i},_getCompanyUnreadData:function(e,i){if(t.isPlainObject(e))for(var n in e)if(e[n].type===i&&e[n].unread_counts)return e[n].unread_counts;if(t.isArray(e))for(var s=0,o=e.length;o>s;s++)if(e[s].type===i&&e[s].unread_counts)return e[s].unread_counts;return{}},encodeCookie:function(e){var i={trays:{},unreadByCompany:{}};try{var n=odesk.json.parse(e);t.isPlainObject(n)&&(i=n)}catch(s){odesk.logger.say("odesk.Launchbar: can't parse cookie",e)}return i},decodeCookie:function(e){return t.isEmptyObject(e)||t.isEmptyObject(e.trays)?"":odesk.json.stringify(e)},saveCookie:function(){return t.cookie(this.options.cookie.name,this.decodeCookie(this.data),this.options.cookie.options),this},clearCookie:function(){return t.cookie(this.options.cookie.name,"",this.options.cookie.options),this},update:function(e){this.data=e;var i={tickets:e.trays.tickets||0,disputes:e.trays.disputes||0,inbox:this.formatCounter(e.trays.inbox),notifications:e.trays.notifications>this.options.maxNotifications?this.options.maxNotifications+"+":e.trays.notifications};this.companyContextEnabled()&&(i.inbox=e.unreadByCompany?this.formatCounter(e.unreadByCompany[odesk.pageConfig.companyRef]):0),this.removeOldBadges(),t(this.options.ticketsSel).text("Tickets "+(i.tickets?"("+i.tickets+")":"")),t(this.options.disputesSel).text("Disputes "+(i.disputes?"("+i.disputes+")":"")),this.addBadge("tickets",i.tickets+i.disputes);for(var n in i)0>t.inArray(n,["tickets","disputes"])&&this.addBadge(n,i[n]||0);return this.updateCompanyBadges(e.unreadByCompany),this},formatCounter:function(t){return+t>this.options.maxMessages?this.options.maxMessages+"+":+t?t:0},updateCompanyBadges:function(t){var e=odesk.preLoadedWidgets[this.options.companyContext.widget];return this.companyContextEnabled()?(e&&"function"==typeof e.updateBadges&&e.updateBadges(t),this):this},removeOldBadges:function(){this.$element.find(this.options.badgeSel).remove()},addBadge:function(e,i){if(i){var n=this["$"+e],s=this.options.badgeCls||e+"-count",o=t('<span class="'+s+'">'+i+"</span>");o[this.options.badgeAction](n)}},showMenu:function(t){t.prev().addClass("open"),t.animate({opacity:"show"},350)},hideMenu:function(t){t.prev().removeClass("open"),t.animate({opacity:"hide"},200)},getSearchAction:function(){var e={nbs:1,g:"",q:this.$searchInput.val()};if(odesk.featureFlags&&odesk.featureFlags.CO1119SearchInTopNavbar){var i=this.$searchFrom.find('input[name="for"]:checked');return("jobs"===i.val()?"/jobs/?":"/contractors/?")+t.param(e)}var i=this.$searchFrom.find("option:selected");return("Find Jobs"===i.val()?"/jobs/?":"/contractors/?")+t.param(e)},initSearch:function(){var e=this,i=this.$searchFrom.bind("submit",function(){return document.location.href=e.getSearchAction(),!1}),n=this.$searchInput;odesk.featureFlags&&odesk.featureFlags.CO1119SearchInTopNavbar?this.$searchFrom.find(".dropdown label").on("click",function(){var i=t(this).prev(),n=t(this).parent();n.find("input").prop("checked",!1),n.find("input").removeAttr("checked"),i.prop("checked",!0),i.attr("checked","checked"),e.$searchInput.attr("placeholder",i.data("placeholder")),n.hasClass("active")?n.removeClass("active"):(n.addClass("active"),t("html").one("click",function(){n.removeClass("active")}),n.on("click",function(t){t.stopPropagation()}))}):i.find("select").bind("change",function(){n.attr("placeholder",t(this).val())}).change(),odesk.qt&&(odesk.qt["SkillsInSearchPhase1-Treatment1"]||odesk.qt["SkillsInSearchPhase1-Treatment2"])&&odesk.SearchSuggest&&(this._searchSuggest=new odesk.SearchSuggest("searchSuggest","#jsSearchSuggest"))},initRemoveNotifications:function(){var e=this;e.removed={},this.$element.bind("click",function(i){var n=t(i.target);if(n.hasClass("oBtnCloseMessage")){var s=n.closest("[data-id]"),o=s.attr("data-id");return e.remove(o),!1}})},remove:function(t){if(!this.removed[t]){this.removed[t]=!0;var e=this.$element.find('[data-id="'+t+'"]'),i=this.options.hiddenCls;e.hasClass(i)||this.$notificationsMessages.find("."+i+":eq(0)").removeClass(i).hide().slideDown(400),e.slideUp(400,function(){e.remove()}),odesk.ajax({url:"/api/mc/v2/threads/"+this.options.uid+"/"+t+".json",dataType:"json",data:{deleted:!0,http_method:"put",context:odesk.pageConfig.companyRef},type:"post"}),this.options.onRemove.call(this,t)}},loadTray:function(t){if(!this.trayLoading[t]){this.trayLoading[t]=!0;var e=this;odesk.ajax({dataType:"json",url:this.options.contentsUrl.replace("{uid}",this.options.uid).replace("{trays}",t)+"?page=0%3B"+("inbox"==t?5:20),data:{context:odesk.pageConfig.companyRef},success:function(i){e.trayLoading[t]=!1,e.renderTray(t,i),"notifications"==t&&(e.data.trays.notifications=0,e.saveCookie())},error:function(i){switch(e.trayLoading[t]=!1,i.status){case 504:e.renderEmptyTray(t,"Connection timeout. Please try again later.");break;default:e.renderEmptyTray(t,"An error has occured. Please try again later.")}}})}},renderTray:function(e,i){var n=[],s=this["$"+e+"Messages"],o=i.trays[0].threads;if(o||(o=[]),t.isArray(o)||(o=[o]),o.length)for(var a=0,r=o.length;r>a;a++){var l,u=o[a],c="inbox"==e?u.last_post_preview:u.subject,d=1e3*parseInt(u.last_post_ts,10),h=1e3*parseInt(i.auth_user.timezone_offset,10);odesk.date?(l=odesk.date.format(new Date(d),"%u",h),d=odesk.date.format(new Date(d),"%L",h)):(window.server_time=1e3*i.server_time,d=new Date(d).format("%L",h));var p,f=null;if(c){p=c.match(/\[\[(.*?)\|(.*?)\]\]/);var m=c.match(/\[\[(.*?)\|(.*?)\]\]/g);m&&m.length>0&&(f=p[1],c=c.replace(/\[\[(.*?)\|(.*?)\]\]/g,"$2")),n.push('<li class="unselectable '+(a>=5?"isHidden":"")+'" data-id="'+u.thread_id+'">'+"<"+(f?'a href="'+f+'"':"div")+' class="oDropdownItem'+(f?" oNavDarkLink":"")+("t"!=u.read?" "+this.options.unreadCls:"")+'">'+'<div class="oMed">'+'<div class="oImgExt"><div class="oBtnCloseMessage"></div></div>'+'<div class="oBd">'+'<div class="oNotification">'+c+"</div>"+"</div>"+"</div>"+"</"+(f?"a":"div")+">"+"</li>")}}s.find("li.isLoading").remove(),t(n.join("")).insertBefore(s.find("li.oDropdownFooter")),s.find("div.oNotification a").addClass("oNavDarkLink"),this.$notifications.find("span.oIconUnreadCount").remove(),s.find("a.oDropdownItem, div.oDropdownItem a").addClass("gaet-tracking").attr("gaet-category","db_notification").attr("gaet-action","click")},renderEmptyTray:function(t,e){var i=this["$"+t+"Messages"];i.html('<div class="txtCenter">'+e+"</div>")},companyContextEnabled:function(){var t=this.options.companyContext.qt,e=0;if(!odesk.qt)return!1;for(;t.cells.length>e;e++)if(odesk.qt[t.name.replace("${cell}",t.cells[e])])return!0;return!1}},odesk.mediator&&t.extend(!0,odesk.Launchbar.prototype,odesk.mediator)}(jQuery),function(t){new odesk.Class("odesk.Loading",{displayed:!1,type:null,elementTemplates:{small:'<aside class="oIndicatorMsg"></aside>',large:'<aside class="oIndicatorLrg"></aside>'},init:function(){this.$modal=t('<div class="oOverlay"></div>')},show:function(e,i,n){var s=n?"large":"small";return this.type!=s&&(this.displayed&&this.hide(),this.type=s,this.$element=t(this.elementTemplates[this.type])),e=e||"Loading...",this.displayed?(this._changeText(e),this._toggleModal(i),this):(this.displayed=!0,this._toggleModal(i),this.$element.html(e),this.$element.appendTo(document.body),this.changeElementPosition().fadeIn(500),this)},hide:function(){var t=this;return this.displayed=!1,this.$element&&this.$element.length?(this.$element.fadeOut(500,function(){t._toggleModal(!1),t.displayed||t.$element.detach().removeAttr("style")}),this):this},isDisplayed:function(){return this.displayed},flash:function(t,e,i,n){return this.show(t,i,n),setTimeout(this.hide.bind(this),e||2e3),this},setText:function(t,e,i,n){if(!this.displayed)return this.flash(t,e,i,n);var s=this.$element.html();return this._changeText(t),setTimeout(this._changeText.bind(this,s),e||2e3),this},_toggleModal:function(t){return t?this.$modal.appendTo(document.body):this.$modal.detach(),this},_changeText:function(t){this.$element.html(t),this.changeElementPosition()},changeElementPosition:function(){return this.$element.position({my:"center",at:"center top+"+(t(document).scrollTop()+t(window).height()/2),of:"body"}),this.$element},isInViewport:function(){var e=t(window),i={top:e.scrollTop(),left:e.scrollLeft()},n=this.$element.offset();return i.right=i.left+e.width(),i.bottom=i.top+e.height(),n.right=n.left+this.$element.outerWidth(),n.bottom=n.top+this.$element.outerHeight(),!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)}}),odesk.loading=new odesk.Loading}(jQuery),function(t){new odesk.Class("odesk.Showbox",{options:{type:"friendly",timeout:!1},init:function(e){this.options=t.extend(this.options,e),this.$element=t(this._createBox()),this._addEvents()},_createBox:function(){return'<div class="ui-dialog" role="dialog"><div class="ui-dialog-titlebar"><span class="ui-dialog-title">'+this.options.title+"</span>"+'<a href="#" class="ui-dialog-titlebar-close" role="button">'+'<span class="ui-icon-closethick">close</span>'+"</a>"+"</div>"+'<div class="ui-dialog-content">'+'<div class="content">'+this.options.message+"</div>"+"</div>"+"</div>"+'<div class="ui-widget-overlay"></div>'},show:function(){this.$element.appendTo(document.body);var e=t(window),i=this.$element.filter(".ui-dialog");return i.css({left:Math.round((e.width()-i.width())/2),top:e.scrollTop()+Math.round((e.height()-i.height())/2),"z-index":10002}),this.$element.filter(".ui-widget-overlay").css({width:"100%",height:t(document).height(),"z-index":10001}),this.$element.fadeIn("slow",t.proxy(function(){this.options.timeout&&this._startTimer()},this)),this},hide:function(e){return e=e||"slow",clearTimeout(this.timer),this.$element.fadeOut(e,function(){t(this).remove()}),this},_startTimer:function(){var t=this;this.timer=setTimeout(function(){t.hide(1e3)},this.options.timeout)},_addEvents:function(){var e=this;t(".ui-dialog-titlebar-close",this.$element).bind("click",function(){return e.hide(),!1}),this.$element.filter(".ui-widget-overlay").bind("click",function(){return e.hide(),!1})}})}(jQuery),function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return e&&e.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing"),void 0;var i=t.data(this[0],"validator");if(i)return i;if(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit){var n=this.find("input, button");n.filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&n.filter(":submit").click(function(){i.submitButton=this}),this.submit(function(e){function n(){if(i.settings.submitHandler){if(i.submitButton)var e=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&e.remove(),!1}return!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})}return i},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e&=i.element(this)}),e},removeAttrs:function(e){var i={},n=this;return t.each(e.split(/\s/),function(t,e){i[e]=n.attr(e),n.removeAttr(e)}),i},rules:function(e,i){var n=this[0];if(e){var s=t.data(n.form,"validator").settings,o=s.rules,a=t.validator.staticRules(n);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),o[n.name]=a,i.messages&&(s.messages[n.name]=t.extend(s.messages[n.name],i.messages));break;case"remove":if(!i)return delete o[n.name],a;var r={};return t.each(i.split(/\s/),function(t,e){r[e]=a[e],delete a[e]}),r}}var l=t.validator.normalizeRules(t.extend({},t.validator.metadataRules(n),t.validator.classRules(n),t.validator.attributeRules(n),t.validator.staticRules(n)),n);if(l.required){var u=l.required;delete l.required,l=t.extend({required:u},l)}return l}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+e.value)},filled:function(e){return!!t.trim(""+e.value)},unchecked:function(t){return!t.checked}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1==arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),i)}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t){(t.name in this.submitted||t==this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),n="on"+e.type.replace(/^validate/,"");i.settings[n]&&i.settings[n].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,n){t.each(n.split(/\s/),function(t,n){i[n]=e})});var n=this.settings.rules;t.each(n,function(e,i){n[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e);return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1==t.grep(this.errorList,function(t){return t.element.name==e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){return t(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},check:function(e){e=this.validationTargetFor(this.clean(e));var i=t(e).rules(),n=!1;for(var s in i){var o={method:s,parameters:i[s]};try{var a=t.validator.methods[s].call(this,e.value.replace(/\r/g,""),e,o.parameters);if("dependency-mismatch"==a){n=!0;continue}if(n=!1,"pending"==a)return this.toHide=this.toHide.not(this.errorsFor(e)),void 0;if(!a)return this.formatAndAdd(e,o),!1}catch(r){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+e.id+", check the '"+o.method+"' method",r),r
}}return n?void 0:(this.objectLength(i)&&this.successList.push(e),!0)},customMetaMessage:function(e,i){if(t.metadata){var n=this.settings.meta?t(e).metadata()[this.settings.meta]:t(e).metadata();return n&&n.messages&&n.messages[i]}},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor==String?i:i[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customMetaMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,e.parameters,t):n.test(i)&&(i=jQuery.format(i.replace(n,"{$1}"),e.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){for(var t=0;this.errorList[t];t++){var e=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(var t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(var t=0,i=this.validElements();i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n=this.errorsFor(e);n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.attr("generated")&&n.html(i)):(n=t("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(n).length||(this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e))),!i&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")==i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){var i=this.currentForm;return t(document.getElementsByName(e)).map(function(t,n){return n.form==i&&n.name==e&&n||null})},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){return!t.validator.methods.required.call(this,t.trim(e.value),e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],i&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0==this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor==String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},n=t(e);for(var s in t.validator.methods){var o;o="required"===s&&"function"==typeof t.fn.prop?n.prop(s):n.attr(s),o?i[s]=o:n[0].getAttribute("type")===s&&(i[s]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(e){if(!t.metadata)return{};var i=t.data(e.form,"validator").settings.meta;return i?t(e).metadata()[i]:t(e).metadata()},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(s===!1)return delete e[n],void 0;if(s.param||s.depends){var o=!0;switch(typeof s.depends){case"string":o=!!t(s.depends,i.form).length;break;case"function":o=s.depends.call(i,i)}o?e[n]=void 0!==s.param?s.param:!0:delete e[n]}}),t.each(e,function(n,s){e[n]=t.isFunction(s)?s(i):s}),t.each(["minlength","maxlength","min","max"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){e[this]&&(e[this]=[Number(e[this][0]),Number(e[this][1])])}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e.messages&&delete e.messages,e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!=n?n:t.validator.messages[e],3>i.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var s=t(i).val();return s&&s.length>0;case"input":if(this.checkable(i))return this.getLength(e,i)>0;default:return t.trim(e).length>0}},remote:function(e,i,n){if(this.optional(i))return"dependency-mismatch";var s=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),s.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=s.message,n="string"==typeof n&&{url:n}||n,this.pending[i.name])return"pending";if(s.old===e)return s.valid;s.old=e;var o=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:n,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(n){o.settings.messages[i.name].remote=s.originalMessage;var a=n===!0;if(a){var r=o.formSubmitted;o.prepareElement(i),o.formSubmitted=r,o.successList.push(i),o.showErrors()}else{var l={},u=n||o.defaultMessage(i,"remote");l[i.name]=s.message=t.isFunction(u)?u(e):u,o.showErrors(l)}s.valid=a,o.stopRequest(i,a)}},n)),"pending"},minlength:function(e,i,n){return this.optional(i)||this.getLength(t.trim(e),i)>=n},maxlength:function(e,i,n){return this.optional(i)||n>=this.getLength(t.trim(e),i)},rangelength:function(e,i,n){var s=this.getLength(t.trim(e),i);return this.optional(i)||s>=n[0]&&n[1]>=s},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&i[1]>=t},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 -]+/.test(t))return!1;var i=0,n=0,s=!1;t=t.replace(/\D/g,"");for(var o=t.length-1;o>=0;o--){var a=t.charAt(o),n=parseInt(a,10);s&&(n*=2)>9&&(n-=9),i+=n,s=!s}return 0==i%10},accept:function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(RegExp(".("+i+")$","i"))},equalTo:function(e,i,n){var s=t(n).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()});return e==s.val()}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,n){var s=t.port;"abort"==t.mode&&(e[s]&&e[s].abort(),e[s]=n)});else{var i=t.ajax;t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,o=("port"in n?n:t.ajaxSettings).port;return"abort"==s?(e[o]&&e[o].abort(),e[o]=i.apply(this,arguments)):i.apply(this,arguments)}}}(jQuery),function(t){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||t.each({focus:"focusin",blur:"focusout"},function(e,i){function n(e){return e=t.event.fix(e),e.type=i,t.event.handle.call(this,e)}t.event.special[i]={setup:function(){this.addEventListener(e,n,!0)},teardown:function(){this.removeEventListener(e,n,!0)},handler:function(e){return arguments[0]=t.event.fix(e),arguments[0].type=i,t.event.handle.apply(this,arguments)}}}),t.extend(t.fn,{validateDelegate:function(e,i,n){return this.bind(i,function(i){var s=t(i.target);return s.is(e)?n.apply(s,arguments):void 0})}})}(jQuery),function(t){t.fn.fieldhelp=function(t){for(var i=this.filter("[data-help]").add(this.find("[data-help]")),n=0,s=i.length;s>n;n++)new e(i[n],t);return this};var e=function(){return this.initialize.apply(this,arguments),this};e.prototype={options:{template:'<span class="fieldhelp">{help}</span>'},initialize:function(e,i){this.options=t.extend({},this.options),t.extend(this.options,i),this.element=t(e),this.element.data("fieldhelp",this),this.help=this.element.attr("data-help"),this.createHelp()},createHelp:function(){this.helpElement=t(this.options.template.replace("{help}",this.help)),this.hidden=!0},show:function(){this.hidden&&(this.hidden=!1,this.helpElement.insertAfter(this.element))},hide:function(){this.hidden||(this.hidden=!0,this.helpElement.remove())}}}(jQuery),function(t){var e={ignoreIndex:!0,attrName:"tabindex",bindEventType:"keydown",ignoreElements:".ignoreTabbing, [readonly]",includeElements:null,focusFirstElement:!0};t.fn.oTabIndex=function(i){this.each(function(){i=t.extend({},e,i);var n=t(this),s=function(){return n.find(":tabbable"+(i.includeElements?","+i.includeElements:"")).not(n.find(i.ignoreElements))};if(i.focusFirstElement&&!t(document.activeElement).is(":tabbable")){var o=s();o.length&&o[0].focus()}n.data("oTabindex")||n.data("oTabindex",!0).bind(i.bindEventType,function(t){if(9==t.keyCode){var e=s(),i=e.index(t.target);t.shiftKey?0>--i&&(i=e.length-1):++i==e.length&&(i=0),t.stopPropagation(),t.preventDefault(),e[i].focus()}}).bind("keydown, keypress",function(t){return 9==t.keyCode?!1:void 0})})}}(jQuery),function(t){t.validator.prototype.getHelpId=function(e){var i=t(e),n=i.data("source-input");return n&&n.length&&(i=n),/\[.*\]/.test(i.attr("name"))?i.attr("id"):i.attr("name")},t.validator.prototype.showLabel=function(e,i){var n,s,o,a=this.settings,r=this;if(t(e).is(":focus")&&t(this.currentForm).find("#oFormHelp-"+this.getHelpId(e)).toggleClass("isHidden",!!i),!i&&this.groups[e.name]&&(s=this.groups[e.name],t.each(a.groups[s].split(/\s/),function(t,e){return r.invalid[e]?(o=!0,!1):void 0})),!o){if(a.errorsAtTop){var l=t(a.errorContainer);l.data("modified")||l.html("").data("modified",!0),n=l.find('[data-for="'+this.idOrName(e)+'"]'),n.length||(n=t("<"+a.errorElement+' data-for="'+this.idOrName(e)+'" class="'+a.labelErrorClass+'">').appendTo(l)),n.html(i),i||n.remove();var u;return l.children().each(function(){var e=this.innerHTML;t(this).toggleClass("isHidden",e==u),u=e}),l.toggleClass("isHidden",!l.find("[data-for]").length),void 0}if(t(this.currentForm).find(a.errorElement+'.oFormMsg[data-for="'+this.idOrName(e)+'"]').remove(),i instanceof jQuery?n=i:(n=t("<"+a.errorElement+' data-for="'+this.idOrName(e)+'" class="oFormMsg '+a.labelErrorClass+'">'),n.html(i||"")),a.errorLinkTarget&&n.find("a").attr("target",a.errorLinkTarget),a.errorPlacement(n,t(e)),i||a.success(n),i||n.data("element")&&n.data("element").data("hasSuccessMsg")?this.toShow=this.toShow.add(n):n.remove(),!a.errorsAtRight&&!n.hasClass("oFormErrorBottom")){var c=n.closest(".oFormField");if(!c.length)return;var d=n[0].offsetHeight,h=c[0].offsetHeight,p=parseInt(c.css("margin-bottom"),10),f=c.offset().top,m=n.offset().top;d+m-f>h+p&&n.addClass("oFormErrorBottom")}}},t.validator.initRules={},t.validator.initClassRules={},t.fn.oFormValidation=function(e){if(!this[0])return this;var i=this;e=e||{},e=t.extend({disabledButtons:i.find(":submit"),errorAlert:"#formErrors"},e);var n="oErrorField";e.helpTip&&i.find("[data-help]").each(function(){var e=t(this);e.parent().prev().append('<span class="helpTip" title="'+e.data("help")+'"></span>')});var s=t.validator.defaults.rules,o=t.validator.defaults.messages;delete t.validator.defaults.rules,delete t.validator.defaults.messages,t.validator.defaults.errorPlacements={},e=t.extend({noAsterisk:!0,errorContainer:e.errorsAtTop?"#formErrors":void 0,errorElement:"div",errorLinkTarget:"_blank",focusInvalid:!1,errorClass:n,hideOk:!0,labelErrorClass:e.errorsAtTop?"":"oFormError",labelValidClass:"oFormSuccess",ignored:".ignored",ignore:"",scrollToElement:document.body,errorPlacement:function(e,i){var n=i.data("fieldhelp");n&&n.hide(),e.data("element",i);var s=this.errorPlacements[i[0].name];if(s)return s.apply(this,[e,i]),void 0;var o=t("#oFormMsgHolder-"+t.validator.prototype.getHelpId(i));o.length?e.appendTo(o):e.insertAfter(i)},onkeyup:function(e){if(!this.settings.validateOnSubmit[e.name]){var i=t(e);i.is(this.settings.ignored)||(i.data("modified")||i.data("modified",0>t.inArray(i.data("value"),[void 0,i.val()])),(i.data("modified")||i.hasClass(n))&&this.element(e))}},onfocusin:function(e){var i=t(e);i.is(this.settings.ignored)||(this.lastActive=e,i.addClass("focus").data("value",i.val()))},onfocusout:function(e){if(!this.settings.validateOnSubmit[e.name]){var i=t(e);if(!i.is(this.settings.ignored)){i.removeClass("focus").data("modified",0>t.inArray(i.data("value"),[void 0,i.val()])),(i.data("modified")||i.hasClass(n))&&this.element(e);var s=i.data("fieldhelp");s&&s.hide()}}},onclick:function(e){t(e).is("option")&&(e=e.parentNode);var i=t(e);if(!i.is(this.settings.ignored)&&i.is("select, :checkbox, :radio")&&e.value){if(e.value){var n=this.groups[e.name],s=!0;if(n)for(var o in this.groups)if(this.groups[o]===n&&!t(this.findByName(o)).val()){s=!1;break}s&&i.data("field-changed",!0)}i.data("field-changed")&&this.element(e),!i.data("modified")&&e.value&&i.data("modified",!0).closest("dd").find("ul.errors").detach()}},success:function(t){i.trigger("success",[t]);var n=t.data("element");e.hideOk||n&&(n.is(".hideOk, .focus")||!n.val())||t.html("ok"),t.removeClass(this.labelErrorClass).addClass(this.labelValidClass),t.html()||t.addClass("oFormSuccessEmpty")},validateOnSubmit:{}},e),e.rules=t.extend({},s,e.rules),e.messages=t.extend({},o,e.messages),i.validate(e),t.validator.defaults.rules=s,t.validator.defaults.messages=o,e.initPhoneRules&&t.validator.methods.phone&&t.validator.methods.phone.initPhoneClassRules();for(var a in t.validator.initRules)for(var r in e.rules)e.rules[r][a]&&i[0][r]&&t.validator.initRules[a](i[0][r]);var l=function(e){return function(){t.validator.initClassRules[e](t(this))}};for(var u in t.validator.initClassRules)i.find("."+u).each(l(u));i.bind("submit",function(){if(i.valid()){if(t(e.errorAlert).addClass("isHidden"),e.callback&&e.callback()===!1)return!1;t(e.disabledButtons).addClass("disabled").prop("disabled",!0)}else{if(t(e.errorAlert).removeClass("isHidden").show().length){var n=t(e.scrollToElement).offset();window.scrollTo(n.left,n.top)}t(e.disabledButtons).removeClass("disabled").prop("disabled",!1)}});var c=i.find(":text, textarea");return c.bind("focus",function(){var e=t.validator.prototype.getHelpId(this);i.find('.oFormError[data-for="'+e+'"]').length||i.find("#oFormHelp-"+e).removeClass("isHidden")}).bind("blur",function(){var e=t.validator.prototype.getHelpId(this),n=i.find("#oFormHelp-"+e);n.data("simulatedHover")?n.data("hideAfterFocusLost",!0):n.addClass("isHidden")}),i.find("aside.oFormHelp").bind("mouseenter",function(){t(this).data("simulatedHover",!0)}).bind("mouseleave",function(){var e=t(this);e.data("hideAfterFocusLost")&&e.data("hideAfterFocusLost",!1).addClass("isHidden"),e.data("simulatedHover",!1)}),i.oTabIndex(e.tabindex),e.noAsterisk||i.find(".required").prepend('<span class="asterisk-required">*</span> '),this}}(jQuery),function(t){t.validator.initRules.maxlength=function(e){t.isArray(e)||(e=[e]),t.each(e,function(e,i){var n=t(i);if(n.is("textarea")){var s=n.data("countdown");if(s||void 0===s){var o=t('<div class="oCountdown"><span></span> '+("up"===s?"characters":"characters left")+"</div>"),a=n.closest(".oFormField");a.length?a.append(o):o.insertAfter(n),o.width(t("html").hasClass("ie")?n.width():n.outerWidth());var r=o.find("span"),l=n.rules().maxlength;n.bind("change keyup",function(){r.html("up"===s?n.val().length:Math.max(l-n.val().length,0))}).change()}}})},t.validator.addMethod("maxlength",function(e,i,n){var s=t(i);return s.is("input")&&s.attr("maxlength",n),n>=t(i).val().length},"max length should be less than {0}")}(jQuery),function(t){new odesk.Class("odesk.DropFile","odesk.AbstractWidget",{options:{isDocumentDropping:!1,targets:{},hintClass:"oTxtMega",hintText:"Drop Here",useHiddenTargets:!1,supportMultipleFiles:!1},init:function(e){t.extend(!0,this.options,e),t.extend(this.events,odesk.events.makeMap(this.name,["toggleHint","dropFile"])),this._setProperties(),this._addDocumentEvents();for(var i in this.options.targets){var n=this.options.targets[i];this.addTarget(i,n.element,n)}},destroy:function(){this._removeDocumentEvents();for(var t in this.dropTargets)this.removeTarget(t)},_setProperties:function(){this._isTargetVisible=!1,this._targetsEnabled=!0,this._dropTimer=null,this.dropTargets={}},addTarget:function(e,i,n){var s=this,o=t(i);return e&&o.length?(n=t.extend({hintClass:this.options.hintClass,hintText:this.options.hintText,isDefault:!1,isEnabled:!0},n),n.$hint=t('<div class="oDropHere isHidden"><div><span class="'+n.hintClass+'">'+n.hintText+"</span></div>"+"</div>"),o.append(n.$hint),n.targetElement=o[0],n.onDragOver=function(t){s._defaultDragOverEvent(t),s._showDropTargets(!0,t.currentTarget)},n.onDrop=this._dropHandler.bind(this),o[0].addEventListener("dragover",n.onDragOver),o[0].addEventListener("drop",n.onDrop),this.dropTargets[e]=n,this):this},removeTarget:function(t){var e=this.dropTargets[t];return e.targetElement.removeEventListener("dragover",e.onDragOver),e.targetElement.removeEventListener("drop",e.onDrop),e.$hint.remove(),delete this.dropTargets[t],this},getTargetByName:function(t){return this.dropTargets[t]},enableTarget:function(t,e){return this.dropTargets[t]&&(this.dropTargets[t].isEnabled=e),this},toggleAllTargets:function(t){this._targetsEnabled=t},_defaultDragOverEvent:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="copy")},_isEnabled:function(e){return this._targetsEnabled&&e.isEnabled&&(this.options.useHiddenTargets||t(e.targetElement).is(":visible"))},_dropHandler:function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer,i=this._getFiles(e),n=t.currentTarget;this._showDropTargets(!1,n);var s=n===document.body;for(var o in this.dropTargets){var a=this.dropTargets[o];if((s&&a.isDefault||a.targetElement===n)&&this._isEnabled(a)){this.ctx.mediator.publish(this.events.dropFile,{name:o,targetElement:a.targetElement,dataTransfer:e,file:i});break}}},_getFiles:function(t){if(!t)return null;if(this.options.supportMultipleFiles){var e=[],i=t.items;if(i)for(var n=0,s=i.length;s>n;n++){var o=i[n].getAsEntry?i[n].getAsEntry():i[n].webkitGetAsEntry();o.isFile&&e.push(t.files[n])}else e=Array.prototype.slice.call(t.files);return e}return t.files&&t.files.length?t.files[0]:null},_showDropTargets:function(t,e){if(this._dropTimer&&(clearTimeout(this._dropTimer),this._dropTimer=null),this._isTargetVisible!==t){this._isTargetVisible=t,this.ctx.mediator.publish(this.events.toggleHint,{targetElement:e,visible:t});for(var i in this.dropTargets){var n=this.dropTargets[i];(!t||this._isEnabled(n))&&n.$hint.toggleClass("isHidden",!t)}}},_onDragOver:function(t){var e=this,i=t.currentTarget;this._showDropTargets(!0,i),this._dropTimer=setTimeout(function(){e._showDropTargets(!1,i)},1e3)},_addDocumentEvents:function(){var t=this,e=document.body;this._savedOnDragEnter=this._onDragOver.bind(this),e.addEventListener("dragenter",this._savedOnDragEnter),this.options.isDocumentDropping?(this._savedOnDragOver=function(e){t._defaultDragOverEvent(e),t._onDragOver(e)},e.addEventListener("dragover",this._savedOnDragOver),this._savedOnDrop=this._dropHandler.bind(this),e.addEventListener("drop",this._savedOnDrop)):e.addEventListener("dragover",this._savedOnDragEnter)},_removeDocumentEvents:function(){var t=document.body;t.removeEventListener("dragenter",this._savedOnDragEnter),this.options.isDocumentDropping?(t.removeEventListener("dragover",this._savedOnDragOver),t.removeEventListener("drop",this._savedOnDrop)):t.removeEventListener("dragover",this._savedOnDragEnter)}})}(jQuery),function(t){new odesk.Class("odesk.Uploader",{options:{selectors:{containerClass:"oInputFileContainer"},url:{blank:"/empty.html"},support:{iframe:!(window.File&&window.FileList&&t.ajaxSettings.xhr().upload&&(window.FormData||window.FileReader)),formData:!!window.FormData,fileReader:!!window.FileReader},errors:{NOT_FOUND:"File not found!",NOT_READABLE:"File not readable!",ABORT:"Read operation was aborted!",SECURITY:"File is in a locked state!",ENCODING:"The file is too long to preview.",UNKNOWN:"Unknown error",UPLOAD_ERROR:"Upload server error, please try again later.",BAD_RESPONSE:"Bad response from server."},responseRegExp:"^<textarea>(.*)</textarea>$"},init:function(e){t.extend(!0,this.options,e),this._iframes={}},destroy:function(){this.abort();for(var t in this._iframes)this._iframes[t].remove()},getSupport:function(){return this.options.support},_wrapFileElement:function(e,i){var n=t(e).get(0);return t(n).wrapAll(i.isDivWrapper?t("<div/>",{"class":i.wrapperClass}):t("<form/>",{"class":i.wrapperClass,enctype:"multipart/form-data",method:"post",target:i.targetName,"data-uploader":1})),t(n).parent()},createFileElement:function(e,i){var n="image_uploader_"+odesk.uuid.getUniqueId(),s=t("<input/>",{"class":i.inputClass||null,type:"file",name:i.name,multiple:i.isMultiple?"multiple":null,accept:i.accept||null,"data-target":i.isDivWrapper?n:null}),o=t('<div class="oInputFileWrapper"/>').append(s);return this._wrapFileElement(e,{wrapperClass:this.options.selectors.containerClass,targetName:n,isDivWrapper:i.isDivWrapper}).prepend(o),this.options.support.iframe&&(this._iframes[n]=t("<iframe/>",{id:n,name:n,src:this.options.url.blank}).hide().appendTo(document.body)),s.data("uploader-init",!0)},getFileForm:function(e){var i=t(e);return i.data("uploader-init")?i.closest("form"):!1},readAsDataURL:function(t,e){var i=new FileReader;this._bindLoadingEvents(i,e),i.readAsDataURL(t)},readAsBinaryString:function(t,e){var i=new FileReader;this._bindLoadingEvents(i,e),i.readAsBinaryString(t)},_resetUpload:function(e,i){e._iframe&&(e._iframe.unbind("load").get(0).setAttribute("src",this.options.url.blank),e._iframe=null),e.form&&(e._initForm&&(e.form.find('input[type="hidden"]').remove(),e._initForm=!1),i&&e._temporaryForm&&(e.form.each(function(){t(this).replaceWith(this.childNodes)}),e.form=null)),e.xhr&&(e.xhr.destroy&&e.xhr.destroy(),e.xhr=null)},_iframeUpload:function(e){if(!e.form)return!1;var i=this,n=e.data||[],s=e.form,o=t("#"+s.prop("target"));if(!o.length)return!1;this._uploadOptions=e,this._resetUpload(e),e._iframe=o,e._initForm=!0,s.prop("action",odesk.url.unique(e.url));for(var a in n)n.hasOwnProperty(a)&&t("<input/>",{type:"hidden",name:n[a].name,value:n[a].value}).appendTo(s);return o.bind("load",function(){var t=this.contentWindow.document.body.innerHTML;t&&(i._resetUpload(e,!0),i._parseResponse(t,e),i._uploadOptions=null)}),s[0].submit(),!0},_readDeferredFile:function(e){var i=this;return function(){var n=t.Deferred();return i.readAsBinaryString(e.file,{loadend:function(){e.reader=this,n.resolve(e)},error:function(t){n.reject(t)}}),n.promise()}()},_uploadData:function(e,i,n){var s,o,a=this,r=t.ajaxSettings.xhr();if(this._uploadOptions=i,i.xhr=r,r.upload&&this._bindLoadingEvents(r.upload,i),r.onreadystatechange=function(){4==this.readyState&&(this.status>=200&&300>this.status||304==this.status||1223==this.status?a._parseResponse(this.responseText,i):(this.status||this.statusText)&&i.error&&i.error(a.options.errors.UPLOAD_ERROR),a._resetUpload(i,!0),a._uploadOptions=null)},r.open("POST",odesk.url.unique(i.url),!0),r.setRequestHeader("X_REQUESTED_WITH","XMLHttpRequest"),n){var l=new FormData;for(s in e)e.hasOwnProperty(s)&&(o=e[s],l.append(o.name,o.file||o.value));r.send(l)}else{var u="",c="xxxxxxxxx";for(s in e)e.hasOwnProperty(s)&&(o=e[s],u+="--"+c+"\r\n",o.file?(u+='Content-Disposition: form-data; name="'+o.name+'"; filename="'+decodeURI(encodeURIComponent(o.file.name))+'"\r\n',u+="Content-Type: application/octet-stream\r\n\r\n",o.reader&&(u+=o.reader.result)):(u+='Content-Disposition: form-data; name="'+o.name+'"\r\n\r\n',o.value&&(u+=o.value)),u+="\r\n");if(u+="--"+c+"--",r.setRequestHeader("Content-type",'multipart/form-data; boundary="'+c+'"'),r.setRequestHeader("Cache-Control","no-cache"),r.sendAsBinary)r.sendAsBinary(u);else{var d=new Uint8Array(Array.prototype.map.call(u,function(t){return 255&t.charCodeAt(0)}));r.send(r.upload?d:d.buffer)}}return!0},upload:function(e){e=e||{},e.data=e.data||[];var i,n,s=this;if(this.options.support.iframe){if(!e.form)for(i in e.data)if(e.data.hasOwnProperty(i)&&(n=e.data[i],n.element)){var o=t(n.element),a=o.closest("form");if(a.data("uploader")){e.form=a;break}var r=o.data("target");if(r){var l=o.closest("."+this.options.selectors.containerClass);e.form=this._wrapFileElement(l,{wrapperClass:"np",targetName:r}),e._temporaryForm=!0;break}}return this._iframeUpload(e)}for(i in e.data)e.data.hasOwnProperty(i)&&(n=e.data[i],n.element&&(n.element.files?n.element.files.length&&(n.file=n.element.files[0]):n.value=t(n.element).val()));if(this.options.support.formData)return this._uploadData(e.data,e,!0);if(this.options.support.fileReader){var u=[],c=[];for(i in e.data)e.data.hasOwnProperty(i)&&(n=e.data[i],n.file?c.push(this._readDeferredFile(n)):u.push(n));return t.when.apply(null,c).then(function(){s._uploadData(t.merge(u,arguments),e)},function(t){e.error&&e.error(t)}),!0}return!1},abort:function(){this._uploadOptions&&(this.options.support.iframe?(this._resetUpload(this._uploadOptions,!0),this._uploadOptions.abort&&this._uploadOptions.abort(),this._uploadOptions=null):this._uploadOptions.xhr&&this._uploadOptions.xhr.abort())},_decodeJson:function(e){var i=this,n=t.type(e);return"object"===n||"array"===n?t.each(e,function(t){e[t]=i._decodeJson(e[t])}):"string"===n&&(e=odesk.string.escapeHTML(odesk.string.procXssEntity(e))),e},_parseResponse:function(e,i){var n=!0;if(i.success){var s=e.match(RegExp(this.options.responseRegExp,"i")),o=s&&s[1];if(o||"json"===i.dataType){var a=null;try{a="json"===i.dataType?this._decodeJson(t.parseJSON(o||e)):odesk.string.escapeHTML(odesk.string.procXssEntity(o))}catch(r){n=!1}if(n)return i.success(a),void 0}else n=!1}!n&&i.error&&i.error(this.options.errors.BAD_RESPONSE)},_bindEvent:function(t,e,i){return t&&i&&(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)),this},_bindLoadingEvents:function(t,e){e=e||{};var i=this,n=!1,s=0,o=0,a=null,r=1500,l=function(){a&&(clearTimeout(a),a=null)},u=function(t){if(n===!1)n=(new Date).getTime();else{var i=(new Date).getTime();o=(o*s+(i-n))/(s+1),n=i,s++}if(100>t){l();var u=Math.round(4*o);r>u&&(u=r),a=setTimeout(e.progress,u)}};e.error&&this._bindEvent(t,"error",function(t){l();var n="UNKNOWN";if(t.target&&t.target.error)switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:n="NOT_FOUND";break;case t.target.error.NOT_READABLE_ERR:n="NOT_READABLE";break;case t.target.error.ABORT_ERR:n="ABORT";break;case t.target.error.SECURITY_ERR:n="SECURITY";break;case t.target.error.ENCODING_ERR:n="ENCODING"}e.error(i.options.errors[n],n)}),e.progress?this._bindEvent(t,"progress",function(t){if(t.lengthComputable){var i=Math.round(100*(t.loaded/t.total));u(i),e.progress(i)}})._bindEvent(t,"loadstart",function(){u(0),e.loadstart&&e.loadstart.apply(this,arguments)})._bindEvent(t,"loadend",function(){l(),e.loadend&&e.loadend.apply(this,arguments)})._bindEvent(t,"abort",function(){l(),e.abort&&e.abort.apply(this,arguments)})._bindEvent(t,"timeout",function(){l(),e.timeout&&e.timeout.apply(this,arguments)}):this._bindEvent(t,"loadstart",e.loadstart)._bindEvent(t,"loadend",e.loadend)._bindEvent(t,"abort",e.abort)._bindEvent(t,"timeout",e.timeout)}})}(jQuery),function(t){t(document.body).delegate(".oBtn.isDisabled","click",function(t){t.preventDefault()})}(jQuery),function(t){new odesk.Class("odesk.OverlayMessage","odesk.AbstractWidget",{options:{widgetSelector:".jsOverlayMessage",customCloseButtonSelector:".jsClose"},showNextMessage:function(e){var i,n;
if(0!==e.length){i=this._getOptionsFromMessage(e);var s=t("<div>").html(e[0].html());n=s.dialog(i.dialogOptions),i.fadeOut>0&&n.delay(i.fadeOut).fadeOut(function(){t(this).dialog("close")}),t(this.options.customCloseButtonSelector).click(function(){n.dialog("close")})}},_getOptionsFromMessage:function(e){var i,n,s=this;if(0!==e.length){n=e[0];var o={};return o.width=n.data("width"),o.dialogClass="oPopupCenteredButtons",o.title=n.data("title"),o.fadeOut=n.data("fadeOut"),o.close=n.data("close"),i={dialogOptions:{height:"auto",width:o.width,modal:!0,autoOpen:!0,resizable:!1,draggable:!0,dialogClass:o.dialogClass,title:o.title,zIndex:5000001,open:function(){var e=t(".ui-dialog-content #linkedInPlaceHolder");if(e.size()){var i=t("<script>").attr("type","IN/Share").attr("data-url",e.data("url")).attr("data-onsuccess",e.data("onsuccess"));e.html(i),IN.parse()}}},fadeOut:parseInt(o.fadeOut,10)},o.close&&0===t(this.options.customCloseButtonSelector).size()&&(i.dialogOptions.buttons=[{text:"Close","class":"oBtn oBtnPrimary",click:function(){t(this).dialog("close")}}]),e.length>=2&&(i.dialogOptions.close=function(){e.shift(),s.showNextMessage(e)}),i}},init:function(){var e=[];t(this.options.widgetSelector).each(function(){e.push(t(this))}),this.showNextMessage(e)}}),new odesk.OverlayMessage("overlayMessage","#overlayMessage")}(jQuery),function(t){"use strict";new odesk.Class("odesk.MoreText","odesk.AbstractWidget",{init:function(e){this.$element=t(e),t.extend(this.events,odesk.events.makeMap(this.name,["less"])),this._addEvents()},_addEvents:function(){this.$element.delegate(".jsTruncated .oMore","click",t.proxy(this.more,this)).delegate(".jsFull .oMore","click",t.proxy(this.less,this))},more:function(e){var i=t(e.target),n=i.closest(".jsTruncated").addClass("isHidden");n.next().removeClass("isHidden")},less:function(e){var i=t(e.target),n=i.closest(".jsFull").addClass("isHidden"),s=n.prev().removeClass("isHidden");this.ctx.mediator.publish(this.events.less,s)}}),odesk.preLoadedWidgets.moreText=new odesk.MoreText(document.body)}(jQuery),odesk.templates.testScore='{{if tests.length > 0}}<ul class="oPlainList">{{each tests}}<li><a href="/exams/${$value.ts_seo_link}_${$value.ts_id}">${odesk.string.cutStr($value.ts_name_raw ? $value.ts_name_raw : $value.ts_name, ($value.ts_rank > 3 && $value.ts_percentile < 70) ? 24 : 28, "...")}</a>{{if $value.ts_pass == 0}}<span class="oScore oScoreFailed">Failed</span>{{else $value.ts_rank == 1}}<span class="oScore oScoreFirst">1st Place!</span>{{else $value.ts_rank == 2}}<span class="oScore oScoreSecond">2nd Place!</span>{{else $value.ts_rank == 3}}<span class="oScore oScoreThird">3rd Place!</span>{{else $value.ts_percentile >= 90}}<span class="oScore oScore10">Top 10%</span>{{else $value.ts_percentile >= 80}}<span class="oScore oScore20">Top 20%</span>{{else $value.ts_percentile >= 70}}<span class="oScore oScore30">Top 30%</span>{{else $value.ts_percentile >= 50}}<span class="oScore oScoreAboveAvg">Above Average</span>{{else}}<span class="oScore oScoreBelowAvg">Below Average</span>{{/if}}</li>{{/each}}</ul>{{/if}}',function(t){new odesk.Class("odesk.TestScore","odesk.AbstractWidget",{init:function(){t.template("testScore",odesk.templates.testScore)},getHtml:function(e){return t.tmpl("testScore",{tests:e})}})}(jQuery),function(t){new odesk.Class("odesk.History","odesk.AbstractWidget",{options:{moreTestsSelector:"a.oBtnPrimary",menuButtonSelector:".oMenuButton",radioButtonSelector:".oBtnGrp"},init:function(e,i,n){this.name=e,this.$element=t(i),t.extend(this.options,n),t.extend(this.events,odesk.events.makeMap(this.name,["embed"])),this._addEvents(),this.registerWidgets()},_addEvents:function(){var e=this;return e.$element.delegate(e.options.moreTestsSelector,"click",function(){t(this).removeClass("hover").addClass("isDisabled").prop("disabled",!0)}),this},registerWidgets:function(){var e=this;t(this.options.menuButtonSelector).each(function(){var i=t(this).prop("id"),n="menuButton_"+i;e.registerWidget(n,new odesk.MenuButton(this,odesk.pageConfig[i]))}),t(this.options.radioButtonSelector).each(function(){var i=t(this).prop("id"),n="radioButton_"+i;e.registerWidget(n,new odesk.RadioButton(this,odesk.pageConfig[i]))})}}),t.extend(!0,odesk.History.prototype,odesk.mediator)}(jQuery),odesk.pageConfig.gaAction&&odesk.gaManager.add(["_trackEvent","job_Post",odesk.pageConfig.gaAction]),function(t){odesk.social||(odesk.social={}),odesk.social.twitter=function(){function e(e,i){var n=c[e];switch(n||odesk.logger.say("not registered profile for",e),typeof n){case"string":return t.tmpl(n,i).text();case"object":return t.tmpl(n,t.extend(!0,n,i)).text();case"function":return n.call(this,i);case"undefined":return i.text||"Enter tweet"}}function i(t){var e,i=t.data("twitter")||{},n=["via","text","related","counturl","url"];for(var s in n)void 0!==(e=t.data(n[s]))&&(i[n[s]]=e);return{profile:t.data("profile"),twit:i,id:"twt_"+odesk.date.serverTime}}function n(){odesk.loading.show("Redirecting to Twitter...",!0)}function s(i){var n=["original_referer="+encodeURIComponent(window.location.href)];i.twit.text=t.tmpl(e(i.profile,i.twit),i.profile).text();for(var s in i.twit)switch(s){case"url":case"text":case"related":case"counturl":case"via":n.push(s+"="+encodeURIComponent(i.twit[s]))}window.location.href=u+n.join("&")}function o(){odesk.loading.hide(),alert("error shortening url")}function a(t){(function(){window[t.id]=function(e){if(0===e.errorCode){var i=e.results[t.twit.url];i?(t.twit.counturl=t.twit.url,t.twit.url=i.shortUrl,s(t)):o(),window[t.id]=null,delete window[t.id]}else o()}})()}function r(e){t.getScript(["https://api-ssl.bit.ly/shorten?longUrl=",encodeURIComponent(e.twit.url),"&login=",odesk.pageConfig.ODESK_BITLY_LOGIN,"&apiKey=",odesk.pageConfig.ODESK_BITLY_API_KEY,"&callback=",e.id].join(""))}function l(t,e){return odesk.logger.say("registering twitter profile",t),c[t]=e,this}var u="http://twitter.com/share?",c={},d=".jsTwitterShare";return{register:function(e,s,o){var u=o||d,c=t(u).data("profile");return l(c,e),t(s).delegate(u,"click",function(){var e=t(this),s=i(e);return n(),a(s),r(s),!1}),this}}}()}(jQuery),function(t){odesk.social||(odesk.social={}),odesk.social.facebook=function(){function e(e,i){var n=r[e];switch(typeof n){case"object":return t.extend(!0,n,i);case"function":return n.call(this,i);default:return i}}function i(t){var e,i=t.data("facebook")||{},n=["link","name","picture","caption","description","properties","actions"];for(var s in n)void 0!==(e=t.data(n[s]))&&(i[n[s]]=e);return{profile:t.data("profile"),fb:i,id:"fb_"+odesk.date.serverTime}}function n(i){return i&&a?(FB.getLoginStatus(function(n){"connected"!=n.status?FB.login(function(n){n.authResponse&&FB.ui(t.extend(!0,e(i.profile,i.fb),u))}):FB.ui(t.extend(!0,e(i.profile,i.fb),u))}),this):!1}function s(t,e){return odesk.logger.say("registering facebook profile",t),r[t]=e,this}function o(){0===t("#fb-root").length&&t('<div id="fb-root" />').appendTo(document.body),window.fbAsyncInit=function(){FB.init({appId:odesk.pageConfig.FB_APP_ID,cookie:!0,xfbml:!0,channelUrl:odesk.pageConfig.FB_APP_RECEIVER,oauth:!0}),a=1},t.getScript(document.location.protocol+"//connect.facebook.net/en_US/all.js")}var a=0,r={},l=".jsFacebookShare",u={method:"feed",display:"iframe"};return{register:function(e,a,r){var u=r||l,c=t(u).data("profile");return o(),s(c,e),t(a).delegate(u,"click",function(){var e=t(this),s=i(e);n(s)}),this}}}()}(jQuery),function(t){new odesk.Class("odesk.RadioButton","odesk.AbstractWidget",{options:{radioSelector:"input",shareDivSelector:"",selectedId:null,data:{}},init:function(e,i){this.$element=t(e),t.extend(this.options,i),t.extend(this.events,odesk.events.makeMap(this.name,["change"])),this.selectedId=this.options.selectedId,this.shareDivSelector=this.options.shareDivSelector,this._addEvents()},_addEvents:function(){var e=this;return t("#"+this.$element.prop("id")+" "+this.options.radioSelector).click(function(){var i=t(this),n=i.val();if(e.options.selectedId=i.prop("id"),e.options.data[n]!==void 0){var s=e.options.data[n];odesk.loading.show(),odesk.ajax({url:s.link,success:function(i){odesk.loading.hide(),e.shareDivSelector&&""!==e.shareDivSelector&&t(e.shareDivSelector).html(i),e.ctx.mediator.publish(e.events.change,{selectedId:e.options.selectedId,data:i})},error:function(e){odesk.loading.hide();var i=t.parseJSON(e.responseText);new odesk.Showbox({title:"error",message:i&&i.error?i.error.message:"request error",type:"error"}).show()}})}}),this},_getProfileData:function(t){if(t.properties.Rank.text){var e=t.properties.Rank,i=parseInt(e.value,10);t.properties.Rank=odesk.string.sprintf(e.text,i)}return t}})}(jQuery),function(t){new odesk.Class("odesk.MenuButton","odesk.AbstractWidget",{options:{menuSelector:".oMuttonMenu",displaySelector:".jsMuttonLbl",undefinedClass:"oNull",undefinedId:null,selectedId:null,selectItem:!0,data:{},keepOpenSelectors:!1,label:function(t){return t.data("label")}},init:function(e,i){this.$element=t(e),t.extend(this.options,i),t.extend(this.events,odesk.events.makeMap(this.name,["change"])),this.selectedId=this.options.selectedId,this._registerWidgets()._subscribeToEvents()._addEvents()},hide:function(){this.widgets.menu.hide()},clearSelection:function(){this.widgets.menu.clearSelection()},select:function(t){this.widgets.menu.select(t)},hideItem:function(t){this.widgets.menu.hideItem(t)},showItem:function(t){this.widgets.menu.showItem(t)},removeCurrent:function(){this.widgets.menu.removeCurrent(),this.selectedId=null},_registerWidgets:function(){var e=this.$element,i=e.find(this.options.menuSelector),n=e.data("position")?e.data("position"):"right";return i.find("li").has("a").addClass("hasLink"),this.registerWidget("menu",new odesk.Menu("menu",i,t.extend({show:function(t){t.appendTo(e).show().position({of:e,my:n+" top",at:n+" bottom"})}},this.options.selectItem?{}:{selectedClass:null},this.options.keepOpenSelectors?{keepOpenSelectors:this.options.keepOpenSelectors}:{})))},_subscribeToEvents:function(){return this.subscribe(this.widgets.menu.events.change,t.proxy(function(t,e){this.options.selectItem&&e.data("id")==this.selectedId||this._select(e)},this))},_addEvents:function(){return this.$element.delegate(this.options.displaySelector,"mousedown",t.proxy(function(){this.widgets.menu.show()},this)),this},_select:function(t){this.selectedId=t.data("id"),this.options.selectItem&&(this.$element.find(this.options.displaySelector).toggleClass(this.options.undefinedClass,this.selectedId==this.options.undefinedId),this.updateLabel(this.options.label(t))),this.ctx.mediator.publish(this.events.change,{selectedId:this.selectedId,data:this.options.data[this.selectedId]!==void 0?this.options.data[this.selectedId]:null})},updateLabel:function(t){this.$element.find(this.options.displaySelector).html(t)}}),t.extend(!0,odesk.MenuButton.prototype,odesk.mediator)}(jQuery),function(t){new odesk.Class("odesk.SearchSuggest","odesk.AbstractWidget",{options:{location:"header",qtAllocation:"SkillsInSearchPhase1:Treatment1",url:'/api/o2/v1/associations/*/search/contractors.json?data={"q":"{query}"}'},init:function(e,i,n){this.name=e,this.$element=t(i),t.extend(this.events,odesk.events.makeMap(this.name,["select"])),t.extend(!0,this.options,n),this._initAutocomplete(),this._addEvents()},_addEvents:function(){return this.$element.closest("form").submit(function(){this.widgets.searchAutoCompleteWidget.$input.typeahead("close").blur()}.bind(this)),this},_parse:function(t){var e,i,n=[];t&&t.proxy&&t.proxy.suggestions&&(n=t.proxy.suggestions);var s=[];for(e=0,i=n.length;i>e;e++){var o=n[e];o=o.replace(/&lt;em&gt;/gi,""),o=o.replace(/&lt;\/em&gt;/gi,""),s.push({data:{val:n[e],position:e,total:i},value:o,result:o})}return s?s:t},_formatItem:function(t){return t.val},_highlight:function(t,e,i){var n=i.data.val;return n=n.replace(/&lt;em&gt;/gi,"<strong>"),n=n.replace(/&lt;\/em&gt;/gi,"</strong>")},_onResult:function(t,e,i){this._logSuggestionClicks(i,e.position,e.total)},_initAutocomplete:function(){var e={hideHintField:!0,loadingClass:"isLoading",queryPlaceholderInUrl:"{query}",formatItem:this._formatItem,parseJson:this.options.parse||this._parse,localData:this.options.url,inputRef:this.$element.is("input")?this.$element:null,highlightOnlyFirstMatch:this.options.highlightOnlyFirstMatch,noResultsMessage:"",css:{input:"tt-search-suggest-input",dropdown:"tt-search-suggest-dropdown"}},i=this.options.sections;if(i){for(var n=0,s=i.length;s>n;n++){var o=i[n];o.remote||(o.remote={}),o.remote.url=o.remote.url||this.options.url,o.remote.wildcard=o.remote.wildcard||e.queryPlaceholderInUrl}e.sections=i}t.extend(!0,this.options,{autocomplete:e}),this.registerWidget("searchAutoCompleteWidget",new odesk.AutoTypeahead("autoComplete",this.$element.closest("form"),this.options.autocomplete)),this.subscribe(this.widgets.searchAutoCompleteWidget.events.autoSelected,t.proxy(function(t,e){this.$element.closest("form").find('[type="submit"]').click(),this.publish(this.events.select,e)},this))},_handleSuggestionSelection:function(e,i){var n=t(i).val().lenght,s=n;if(i.createTextRange){var o=this.createTextRange();void 0===s||n==s?(o.move("character",n),o.select()):(o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",s),o.select())}else i.setSelectionRange?i.setSelectionRange(n,s):this.selectionStart&&(this.selectionStart=n,this.selectionEnd=s);this.$element.closest("form").find('[type="submit"]').click()},_logSuggestionImpressions:function(e,i){var n=[];i&&i.length&&(t.each(i,function(t,e){n.push({type:"suggestion",position:t+1,total:i.length,indexed:!1,value:e.value})}),odesk.logging&&odesk.logging.logCustomData("impression",this.options.location,"search_suggestions",n,this.options.qtAllocation))},_logSuggestionClicks:function(t,e){odesk.logging&&odesk.logging.logCustomData("click",this.options.location,"search_suggestions",[{type:"suggestion",position:e,indexed:!1,value:t}],this.options.qtAllocation)}}),t.extend(odesk.SearchSuggest.prototype,odesk.mediator)}(jQuery),function(t){function e(e){var s,o=e||window.event,a=[].slice.call(arguments,1),r=0,l=0,u=0,c=0,d=0;return e=t.event.fix(o),e.type="mousewheel",o.wheelDelta&&(r=o.wheelDelta),o.detail&&(r=-1*o.detail),o.deltaY&&(u=-1*o.deltaY,r=u),o.deltaX&&(l=o.deltaX,r=-1*l),void 0!==o.wheelDeltaY&&(u=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(l=-1*o.wheelDeltaX),c=Math.abs(r),(!i||i>c)&&(i=c),d=Math.max(Math.abs(u),Math.abs(l)),(!n||n>d)&&(n=d),s=r>0?"floor":"ceil",r=Math[s](r/i),l=Math[s](l/n),u=Math[s](u/n),a.unshift(e,r,l,u),(t.event.dispatch||t.event.handle).apply(this,a)}var i,n,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var a=s.length;a;)t.event.fixHooks[s[--a]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(t,e,i){t.fn.jScrollPane=function(e){function n(e,n){function s(n){var a,l,c,d,h,m,g=!1,v=!1;if(H=n,B===i)h=e.scrollTop(),m=e.scrollLeft(),e.css({overflow:"hidden",padding:0}),W=e.innerWidth()+be,z=e.innerHeight(),e.width(W),B=t('<div class="jspPane" />').css("padding",ye).append(e.children()),q=t('<div class="jspContainer" />').css({width:W+"px",height:z+"px"}).append(B).appendTo(e);else{if(e.css("width",""),g=H.stickToBottom&&S(),v=H.stickToRight&&E(),d=e.innerWidth()+be!=W||e.outerHeight()!=z,d&&(W=e.innerWidth()+be,z=e.innerHeight(),q.css({width:W+"px",height:z+"px"})),!d&&_e==Y&&B.outerHeight()==K)return e.width(W),i;_e=Y,B.css("width",""),e.width(W),q.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}B.css("overflow","auto"),Y=n.contentWidth?n.contentWidth:B[0].scrollWidth,K=B[0].scrollHeight,B.css("overflow",""),V=Y/W,Q=K/z,G=Q>1,X=V>1,X||G?(e.addClass("jspScrollable"),a=H.maintainPosition&&(te||ne),a&&(l=T(),c=x()),o(),r(),u(),a&&(C(v?Y-W:l,!1),w(g?K-z:c,!1)),A(),F(),L(),H.enableKeyboardNavigation&&O(),H.clickOnTrack&&p(),j(),H.hijackInternalLinks&&P()):(e.removeClass("jspScrollable"),B.css({top:0,width:q.width()-be}),I(),$(),R(),f(),N()),H.autoReinitialise&&!ve?ve=setInterval(function(){s(H)},H.autoReinitialiseDelay):!H.autoReinitialise&&ve&&clearInterval(ve),h&&e.scrollTop(0)&&w(h,!1),m&&e.scrollLeft(0)&&C(m,!1),e.trigger("jsp-initialised",[X||G])}function o(){G&&(q.append(t('<div class="jspVerticalBar" />').append(t('<div class="jspCap jspCapTop" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragTop" />'),t('<div class="jspDragBottom" />'))),t('<div class="jspCap jspCapBottom" />'))),se=q.find(">.jspVerticalBar"),oe=se.find(">.jspTrack"),J=oe.find(">.jspDrag"),H.showArrows&&(ue=t('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",d(0,-1)).bind("click.jsp",M),ce=t('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",d(0,1)).bind("click.jsp",M),H.arrowScrollOnHover&&(ue.bind("mouseover.jsp",d(0,-1,ue)),ce.bind("mouseover.jsp",d(0,1,ce))),c(oe,H.verticalArrowPositions,ue,ce)),re=z,q.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){re-=t(this).outerHeight()}),J.hover(function(){J.addClass("jspHover")},function(){J.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",M),J.addClass("jspActive");var i=e.pageY-J.position().top;return t("html").bind("mousemove.jsp",function(t){g(t.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",m),!1}),a())}function a(){oe.height(re+"px"),te=0,ae=H.verticalGutter+oe.outerWidth(),B.width(W-ae-be);try{0===se.position().left&&B.css("margin-left",ae+"px")}catch(t){}}function r(){X&&(q.append(t('<div class="jspHorizontalBar" />').append(t('<div class="jspCap jspCapLeft" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragLeft" />'),t('<div class="jspDragRight" />'))),t('<div class="jspCap jspCapRight" />'))),de=q.find(">.jspHorizontalBar"),he=de.find(">.jspTrack"),ee=he.find(">.jspDrag"),H.showArrows&&(me=t('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",d(-1,0)).bind("click.jsp",M),ge=t('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",d(1,0)).bind("click.jsp",M),H.arrowScrollOnHover&&(me.bind("mouseover.jsp",d(-1,0,me)),ge.bind("mouseover.jsp",d(1,0,ge))),c(he,H.horizontalArrowPositions,me,ge)),ee.hover(function(){ee.addClass("jspHover")},function(){ee.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",M),ee.addClass("jspActive");var i=e.pageX-ee.position().left;return t("html").bind("mousemove.jsp",function(t){y(t.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",m),!1}),pe=q.innerWidth(),l())}function l(){q.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pe-=t(this).outerWidth()}),he.width(pe+"px"),ne=0}function u(){if(X&&G){var e=he.outerHeight(),i=oe.outerWidth();re-=e,t(de).find(">.jspCap:visible,>.jspArrow").each(function(){pe+=t(this).outerWidth()}),pe-=i,z-=i,W-=e,he.parent().append(t('<div class="jspCorner" />').css("width",e+"px")),a(),l()}X&&B.width(q.outerWidth()-be+"px"),K=B.outerHeight(),Q=K/z,X&&(fe=Math.ceil(1/V*pe),fe>H.horizontalDragMaxWidth?fe=H.horizontalDragMaxWidth:H.horizontalDragMinWidth>fe&&(fe=H.horizontalDragMinWidth),ee.width(fe+"px"),ie=pe-fe,b(ne)),G&&(le=Math.ceil(1/Q*re),le>H.verticalDragMaxHeight?le=H.verticalDragMaxHeight:H.verticalDragMinHeight>le&&(le=H.verticalDragMinHeight),J.height(le+"px"),Z=re-le,v(te))}function c(t,e,i,n){var s,o="before",a="after";"os"==e&&(e=/Mac/.test(navigator.platform)?"after":"split"),e==o?a=e:e==a&&(o=e,s=i,i=n,n=s),t[o](i)[a](n)}function d(t,e,i){return function(){return h(t,e,this,i),this.blur(),!1}}function h(e,i,n,s){n=t(n).addClass("jspActive");var o,a,r=!0,l=function(){0!==e&&ke.scrollByX(e*H.arrowButtonSpeed),0!==i&&ke.scrollByY(i*H.arrowButtonSpeed),a=setTimeout(l,r?H.initialDelay:H.arrowRepeatFreq),r=!1};l(),o=s?"mouseout.jsp":"mouseup.jsp",s=s||t("html"),s.bind(o,function(){n.removeClass("jspActive"),a&&clearTimeout(a),a=null,s.unbind(o)})}function p(){f(),G&&oe.bind("mousedown.jsp",function(e){if(e.originalTarget===i||e.originalTarget==e.currentTarget){var n,s=t(this),o=s.offset(),a=e.pageY-o.top-te,r=!0,l=function(){var t=s.offset(),o=e.pageY-t.top-le/2,c=z*H.scrollPagePercent,d=Z*c/(K-z);if(0>a)te-d>o?ke.scrollByY(-c):g(o);else{if(!(a>0))return u(),i;o>te+d?ke.scrollByY(c):g(o)}n=setTimeout(l,r?H.initialDelay:H.trackClickRepeatFreq),r=!1},u=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",u)};return l(),t(document).bind("mouseup.jsp",u),!1}}),X&&he.bind("mousedown.jsp",function(e){if(e.originalTarget===i||e.originalTarget==e.currentTarget){var n,s=t(this),o=s.offset(),a=e.pageX-o.left-ne,r=!0,l=function(){var t=s.offset(),o=e.pageX-t.left-fe/2,c=W*H.scrollPagePercent,d=ie*c/(Y-W);if(0>a)ne-d>o?ke.scrollByX(-c):y(o);else{if(!(a>0))return u(),i;o>ne+d?ke.scrollByX(c):y(o)}n=setTimeout(l,r?H.initialDelay:H.trackClickRepeatFreq),r=!1},u=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",u)};return l(),t(document).bind("mouseup.jsp",u),!1}})}function f(){he&&he.unbind("mousedown.jsp"),oe&&oe.unbind("mousedown.jsp")}function m(){t("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),J&&J.removeClass("jspActive"),ee&&ee.removeClass("jspActive")}function g(t,e){G&&(0>t?t=0:t>Z&&(t=Z),e===i&&(e=H.animateScroll),e?ke.animate(J,"top",t,v):(J.css("top",t),v(t)))}function v(t){t===i&&(t=J.position().top),q.scrollTop(0),te=t;var n=0===te,s=te==Z,o=t/Z,a=-o*(K-z);(we!=n||De!=s)&&(we=n,De=s,e.trigger("jsp-arrow-change",[we,De,Ce,Te])),_(n,s),B.css("top",a),e.trigger("jsp-scroll-y",[-a,n,s]).trigger("scroll")}function y(t,e){X&&(0>t?t=0:t>ie&&(t=ie),e===i&&(e=H.animateScroll),e?ke.animate(ee,"left",t,b):(ee.css("left",t),b(t)))}function b(t){t===i&&(t=ee.position().left),q.scrollTop(0),ne=t;var n=0===ne,s=ne==ie,o=t/ie,a=-o*(Y-W);(Ce!=n||Te!=s)&&(Ce=n,Te=s,e.trigger("jsp-arrow-change",[we,De,Ce,Te])),k(n,s),B.css("left",a),e.trigger("jsp-scroll-x",[-a,n,s]).trigger("scroll")}function _(t,e){H.showArrows&&(ue[t?"addClass":"removeClass"]("jspDisabled"),ce[e?"addClass":"removeClass"]("jspDisabled"))}function k(t,e){H.showArrows&&(me[t?"addClass":"removeClass"]("jspDisabled"),ge[e?"addClass":"removeClass"]("jspDisabled"))}function w(t,e){var i=t/(K-z);g(i*Z,e)}function C(t,e){var i=t/(Y-W);y(i*ie,e)}function D(e,i,n){var s,o,a,r,l,u,c,d,h,p=0,f=0;try{s=t(e)}catch(m){return}for(o=s.outerHeight(),a=s.outerWidth(),q.scrollTop(0),q.scrollLeft(0);!s.is(".jspPane");)if(p+=s.position().top,f+=s.position().left,s=s.offsetParent(),/^body|html$/i.test(s[0].nodeName))return;r=x(),u=r+z,r>p||i?d=p-H.verticalGutter:p+o>u&&(d=p-z+o+H.verticalGutter),d&&w(d,n),l=T(),c=l+W,l>f||i?h=f-H.horizontalGutter:f+a>c&&(h=f-W+a+H.horizontalGutter),h&&C(h,n)}function T(){return-B.position().left}function x(){return-B.position().top}function S(){var t=K-z;return t>20&&10>t-x()}function E(){var t=Y-W;return t>20&&10>t-T()}function F(){q.unbind(Se).bind(Se,function(t,e,i,n){var s=ne,o=te;return ke.scrollBy(i*H.mouseWheelSpeed,-n*H.mouseWheelSpeed,!1),s==ne&&o==te})}function I(){q.unbind(Se)}function M(){return!1}function A(){B.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(t){D(t.target,!1)})}function $(){B.find(":input,a").unbind("focus.jsp")}function O(){function i(){var t=ne,e=te;switch(n){case 40:ke.scrollByY(H.keyboardSpeed,!1);break;case 38:ke.scrollByY(-H.keyboardSpeed,!1);break;case 34:case 32:ke.scrollByY(z*H.scrollPagePercent,!1);break;case 33:ke.scrollByY(-z*H.scrollPagePercent,!1);break;case 39:ke.scrollByX(H.keyboardSpeed,!1);break;case 37:ke.scrollByX(-H.keyboardSpeed,!1)}return s=t!=ne||e!=te}var n,s,o=[];X&&o.push(de[0]),G&&o.push(se[0]),B.focus(function(){e.focus()}),e.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(e){if(e.target===this||o.length&&t(e.target).closest(o).length){var a=ne,r=te;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=e.keyCode,i();break;case 35:w(K-z),n=null;break;case 36:w(0),n=null}return s=e.keyCode==n&&a!=ne||r!=te,!s}}).bind("keypress.jsp",function(t){return t.keyCode==n&&i(),!s}),H.hideFocus?(e.css("outline","none"),"hideFocus"in q[0]&&e.attr("hideFocus",!0)):(e.css("outline",""),"hideFocus"in q[0]&&e.attr("hideFocus",!1))}function R(){e.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function j(){if(location.hash&&location.hash.length>1){var e,i,n=escape(location.hash);try{e=t(n)}catch(s){return}e.length&&B.find(n)&&(0===q.scrollTop()?i=setInterval(function(){q.scrollTop()>0&&(D(n,!0),t(document).scrollTop(q.position().top),clearInterval(i))},50):(D(n,!0),t(document).scrollTop(q.position().top)))}}function N(){t("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function P(){N(),t("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var t,e=this.href.split("#");return e.length>1&&(t=e[1],t.length>0&&B.find("#"+t).length>0)?(D("#"+t,!0),!1):i})}function L(){var t,e,n,s,o,a=!1;q.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(i){var r=i.originalEvent.touches[0];t=T(),e=x(),n=r.pageX,s=r.pageY,o=!1,a=!0}).bind("touchmove.jsp",function(i){if(a){var r=i.originalEvent.touches[0],l=ne,u=te;return ke.scrollTo(t+n-r.pageX,e+s-r.pageY),o=o||Math.abs(n-r.pageX)>5||Math.abs(s-r.pageY)>5,l==ne&&u==te}}).bind("touchend.jsp",function(){a=!1}).bind("click.jsp-touchclick",function(){return o?(o=!1,!1):i})}function U(){var t=x(),i=T();e.removeClass("jspScrollable").unbind(".jsp"),e.replaceWith(xe.append(B.children())),xe.scrollTop(t),xe.scrollLeft(i)}var H,B,W,z,q,Y,K,V,Q,G,X,J,Z,te,ee,ie,ne,se,oe,ae,re,le,ue,ce,de,he,pe,fe,me,ge,ve,ye,be,_e,ke=this,we=!0,Ce=!0,De=!1,Te=!1,xe=e.clone(!1,!1).empty(),Se=t.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";ye=e.css("paddingTop")+" "+e.css("paddingRight")+" "+e.css("paddingBottom")+" "+e.css("paddingLeft"),be=(parseInt(e.css("paddingLeft"),10)||0)+(parseInt(e.css("paddingRight"),10)||0),t.extend(ke,{reinitialise:function(e){e=t.extend({},H,e),s(e)},scrollToElement:function(t,e,i){D(t,e,i)},scrollTo:function(t,e,i){C(t,i),w(e,i)},scrollToX:function(t,e){C(t,e)},scrollToY:function(t,e){w(t,e)},scrollToPercentX:function(t,e){C(t*(Y-W),e)},scrollToPercentY:function(t,e){w(t*(K-z),e)},scrollBy:function(t,e,i){ke.scrollByX(t,i),ke.scrollByY(e,i)},scrollByX:function(t,e){var i=T()+Math[0>t?"floor":"ceil"](t),n=i/(Y-W);y(n*ie,e)},scrollByY:function(t,e){var i=x()+Math[0>t?"floor":"ceil"](t),n=i/(K-z);g(n*Z,e)},positionDragX:function(t,e){y(t,e)},positionDragY:function(t,e){g(t,e)},animate:function(t,e,i,n){var s={};s[e]=i,t.animate(s,{duration:H.animateDuration,easing:H.animateEase,queue:!1,step:n})},getContentPositionX:function(){return T()},getContentPositionY:function(){return x()},getContentWidth:function(){return Y},getContentHeight:function(){return K},getPercentScrolledX:function(){return T()/(Y-W)},getPercentScrolledY:function(){return x()/(K-z)},getIsScrollableH:function(){return X},getIsScrollableV:function(){return G},getContentPane:function(){return B},scrollToBottom:function(t){g(Z,t)},hijackInternalLinks:function(){P()},destroy:function(){U()}}),s(n)}return e=t.extend({},t.fn.jScrollPane.defaults,e),t.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed}),this.each(function(){var i=t(this),s=i.data("jsp");s?s.reinitialise(e):(s=new n(i,e),i.data("jsp",s))})},t.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:i,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,s){return jQuery.easing[jQuery.easing.def](t,e,i,n,s)},easeInQuad:function(t,e,i,n,s){return n*(e/=s)*e+i},easeOutQuad:function(t,e,i,n,s){return-n*(e/=s)*(e-2)+i},easeInOutQuad:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,s){return n*(e/=s)*e*e+i},easeOutCubic:function(t,e,i,n,s){return n*((e=e/s-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,s){return n*(e/=s)*e*e*e+i},easeOutQuart:function(t,e,i,n,s){return-n*((e=e/s-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,s){return n*(e/=s)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,s){return n*((e=e/s-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,s){return 1>(e/=s/2)?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,s){return-n*Math.cos(e/s*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,s){return n*Math.sin(e/s*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,s){return-n/2*(Math.cos(Math.PI*e/s)-1)+i},easeInExpo:function(t,e,i,n,s){return 0==e?i:n*Math.pow(2,10*(e/s-1))+i},easeOutExpo:function(t,e,i,n,s){return e==s?i+n:n*(-Math.pow(2,-10*e/s)+1)+i},easeInOutExpo:function(t,e,i,n,s){return 0==e?i:e==s?i+n:1>(e/=s/2)?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,s){return-n*(Math.sqrt(1-(e/=s)*e)-1)+i},easeOutCirc:function(t,e,i,n,s){return n*Math.sqrt(1-(e=e/s-1)*e)+i},easeInOutCirc:function(t,e,i,n,s){return 1>(e/=s/2)?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,s){var o=1.70158,a=0,r=n;if(0==e)return i;if(1==(e/=s))return i+n;if(a||(a=.3*s),Math.abs(n)>r){r=n;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(n/r);return-(r*Math.pow(2,10*(e-=1))*Math.sin((e*s-o)*2*Math.PI/a))+i},easeOutElastic:function(t,e,i,n,s){var o=1.70158,a=0,r=n;if(0==e)return i;if(1==(e/=s))return i+n;if(a||(a=.3*s),Math.abs(n)>r){r=n;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*e)*Math.sin((e*s-o)*2*Math.PI/a)+n+i},easeInOutElastic:function(t,e,i,n,s){var o=1.70158,a=0,r=n;if(0==e)return i;if(2==(e/=s/2))return i+n;if(a||(a=s*.3*1.5),Math.abs(n)>r){r=n;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(n/r);return 1>e?-.5*r*Math.pow(2,10*(e-=1))*Math.sin((e*s-o)*2*Math.PI/a)+i:.5*r*Math.pow(2,-10*(e-=1))*Math.sin((e*s-o)*2*Math.PI/a)+n+i},easeInBack:function(t,e,i,n,s,o){return void 0==o&&(o=1.70158),n*(e/=s)*e*((o+1)*e-o)+i},easeOutBack:function(t,e,i,n,s,o){return void 0==o&&(o=1.70158),n*((e=e/s-1)*e*((o+1)*e+o)+1)+i},easeInOutBack:function(t,e,i,n,s,o){return void 0==o&&(o=1.70158),1>(e/=s/2)?n/2*e*e*(((o*=1.525)+1)*e-o)+i:n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+i},easeInBounce:function(t,e,i,n,s){return n-jQuery.easing.easeOutBounce(t,s-e,0,n,s)+i},easeOutBounce:function(t,e,i,n,s){return 1/2.75>(e/=s)?n*7.5625*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,s){return s/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,n,s)+i:.5*jQuery.easing.easeOutBounce(t,2*e-s,0,n,s)+.5*n+i
}}),function(t){new odesk.Class("odesk.RateAsOneField","odesk.AbstractWidget",{options:{widgetSelector:".jsRateAsOneFieldWidgetContainer"},init:function(e){this.$element=t(e),this.$input="INPUT"===this.$element[0].tagName?this.$element:this.$element.find("input"),this._registerEvents()._initUIBehaviours()},_registerEvents:function(){return this.events=odesk.events.makeMap(this.name,["changed"]),this},_initUIBehaviours:function(){return this.$input.on("focusout",this._update.bind(this)).on("click",function(){"0.00"==t(this).val()&&t(this).val("")}),this},_update:function(){this.format(),this.$input.trigger("change.rate"),this.ctx.mediator.publish(this.events.changed,this.$input)},setValue:function(t){this.$input.val(t),this.format()},format:function(){var t=Number(this.$input.val());isNaN(t)&&(t=Number(0)),this.$input.val(t.toFixed(2))}})}(jQuery),function(t){new odesk.Class("odesk.Rate","odesk.AbstractWidget",{options:{widgetSelector:".oRateTable",widgetNewSelector:".oNewRateTable",flyoutSelector:".oNewRateTableFlyout",widgetTypeSelector:".jsPayCharge",yourRowSelector:".jsYour",theirRowSelector:".jsTheir",feeRowSelector:".jsOdesk",inputRowSelector:".jsInputRow",labelSelector:".jsLabel",inputCellSelector:".jsInputCell",inputSelector:"input",rentPercentContainerSelector:".jsRentPercent",rateValueTextSelector:".oValue",activeRowClassName:"isActive"},rentPercent:-1,init:function(e){var i=this.$element=t(e);this.type=i.find(this.options.widgetTypeSelector).length?"contractor":"employer",odesk.qt&&(odesk.qt.hasOwnProperty("FP-1488_NEW_FREELANCER_RATE_WIDGET-Version_A")||odesk.qt.hasOwnProperty("FP-1488_NEW_FREELANCER_RATE_WIDGET-Version_B"))&&i.find(this.options.widgetNewSelector).length&&(this.options.widgetSelector=this.options.widgetNewSelector,t(this.options.flyoutSelector).flyout("show")),this.$contractor=i.find(this.options.widgetSelector+" "+("contractor"==this.type?this.options.yourRowSelector:this.options.theirRowSelector)),this.$employer=i.find(this.options.widgetSelector+" "+("contractor"==this.type?this.options.theirRowSelector:this.options.yourRowSelector)),this.$contractorInput=this.$contractor.find(this.options.inputSelector),this.$employerInput=this.$employer.find(this.options.inputSelector),this.$input=null,odesk.qt["FP2188_Subscription-Treatment"]&&this.$employerInput.val()?this._update(i.find(this.options.widgetSelector+" "+this.options.theirRowSelector+" "+this.options.inputSelector)):this._update(i.find(this.options.widgetSelector+" "+this.options.yourRowSelector+" "+this.options.inputSelector)),this._addEvents()},onShow:function(){(odesk.qt.hasOwnProperty("FP-1488_NEW_FREELANCER_RATE_WIDGET-Version_A")||odesk.qt.hasOwnProperty("FP-1488_NEW_FREELANCER_RATE_WIDGET-Version_B"))&&t(this.options.flyoutSelector).flyout("hide").flyout("show")},_addEvents:function(){var e=this.$element;e.find(this.options.inputCellSelector).bind("touchstart",t.proxy(this._mousedown,this)),e.find(this.options.inputRowSelector).bind("touchend",t.proxy(this._mouseup,this)),e.find(this.options.inputCellSelector).bind("mousedown",t.proxy(this._mousedown,this)),e.find(this.options.inputRowSelector).bind("mouseup",t.proxy(this._mouseup,this)),e.find(this.options.widgetSelector+" "+this.options.inputSelector).bind("keyup",t.proxy(this._change,this)).bind("blur",t.proxy(this._blur,this)).bind("focus",t.proxy(this._focus,this)),this.events=odesk.events.makeMap(this.name,["changed"])},setContractorRate:function(t){var e=odesk.math.feesFromCost(t,this.getRentPercent()),i=t+e;return this._setRate(this._format(t),this._format(i),this._format(e)),this},setEmployerRate:function(t){var e=odesk.math.feesFromCharge(t,this.getRentPercent()),i=t-e;return this._setRate(this._format(i),this._format(t),this._format(e)),this},getContractorRate:function(){return parseFloat(this.$contractorInput.val().replace(/\,/g,""))},getEmployerRate:function(){return parseFloat(this.$employerInput.val().replace(/\,/g,""))},getRentPercent:function(){if(this.rentPercent>=0)return this.rentPercent;var t=this.$element.find(this.options.rentPercentContainerSelector).text();return""!==t?parseFloat(t,10):null},setContractorLabel:function(t){this.$contractor.find(this.options.labelSelector).html(t)},showAsAgency:function(t){this.setContractorLabel("Paid to "+(t?"Agency":"You")+":")},setRentPercent:function(e){return this.rentPercent=parseFloat(e),t(this.options.rentPercentContainerSelector).html(this.rentPercent),t(this.options.feeRowSelector+", "+this.options.theirRowSelector).toggleClass("isHidden",0===this.rentPercent),this},_setRate:function(t,e,i){this.$input&&this.$input[0]==this.$contractorInput[0]||this.$contractorInput.val(t),this.$contractor.find(this.options.rateValueTextSelector).html(t),this.$input&&this.$input[0]==this.$employerInput[0]||this.$employerInput.val(e),this.$employer.find(this.options.rateValueTextSelector).html(e),this.$element.find(this.options.feeRowSelector+" "+this.options.rateValueTextSelector).html(i)},_mousedown:function(e){var i=t(e.target).closest(this.options.inputCellSelector);i.closest("."+this.options.activeRowClassName).length||!i.is("input")&&!i.find("input").length||(this.$contractor.toggleClass(this.options.activeRowClassName),this.$employer.toggleClass(this.options.activeRowClassName),this.$input=i.find("input").select())},_mouseup:function(e){var i=t(e.target);i.is("input")?i.select():i.find("input").select()},_change:function(e){var i=e.target;this.$input=t(i),this._update(i)},_blur:function(e){this.$input=null;var i,n=e.target;setTimeout(t.proxy(function(){i=t(n).is(this.$contractorInput)?this.$employerInput:this.$contractorInput,i.data("isFocused")||t(n).trigger("focusin").trigger("focusout")},this),100),t(n).data("isFocused",!1).closest("tr").removeClass("isFocused"),this._update(n)},_focus:function(e){var i=e.target;i.select(),t(i).data("isFocused",!0).closest("tr").addClass("isFocused")},_update:function(e){var i=t(e),n=Number(i.val());isNaN(n)&&(n=0),i.is(this.$contractorInput)?this.setContractorRate(n):this.setEmployerRate(n),i.trigger("change.rate"),this.ctx.mediator.publish(this.events.changed,i)},_format:function(t){return Number(t).toFixed(2)}}),t(".rate-widget").each(function(){new odesk.Rate(this)})}(jQuery),function(t){new odesk.Class("odesk.Epitome","odesk.AbstractWidget",{options:{placement:"right left",className:"oEpitome",delay:{show:750,hide:100}},init:function(e){var i=this.$element=t(e);i.data("reveal")?i.flyout(this.options):(this.options.loading=!0,i.flyout(this.options).on("show",this._load.bind(this))),i.on("show",this._truncate.bind(this))},_getUrl:function(){var t=this.$element,e=t.data("portrait"),i=decodeURIComponent(t.data("key")).match(/(~(~|\d)\w+)/)[1];return"/users/epitome/key/"+i+"/portrait/"+e},_load:function(){this.loading||(this.loading=!0,odesk.ajax({url:this._getUrl(),success:function(e){this.$element.flyout("setContent",t(e))}.bind(this)}))},_truncate:function(){var t=this.$element.data("flyout").tip().find(".jsDesc"),e=t.height();t.oTruncateBlock({height:5*parseFloat(t.css("line-height"))}).css("height","auto"),t.height()!==e&&this.$element.flyout("hide").flyout("show")}}),t(".jsEpitome").each(function(){new odesk.Epitome(this)})}(jQuery),function(t){t.fn.oTruncateBlock=function(e){return e=t.extend({},{blockSelector:!1,height:"auto",limit:!1,end:"..."},e),e.height&&"auto"!==e.height&&"number"!=typeof e.height&&(e.height=parseInt(e.height,10)||!1),"number"!=typeof e.limit&&(e.limit=parseInt(e.limit,10)||!1),t(this).each(function(){var i,n=this,s=t(this),o=e.blockSelector?s.find(e.blockSelector):s,a=o.get(0),r=e.height,l=e.limit,u=!1,c=function(e){for(var s,a=!1,u=e.length-1;u>=0;u--){var d=e[u],h=t(d),p=3===d.nodeType,f=p?h.wrapAll("<span />").parent():h,m=!1;if("br"==d.nodeName.toLowerCase()&&(m=!0),!m&&l&&(s=f.text().length-(o.text().length-l),0>=s&&(m=!0)),!m&&r&&f.offset().top>i+r&&(m=!0),!m)if(p){if(l&&(d.data=d.data.substr(0,s)),r)for(;d.data&&n.scrollHeight>r;)d.data=d.data.replace(/(\s+\S*|\S+)$/,"");d.data?f.replaceWith(d):m=!0}else c(t.makeArray(d.childNodes))&&!d.childNodes.length&&(m=!0);if(m)f.remove(),a=!0;else if(a)break}return a};if(r&&("auto"!==r&&s.height(r),r=s.height(),n.scrollHeight>r&&(i=s.offset().top,u=!0)),l&&o.text().length>l&&(u=!0),u){var d=t.makeArray(a.childNodes);if(e.end){var h=t("<span />").html(e.end);l&&(l+=h.text().length),o.append(h.contents()),h.remove()}c(d)}}),this}}(jQuery),odesk.preLoadedWidgets.simpleCompanySelector=new odesk.SimpleCompanySelector("#simpleCompanySelector",{cookie:{domain:odesk.env.COOKIE_DOMAIN,prefix:odesk.env.COOKIE_PREFIX}}),function(t){odesk.smf=function(){return{init:function(){var e=this;t("#smf, #smf-very-top").find(".oBtnCloseSmall").bind("click",function(i){i.preventDefault();var n=t(this).closest("article"),s=n.data("id");s&&("smf-very-top"==n.closest(".jsSmfWrapper").attr("id")?n.find(".oAnnouncement").fadeOut("fast",function(){n.slideUp("fast")}):n.fadeTo("fast",.01,function(){t(this).slideUp("fast")}),e.dismiss(s))})},dismiss:function(t){return odesk.ajax({url:odesk.env.CONSOLE_ROOT+"smf/dismiss/id/"+t,dataType:"json",type:"post"}),this},exists:function(t){return odesk.pageConfig.smf&&!!odesk.pageConfig.smf[t]},get:function(e){var i={id:0,content:""};return t.extend(i,odesk.pageConfig.smf[e]),i}}}(),odesk.smf.init()}(jQuery),function(t){new odesk.Class("odesk.MUA","odesk.AbstractWidget",{options:{dialog:{accept:"#MUAAccept",accepted:"#MUAAccepted",decline:"#MUADecline",declined:"#MUADeclineed",later:"#MUALater"},contentContainer:".jsMUAContentContainer",warning:"#MUAWarning",review:".oBtnPopup",laterBtn:".jsLater",later:".oBtn",declineBtn:".jsDecline",acceptInput:'input[name="acceptType"]',disabled:"isDisabled",submitBtn:".jsSubmit",back:".oBreadcrumbPrev",acceptTypeText:"small.acceptTypeText"},init:function(e){t.extend(this.options,e);var i=t(this.options.warning);i.length?i.find(this.options.review).bind("click",t.proxy(this.showAcceptDialog,this)):this.showAcceptDialog()},_showDialog:function(e,i){var n=this.$dialog=t(this.options.dialog[e]);return n.parent().hasClass("ui-dialog")?n.dialog("open"):(n.dialog(t.extend(!0,{modal:!0,autoOpen:!0,closeOnEscape:!1,draggable:!1,resizable:!1,width:800,position:["center",50],close:function(){n.dialog("destroy")},open:function(){"decline"==e.toLowerCase()&&t(this).prev().find(".ui-dialog-titlebar-close").remove()}},i)),this._initForm(e)),!0},_sendRequest:function(t){var e=odesk.pageConfig.MUA_VERSION,i="ACCEPT"==t;odesk.loading.show(),odesk.ajax({url:odesk.env.OCA_ROOT+"tos/v1/terms/"+e+".json",dataType:"json",type:"post",data:{accept:i,type:"input",input:t},context:this,success:function(){odesk.loading.hide(),this.$dialog.dialog("close"),this.showResultDialog(t.toLowerCase()+"ed")},error:function(){odesk.loading.hide(),this.showError(t,"Uh-oh. Our server is having issues. Please try again soon!")}})},_closeMUADone:function(){var t=window.location.href;t=t.replace(/(&mua=([a-z0-9])*(?=[&#\n])?)|(&mua(?=[&#\n])?)/gi,"").replace(/(\?mua=([a-z0-9]*)?&)|(\?mua&)/i,"?").replace(/(\?mua=[a-z0-9]*(?=[\n#])?)|(\?mua(?=[\n#])?)|(#\n)/i,""),odesk.loading.show(),t!=window.location.href?window.location.href=t:window.location.reload(!1)},showAcceptDialog:function(){if(!this._showDialog("accept"))return!1;var e=this.$dialog,i=e.find(this.options.contentContainer);t.trim(i.html())||i.addClass("oLockOverlay"),t.getJSON(odesk.env.OCA_ROOT+"tos/v1/contents.json",function(t){t&&t.tos.length&&i.html(t.tos),i.removeClass("oLockOverlay")}),e.parent().find("a.ui-dialog-titlebar-close").bind("click",t.proxy(this.showLaterDialog,this)),e.find(this.options.laterBtn).bind("click",t.proxy(function(t){return e.dialog("close"),this.showLaterDialog(t),!1},this)),e.find(this.options.declineBtn).bind("click",t.proxy(function(t){return t.preventDefault(),e.dialog("close"),this.showDeclineDialog()},this))},showDeclineDialog:function(){return this._showDialog("decline"),this.$dialog.find(this.options.back).bind("click",t.proxy(function(t){return t.preventDefault(),this.$dialog.dialog("close"),this._showDialog("accept"),!1},this)),!1},showResultDialog:function(t){return this._showDialog(t,{close:this._closeMUADone}),setTimeout(this._closeMUADone,5e3),!1},showLaterDialog:function(t){t.preventDefault(),this._showDialog("later",{close:this._closeMUADone});var e=this.$dialog;return e.find(this.options.later).bind("click",function(t){t.preventDefault(),e.dialog("close")}),!1},_initForm:function(e){var i=this.$dialog.find("form");i.submit(t.proxy(function(t){return t.preventDefault(),i.valid()&&this._sendRequest(e),!1},this)),this.$dialog.find(this.options.acceptInput).data("notValidateOnkeyup",!0),e=e.toUpperCase();var n="Please type '"+e+"'";i.oFormValidation({rules:{acceptType:{required:!0,regExp:RegExp("^"+e+"$","i")}},messages:{acceptType:{required:n,regExp:n}},errorAlert:null})},_checkInput:function(e){var i=t.trim(this.$dialog.find(this.options.acceptInput).val()).toUpperCase();i==e.toUpperCase()?this._sendRequest(e):this.showError(e)},showError:function(e,i){var n=this.options.dialog[e.toLowerCase()],s=t(n).find(this.options.acceptTypeText);"DECLINE"==e&&s.html("Type the word DECLINE in the box below"),s.addClass("errorText"),t(n).find(this.options.acceptInput).addClass("errorBlock"),i?(s.hide(),t("#"+e+"_error").show().find("b").html(i)):(t("#"+e+"_error").hide(),s.show())},hideError:function(e){var i=this.options.dialog[e.toLowerCase()];t(i).find(this.options.acceptTypeText).removeClass("errorText").show(),t(i).find(this.options.acceptInput).removeClass("errorBlock"),t("#"+e+"_error").hide()}}),odesk.pageConfig.MUA_VERSION&&(odesk.mua=new odesk.MUA)}(jQuery),function(t){t.validator.addMethod("regExp",function(e,i,n){return n instanceof RegExp?(n.global||n.ignoreCase)&&(n.lastIndex=0):n=RegExp(n),this.optional(i)||n.test(t.trim(e))},"Does not pass specified RegExp.")}(jQuery),function(t){new odesk.Class("odesk.GlobalAlert",{init:function(e){this.$element=t(e),this.$element.find(".oBtnCloseSmall").bind("click",t.proxy(this.close,this))},close:function(e){e.preventDefault(),t(e.target).closest("div").fadeOut("fast"),odesk.sessionStorage.set("hideAvailabilityWarning","1",odesk.storageManager.cnst().SERVER_DATA)}}),new odesk.GlobalAlert("#globalAlert")}(jQuery),function(t){new odesk.Class("odesk.Coupons","odesk.AbstractWidget",{options:{dialogTag:"#couponsDialog",closeBtn:".oBtn"},init:function(e){t.extend(this.options,e),this._initDialog(),this._showDialog()},_showDialog:function(){this.$dialog=t(this.options.dialogTag),this.$dialog.dialog("open")},_initDialog:function(){var e=this.$dialog=t(this.options.dialogTag);e.dialog(t.extend(!0,{modal:!0,autoOpen:!1,closeOnEscape:!0,draggable:!1,resizable:!1,width:500,position:["center",50],close:function(){t(this).dialog("destroy")}})),e.find(this.options.closeBtn).bind("click",function(t){t.preventDefault(),e.dialog("close")})}}),odesk.preLoadedWidgets.Coupons=new odesk.Coupons}(jQuery),function(t){new odesk.Class("odesk.MultiStepSelected","odesk.AbstractWidget",{init:function(e,i){t(e).length&&t(e).css("width",t(i).position().left+t(i).width()/2)}}),t("#multi-step-selected").length&&new odesk.MultiStepSelected("#multi-step-selected","#multi-step-current","#multi-step-container .circle")}(jQuery),function(t){new odesk.Class("odesk.CancelLink","odesk.AbstractWidget",{name:null,$element:null,options:{defaultLink:""},init:function(e,i,n){this.name=e,this.$element=t(i),t.extend(!0,this.options,n),this._assignHandlers()},_assignHandlers:function(){return this.$element.bind("click",t.proxy(this._onCancelLinkClick,this)),this},_onCancelLinkClick:function(){var e=window.history,i=!1;return e.length>1?(t(window).bind("beforeunload",function(){i=!0}),e.back(),odesk.timers.add(1e3,t.proxy(function(){i||(window.location=this.options.defaultLink)},this))):window.location=this.options.defaultLink,!1}})}(jQuery),function(){var t=this,e=t._,i={},n=Array.prototype,s=Object.prototype,o=Function.prototype,a=n.push,r=n.slice,l=n.concat,u=s.toString,c=s.hasOwnProperty,d=n.forEach,h=n.map,p=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,v=n.some,y=n.indexOf,b=n.lastIndexOf,_=Array.isArray,k=Object.keys,w=o.bind,C=function(t){return t instanceof C?t:this instanceof C?(this._wrapped=t,void 0):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.4.3";var D=C.each=C.forEach=function(t,e,n){if(null!=t)if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(var s=0,o=t.length;o>s;s++)if(e.call(n,t[s],s,t)===i)return}else for(var a in t)if(C.has(t,a)&&e.call(n,t[a],a,t)===i)return};C.map=C.collect=function(t,e,i){var n=[];return null==t?n:h&&t.map===h?t.map(e,i):(D(t,function(t,s,o){n[n.length]=e.call(i,t,s,o)}),n)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,i,n){var s=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return n&&(e=C.bind(e,n)),s?t.reduce(e,i):t.reduce(e);if(D(t,function(t,o,a){s?i=e.call(n,i,t,o,a):(i=t,s=!0)}),!s)throw new TypeError(T);return i},C.reduceRight=C.foldr=function(t,e,i,n){var s=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=C.bind(e,n)),s?t.reduceRight(e,i):t.reduceRight(e);var o=t.length;if(o!==+o){var a=C.keys(t);o=a.length}if(D(t,function(r,l,u){l=a?a[--o]:--o,s?i=e.call(n,i,t[l],l,u):(i=t[l],s=!0)}),!s)throw new TypeError(T);return i},C.find=C.detect=function(t,e,i){var n;return x(t,function(t,s,o){return e.call(i,t,s,o)?(n=t,!0):void 0}),n},C.filter=C.select=function(t,e,i){var n=[];return null==t?n:m&&t.filter===m?t.filter(e,i):(D(t,function(t,s,o){e.call(i,t,s,o)&&(n[n.length]=t)}),n)},C.reject=function(t,e,i){return C.filter(t,function(t,n,s){return!e.call(i,t,n,s)},i)},C.every=C.all=function(t,e,n){e||(e=C.identity);var s=!0;return null==t?s:g&&t.every===g?t.every(e,n):(D(t,function(t,o,a){return(s=s&&e.call(n,t,o,a))?void 0:i}),!!s)};var x=C.some=C.any=function(t,e,n){e||(e=C.identity);var s=!1;return null==t?s:v&&t.some===v?t.some(e,n):(D(t,function(t,o,a){return s||(s=e.call(n,t,o,a))?i:void 0}),!!s)};C.contains=C.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):x(t,function(t){return t===e})},C.invoke=function(t,e){var i=r.call(arguments,2);return C.map(t,function(t){return(C.isFunction(e)?e:t[e]).apply(t,i)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,e){return C.isEmpty(e)?[]:C.filter(t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},C.max=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&C.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return D(t,function(t,s,o){var a=e?e.call(i,t,s,o):t;a>=n.computed&&(n={value:t,computed:a})}),n.value},C.min=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&C.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return D(t,function(t,s,o){var a=e?e.call(i,t,s,o):t;n.computed>a&&(n={value:t,computed:a})}),n.value},C.shuffle=function(t){var e,i=0,n=[];return D(t,function(t){e=C.random(i++),n[i-1]=n[e],n[e]=t}),n};var S=function(t){return C.isFunction(t)?t:function(e){return e[t]}};C.sortBy=function(t,e,i){var n=S(e);return C.pluck(C.map(t,function(t,e,s){return{value:t,index:e,criteria:n.call(i,t,e,s)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index<e.index?-1:1}),"value")};var E=function(t,e,i,n){var s={},o=S(e||C.identity);return D(t,function(e,a){var r=o.call(i,e,a,t);n(s,r,e)}),s};C.groupBy=function(t,e,i){return E(t,e,i,function(t,e,i){(C.has(t,e)?t[e]:t[e]=[]).push(i)})},C.countBy=function(t,e,i){return E(t,e,i,function(t,e){C.has(t,e)||(t[e]=0),t[e]++})},C.sortedIndex=function(t,e,i,n){i=null==i?C.identity:S(i);for(var s=i.call(n,e),o=0,a=t.length;a>o;){var r=o+a>>>1;s>i.call(n,t[r])?o=r+1:a=r}return o},C.toArray=function(t){return t?C.isArray(t)?r.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:r.call(t,0,e)},C.initial=function(t,e,i){return r.call(t,0,t.length-(null==e||i?1:e))},C.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:r.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,i){return r.call(t,null==e||i?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var F=function(t,e,i){return D(t,function(t){C.isArray(t)?e?a.apply(i,t):F(t,e,i):i.push(t)}),i};C.flatten=function(t,e){return F(t,e,[])},C.without=function(t){return C.difference(t,r.call(arguments,1))},C.uniq=C.unique=function(t,e,i,n){C.isFunction(e)&&(n=i,i=e,e=!1);var s=i?C.map(t,i,n):t,o=[],a=[];return D(s,function(i,n){(e?n&&a[a.length-1]===i:C.contains(a,i))||(a.push(i),o.push(t[n]))}),o},C.union=function(){return C.uniq(l.apply(n,arguments))},C.intersection=function(t){var e=r.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.indexOf(e,t)>=0})})},C.difference=function(t){var e=l.apply(n,r.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=r.call(arguments),e=C.max(C.pluck(t,"length")),i=Array(e),n=0;e>n;n++)i[n]=C.pluck(t,""+n);return i},C.object=function(t,e){if(null==t)return{};for(var i={},n=0,s=t.length;s>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},C.indexOf=function(t,e,i){if(null==t)return-1;var n=0,s=t.length;if(i){if("number"!=typeof i)return n=C.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,s+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;s>n;n++)if(t[n]===e)return n;return-1},C.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var s=n?i:t.length;s--;)if(t[s]===e)return s;return-1},C.range=function(t,e,i){1>=arguments.length&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),s=0,o=Array(n);n>s;)o[s++]=t,t+=i;return o};var I=function(){};C.bind=function(t,e){var i,n;if(t.bind===w&&w)return w.apply(t,r.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return i=r.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(r.call(arguments)));I.prototype=t.prototype;var s=new I;I.prototype=null;var o=t.apply(s,i.concat(r.call(arguments)));return Object(o)===o?o:s}},C.bindAll=function(t){var e=r.call(arguments,1);return 0==e.length&&(e=C.functions(t)),D(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var i={};return e||(e=C.identity),function(){var n=e.apply(this,arguments);return C.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},C.delay=function(t,e){var i=r.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(r.call(arguments,1)))},C.throttle=function(t,e){var i,n,s,o,a=0,r=function(){a=new Date,s=null,o=t.apply(i,n)};return function(){var l=new Date,u=e-(l-a);return i=this,n=arguments,0>=u?(clearTimeout(s),s=null,a=l,o=t.apply(i,n)):s||(s=setTimeout(r,u)),o}},C.debounce=function(t,e,i){var n,s;return function(){var o=this,a=arguments,r=function(){n=null,i||(s=t.apply(o,a))},l=i&&!n;return clearTimeout(n),n=setTimeout(r,e),l&&(s=t.apply(o,a)),s}},C.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},C.wrap=function(t,e){return function(){var i=[t];return a.apply(i,arguments),e.apply(this,i)}},C.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},C.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},C.keys=k||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)C.has(t,i)&&(e[e.length]=i);return e},C.values=function(t){var e=[];for(var i in t)C.has(t,i)&&e.push(t[i]);return e},C.pairs=function(t){var e=[];for(var i in t)C.has(t,i)&&e.push([i,t[i]]);return e},C.invert=function(t){var e={};for(var i in t)C.has(t,i)&&(e[t[i]]=i);return e},C.functions=C.methods=function(t){var e=[];for(var i in t)C.isFunction(t[i])&&e.push(i);return e.sort()},C.extend=function(t){return D(r.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},C.pick=function(t){var e={},i=l.apply(n,r.call(arguments,1));return D(i,function(i){i in t&&(e[i]=t[i])}),e},C.omit=function(t){var e={},i=l.apply(n,r.call(arguments,1));for(var s in t)C.contains(i,s)||(e[s]=t[s]);return e},C.defaults=function(t){return D(r.call(arguments,1),function(e){if(e)for(var i in e)null==t[i]&&(t[i]=e[i])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var M=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var s=u.call(t);if(s!=u.call(e))return!1;switch(s){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=i.length;o--;)if(i[o]==t)return n[o]==e;i.push(t),n.push(e);var a=0,r=!0;if("[object Array]"==s){if(a=t.length,r=a==e.length)for(;a--&&(r=M(t[a],e[a],i,n)););}else{var l=t.constructor,c=e.constructor;if(l!==c&&!(C.isFunction(l)&&l instanceof l&&C.isFunction(c)&&c instanceof c))return!1;for(var d in t)if(C.has(t,d)&&(a++,!(r=C.has(e,d)&&M(t[d],e[d],i,n))))break;if(r){for(d in e)if(C.has(e,d)&&!a--)break;r=!a}}return i.pop(),n.pop(),r};C.isEqual=function(t,e){return M(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=_||function(t){return"[object Array]"==u.call(t)},C.isObject=function(t){return t===Object(t)},D(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),C.isFunction=function(t){return"function"==typeof t},C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return c.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,i){for(var n=Array(t),s=0;t>s;s++)n[s]=e.call(i,s);return n},C.random=function(t,e){return null==e&&(e=t,t=0),t+(0|Math.random()*(e-t+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=C.invert(A.escape);var $={escape:RegExp("["+C.keys(A.escape).join("")+"]","g"),unescape:RegExp("("+C.keys(A.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return null==e?"":(""+e).replace($[t],function(e){return A[t][e]})}}),C.result=function(t,e){if(null==t)return null;var i=t[e];return C.isFunction(i)?i.call(t):i},C.mixin=function(t){D(C.functions(t),function(e){var i=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),P.call(this,i.apply(C,t))}})};var O=0;C.uniqueId=function(t){var e=""+ ++O;return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,i){i=C.defaults({},i,C.templateSettings);var n=RegExp([(i.escape||R).source,(i.interpolate||R).source,(i.evaluate||R).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(n,function(e,i,n,a,r){return o+=t.slice(s,r).replace(N,function(t){return"\\"+j[t]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),a&&(o+="';\n"+a+"\n__p+='"),s=r+e.length,e}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=Function(i.variable||"obj","_",o)}catch(r){throw r.source=o,r}if(e)return a(e,C);var l=function(t){return a.call(this,t,C)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},C.chain=function(t){return C(t).chain()};var P=function(t){return this._chain?C(t).chain():t};C.mixin(C),D(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];C.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],P.call(this,i)}}),D(["concat","join","slice"],function(t){var e=n[t];C.prototype[t]=function(){return P.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(t){var e={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return t===void 0},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){return(n=i.call(null,s,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){return(n=i.call(null,s,t,e))?!1:void 0}),!!n):n},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function i(){return e+""}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var o,a,r=this,l=arguments;return o=function(){n=null,i||(s=t.apply(r,l))},a=i&&!n,clearTimeout(n),n=setTimeout(o,e),a&&(s=t.apply(r,l)),s}},throttle:function(t,e){var i,n,s,o,a,r;return a=0,r=function(){a=new Date,s=null,o=t.apply(i,n)},function(){var l=new Date,u=e-(l-a);return i=this,n=arguments,0>=u?(clearTimeout(s),s=null,a=l,o=t.apply(i,n)):s||(s=setTimeout(r,u)),o}},noop:function(){}},i="0.10.0",n=function(){function t(t){this.maxSize=t||100,this.size=0,this.hash={},this.list=new i}function i(){this.head=this.tail=null}function n(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(t.prototype,{set:function(t,e){var i,s=this.list.tail;this.size>=this.maxSize&&(this.list.remove(s),delete this.hash[s.key]),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new n(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):undefined}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(this),s=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=RegExp("^"+this.prefix)}function i(){return(new Date).getTime()}function n(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(t){return JSON.parse(t)}var o,a;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(r){o=null}return a=o&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey
},get:function(t){return this.isExpired(t)&&this.remove(t),s(o.getItem(this._prefix(t)))},set:function(t,s,a){return e.isNumber(a)?o.setItem(this._ttlKey(t),n(i()+a)):o.removeItem(this._ttlKey(t)),o.setItem(this._prefix(t),n(s))},remove:function(t){return o.removeItem(this._ttlKey(t)),o.removeItem(this._prefix(t)),this},clear:function(){var t,e,i=[],n=o.length;for(t=0;n>t;t++)(e=o.key(t)).match(this.keyMatcher)&&i.push(e.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(t){var n=s(o.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,a),t}(),o=function(){function i(e){e=e||{},this._send=e.send?s(e.send):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get}function s(i){return function(n,s){function o(t){e.defer(function(){r.resolve(t)})}function a(t){e.defer(function(){r.reject(t)})}var r=t.Deferred();return i(n,s,o,a),r}}var o=0,a={},r=6,l=new n(10);return i.setMaxPendingRequests=function(t){r=t},i.resetCache=function(){l=new n(10)},e.mixin(i.prototype,{_get:function(t,e,i){function n(e){i&&i(e),l.set(t,e)}function s(){o--,delete a[t],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var u,c=this;(u=a[t])?u.done(n):r>o?(o++,a[t]=this._send(t,e).done(n).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(t,i,n){var s;return e.isFunction(i)&&(n=i,i={}),(s=l.get(t))?e.defer(function(){n&&n(s)}):this._get(t,i,n),!!s}}),i}(),a=function(){function i(e){e=e||{},e.datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.datums=[],this.trie=s()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function s(){return{ids:[],children:{}}}function o(t){for(var e={},i=[],n=0;t.length>n;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function a(t,e){function i(t,e){return t-e}var n=0,s=0,o=[];for(t=t.sort(i),e=e.sort(i);t.length>n&&e.length>s;)t[n]<e[s]?n++:t[n]>e[s]?s++:(o.push(t[n]),n++,s++);return o}return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,a;o=i.datums.push(t)-1,a=n(i.datumTokenizer(t)),e.each(a,function(t){var e,n,a;for(e=i.trie,n=t.split("");a=n.shift();)e=e.children[a]||(e.children[a]=s()),e.ids.push(o)})})},get:function(t){var i,s,r=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,o;if(s&&0===s.length)return!1;for(e=r.trie,i=t.split("");e&&(n=i.shift());)e=e.children[n];return e&&0===i.length?(o=e.ids.slice(0),s=s?a(s,o):o,void 0):(s=[],!1)}),s?e.map(o(s),function(t){return r.datums[t]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),r=function(){function n(t){return t.local||null}function s(n){var s,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(s=n.prefetch||null)&&(s=e.isString(s)?{url:s}:s,s=e.mixin(o,s),s.thumbprint=i+s.thumbprint,s.ajax.method=s.ajax.method||"get",s.ajax.dataType=s.ajax.dataType||"json",!s.url&&t.error("prefetch requires url to be set")),s}function o(i){function n(t){return function(i){return e.debounce(i,t)}}function s(t){return function(i){return e.throttle(i,t)}}var o,a;return a={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=i.remote||null)&&(o=e.isString(o)?{url:o}:o,o=e.mixin(a,o),o.rateLimiter=/^throttle$/i.test(o.rateLimitBy)?s(o.rateLimitWait):n(o.rateLimitWait),o.ajax.method=o.ajax.method||"get",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&t.error("remote requires url to be set")),o}return{local:n,prefetch:s,remote:o}}();window.Bloodhound=function(){function i(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=e.sorter||n,this.dupDetector=e.dupDetector||l,this.local=r.local(e),this.prefetch=r.prefetch(e),this.remote=r.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new s(this.cacheKey):null}function n(){return 0}function l(){return!1}var u;return u={data:"data",protocol:"protocol",thumbprint:"thumbprint"},i.tokenizers={whitespace:function(t){return t.split(/\s+/)},nonword:function(t){return t.split(/\W+/)}},e.mixin(i.prototype,{_loadPrefetch:function(e){function i(t){var i;i=e.filter?e.filter(t):t,o.add(i),o._saveToStorage(o.index.serialize(),e.thumbprint,e.ttl)}var n,s,o=this;return(n=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(n),s=t.Deferred().resolve()):s=t.ajax(e.url,e.ajax).done(i),s},_getFromRemote:function(t,e){function i(t){var i=o.remote.filter?o.remote.filter(t):t;e(i)}var n,s,o=this;return t=t||"",s=encodeURIComponent(t),n=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,s),this.transport.get(n,this.remote.ajax,i)},_saveToStorage:function(t,e,i){this.storage&&(this.storage.set(u.data,t,i),this.storage.set(u.protocol,location.protocol,i),this.storage.set(u.thumbprint,e,i))},_readFromStorage:function(t){var e={};return this.storage&&(e.data=this.storage.get(u.data),e.protocol=this.storage.get(u.protocol),e.thumbprint=this.storage.get(u.thumbprint)),isExpired=e.thumbprint!==t||e.protocol!==location.protocol,e.data&&!isExpired?e.data:null},initialize:function(){function e(){n.add(n.local)}var i,n=this;return i=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),this.local&&i.done(e),this.transport=this.remote?new o(this.remote):null,this.initialize=function(){return i.promise()},i.promise()},add:function(t){this.index.add(t)},get:function(t,i){function n(t){var n=s.slice(0);e.each(t,function(t){var i;return i=e.some(n,function(e){return o.dupDetector(t,e)}),!i&&n.push(t),n.length<o.limit}),i&&i(n.sort(o.sorter))}var s,o=this,a=!1;s=this.index.get(t).sort(this.sorter).slice(0,this.limit),s.length<this.limit&&this.transport&&(a=this._getFromRemote(t,n)),!a&&i&&i(s)},ttAdapter:function(){return e.bind(this.get,this)}}),i}();var l={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'},u={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};e.isMsie()&&e.mixin(u.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&7>=e.isMsie()&&e.mixin(u.input,{marginTop:"-1px"});var c=function(){function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n="typeahead:";return e.mixin(i.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(n+t,e)}}),i}(),d=function(){function t(t,e,i,n){var s;if(!i)return this;for(e=e.split(l),i=n?r(i,n):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,i,n,s,a;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)s=o(i.sync,this,[e].concat(n)),a=o(i.async,this,[e].concat(n)),s()&&u(a);return this}function o(t,e,i){function n(){for(var n,s=0;!n&&t.length>s;s+=1)n=t[s].apply(e,i)===!1;return!n}return n}function a(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function r(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=a();return{onSync:i,onAsync:e,off:n,trigger:s}}(),h=function(t){function i(t,i,n,s){for(var o,a=[],r=0;t.length>r;r++)a.push(e.escapeRegExChars(t[r]));return o=n?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",o=s?"^"+o:o,i?RegExp(o):RegExp(o,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function o(e){var i,n;return(i=r.exec(e.data))&&(wrapperNode=t.createElement(s.tagName),s.className&&(wrapperNode.className=s.className),n=e.splitText(i.index),n.splitText(i[0].length),wrapperNode.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(wrapperNode,n)),!!i}function a(t,e){for(var i,n=3,s=0;t.childNodes.length>s;s++)i=t.childNodes[s],i.nodeType===n?s+=e(i)?1:0:a(i,e)}var r;s=e.mixin({},n,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],r=i(s.pattern,s.caseSensitive,s.wordsOnly,s.onlyFirstMatch),a(s.node,o))}}(window.document),p=function(){function i(i){var s,o,r,l,u=this;i=i||{},i.input||t.error("input is missing"),s=e.bind(this._onBlur,this),o=e.bind(this._onFocus,this),r=e.bind(this._onKeydown,this),l=e.bind(this._onInput,this),this.$hint=t(i.hint),this.$input=t(i.input).on("blur.tt",s).on("focus.tt",o).on("keydown.tt",r),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(u._onInput,u,t))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=n(this.$input)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,d,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var i,n,s;switch(t){case"tab":n=this.getHintValue(),s=this.getInputValue(),i=n&&n!==s&&!o(e);break;case"up":case"down":i=!o(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!o(e);break;default:i=!0}return i},_checkInputValue:function(){var t,e,i;t=this.getInputValue(),e=s(t,this.query),i=e?this.query.length!==t.length:!1,e?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=t)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),!e&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:document.selection?(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),f=function(){function i(i){i=i||{},i.templates=i.templates||{},i.source||t.error("missing source"),this.query=null,this.highlight=!!i.highlight,this.highlightOnlyFirstMatch=!!i.highlightOnlyFirstMatch,this.name=i.name||e.getUniqueId(),this.source=i.source,this.valueKey=i.displayKey||"value",this.templates=n(i.templates,this.valueKey),this.$el=t(l.dataset.replace("%CLASS%",this.name))}function n(t,i){function n(t){return"<p>"+t[i]+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||n}}var s="ttDataset",o="ttValue",a="ttDatum";return i.extractDatasetName=function(e){return t(e).data(s)},i.extractValue=function(e){return t(e).data(o)},i.extractDatum=function(e){return t(e).data(a)},e.mixin(i.prototype,d,{_render:function(i,n){function r(){return m.templates.empty({query:i})}function c(){function r(e){var i,n,r;return n=m.templates.suggestion(e),r=l.suggestion.replace("%BODY%",n),i=t(r).data(s,m.name).data(o,e[m.valueKey]).data(a,e),i.children().each(function(){t(this).css(u.suggestionChild)}),i}var c;return c=t(l.suggestions).css(u.suggestions).append(e.map(n,r)),m.highlight&&h({node:c[0],pattern:i,onlyFirstMatch:m.highlightOnlyFirstMatch}),c}function d(){return m.templates.header({query:i,isEmpty:!f})}function p(){return m.templates.footer({query:i,isEmpty:!f})}if(this.$el){var f,m=this;this.$el.empty(),f=n&&n.length,!f&&this.templates.empty?this.$el.html(r()).prepend(m.templates.header?d():null).append(m.templates.footer?p():null):f&&this.$el.html(c()).prepend(m.templates.header?d():null).append(m.templates.footer?p():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){t===i.query&&i._render(t,e)}var i=this;this.query=t,this.source(t,e)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),i}(),m=function(){function i(i){var s,o,a,r,l,u=this;i=i||{},i.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.datasets=e.map(i.datasets,n),s=e.bind(this._onMouseEnter,this),o=e.bind(this._onMouseLeave,this),a=e.bind(this._onSuggestionClick,this),r=e.bind(this._onSuggestionMouseEnter,this),l=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(i.menu).on("mouseenter.tt",s).on("mouseleave.tt",o).on("click.tt",".tt-suggestion",a).on("mouseenter.tt",".tt-suggestion",r).on("mouseleave.tt",".tt-suggestion",l),e.each(this.datasets,function(t){u.$menu.append(t.getRoot()),t.onSync("rendered",u._onRendered,u)})}function n(t){return new f(t)}return e.mixin(i.prototype,d,{_onMouseEnter:function(){this.isMouseOverDropdown=!0},_onMouseLeave:function(){this.isMouseOverDropdown=!1},_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,i,n,s;if(this.isOpen){if(i=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),n=e.index(i)+t,n=(n+1)%(e.length+1)-1,-1===n)return this.trigger("cursorRemoved"),void 0;-1>n&&(n=e.length-1),this._setCursor(s=e.eq(n)),this._ensureVisible(s)}},_ensureVisible:function(t){var e,i,n,s;e=t.position().top,i=e+t.outerHeight(!0),n=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(n+e):i>s&&this.$menu.scrollTop(n+(i-s))},close:function(){this.isOpen&&(this.isOpen=this.isMouseOverDropdown=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?u.ltr:u.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:f.extractDatum(t),value:f.extractValue(t),datasetName:f.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function i(e){e.update(t)}e.each(this.datasets,i)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t)},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),i}(),g=function(){function i(i){var s,o,a;i=i||{},i.input||t.error("missing input"),this.doNotRepeatSelection=!!i.doNotRepeatSelection,this.autoselect=!!i.autoselect,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.$node=n(i.input,i.withHint),s=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),a=this.$node.find(".tt-hint"),this.eventBus=i.eventBus||new c({el:o}),this.dropdown=new m({menu:s,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p({input:o,hint:a}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),s.on("mousedown.tt",function(t){e.isMsie()&&9>e.isMsie()&&(o[0].onbeforedeactivate=function(){window.event.returnValue=!1,o[0].onbeforedeactivate=null}),t.preventDefault()})}function n(e,i){var n,o,r,c;n=t(e),o=t(l.wrapper).css(u.wrapper),r=t(l.dropdown).css(u.dropdown),c=n.clone().css(u.hint).css(s(n)),c.removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),n.data(a,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(i?u.input:u.inputWithNoHint);try{!n.attr("dir")&&n.attr("dir","auto")}catch(d){}return n.wrap(o).parent().prepend(i?c:null).append(r)}function s(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(t){var i=t.find(".tt-input");e.each(i.data(a),function(t,n){e.isUndefined(t)?i.removeAttr(n):i.attr(n,t)}),i.detach().removeData(a).removeClass("tt-input").insertAfter(t),t.remove()}var a="ttAttrs";return e.mixin(i.prototype,{_onSuggestionClicked:function(t,e){var i;(i=this.dropdown.getDatumForSuggestion(e))&&this._select(i)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.clearHint(),this.doNotRepeatSelection||this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.open()},_onBlurred:function(){!this.dropdown.isMouseOverDropdown&&this.dropdown.close()},_onEnterKeyed:function(t,e){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),e.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();!this.dropdown.isOpen&&t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var t=this.input.getQuery();!this.dropdown.isOpen&&t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHint(),this.dropdown.empty(),e.length>=this.minLength&&this.dropdown.update(e),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,i,n,s,o,a;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(i=this.input.getInputValue(),n=p.normalizeQuery(i),s=e.escapeRegExChars(n),o=RegExp("^(?:"+s+")(.*$)","i"),a=o.exec(t.value),this.input.setHintValue(i+(a?a[1]:"")))},_autocomplete:function(){var t,e,i;t=this.input.getHintValue(),e=this.input.getQuery(),t&&e!==t&&this.input.isCursorAtEnd()&&(i=this.dropdown.getDatumForTopSuggestion(),i&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(t){this.input.clearHint(),this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this.dropdown.empty(),this._setLanguageDirection(),e.defer(e.bind(this.dropdown.close,this.dropdown)),this.eventBus.trigger("selected",t.raw,t.datasetName)},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(t){this.input.setInputValue(t)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),i}();(function(){var i,n;i="ttTypeahead",n={initialize:function(n){function s(){var s,a,r=t(this);e.each(o,function(t){t.highlight=!!n.highlight,t.highlightOnlyFirstMatch=!!n.highlightOnlyFirstMatch}),a=new g({input:r,eventBus:s=new c({el:r}),withHint:e.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,doNotRepeatSelection:n.doNotRepeatSelection,datasets:o}),r.data(i,a)}var o=e.map([].slice.call(arguments,1),function(t){return t});return n=n||{},this.each(s)},open:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.close()}return this.each(e)},val:function(n){function s(){var e,s=t(this);(e=s.data(i))&&e.setQuery(n)}function o(){var e,n,s=t(this);return(e=s.data(i))&&(n=e.getQuery()),n}return e.isString(n)?this.each(s):this.map(o).get()},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},jQuery.fn.typeahead=function(t){return n[t]?n[t].apply(this,[].slice.call(arguments,1)):n.initialize.apply(this,arguments)}})()}(window.jQuery),function(t){new odesk.Class("odesk.AutoTypeahead","odesk.AbstractWidget",{options:{autocomplete:{limit:5,showShortFirst:!1,requceDashRequest:!0,boldQueryInSuggestion:!0,wrapperSelector:".twitter-typeahead",hintFieldSelector:".tt-hint",dropdownSelector:".tt-dropdown-menu",suggestionWrapper:".tt-suggestion > p",hideHintField:!1,queryPlaceholderInUrl:"{q}",showLoading:!0,loadingClass:"isLoading",inputRef:null,noResultsMessage:'<ul><li class="oNotRecognized tt-empty-template">No suggestions found...</li></ul>',doNotRepeatSelection:!1,css:{wrapper:"",input:"tt-default-input",dropdown:""}}},init:function(e,i,n){var s=this.options.autocomplete,o=this;this.name=e,this.$element=t(i),t.extend(!0,s,{parseJson:t.proxy(this._parseJson,this)},n),this.localData=s.localData||null,this.$input=s.inputRef||this.$element.find("input"),"string"==typeof this.localData?s.remote={url:this.localData,wildcard:s.queryPlaceholderInUrl||"%QUERY",ajax:{beforeSend:function(t,e){e.url=o._stripTags(e.url.replace(/%3C/gi,"<").replace(/%3E/gi,">")),s.requceDashRequest&&(e.url=e.url.replace(/-([A-Za-z0-9_-]*).json/gi,".json")),o.ctx.mediator&&(o.loading(!0),o.ctx.mediator.publish(o.events.autoRequestStarted)),t.fail(function(){o.ctx.mediator&&(o.loading(!1),o.ctx.mediator.publish(o.events.autoRequestComplete,[]))})}},filter:function(t){var e=s.parseJson?s.parseJson(t):t,i=function(t){return t.value=o._stripTags(t.value),t};return e=o._excludeFromResult(e,s.excludeItems),e=e.map?e.map(i):e,o.ctx.mediator&&(o.loading(!1),o.ctx.mediator.publish(o.events.autoRequestComplete,e)),s.showShortFirst&&(e=e.sort(function(t,e){return t.value.length-e.value.length})),e.length||o._setTemplate("empty",s.noResultsMessage,!0),e}}:s.local=o._excludeFromResult(this.localData,s.excludeItems),t.extend(this.events,odesk.events.makeMap(this.name,["autoSelected","autoRequestStarted","autoRequestComplete"])),this._setProperties(),this._addEvents()},_setTemplate:function(t,e,i){if(i&&this._getDatasets().length>1)return!1;var n=this._getTemplates();return n.length?(n.forEach(function(i){i[t]=this._templatify(e)}.bind(this)),!0):!1},_getTemplates:function(){var t=[],e=this._getDatasets();return e.length?(e.forEach(function(e){t.push(e.templates)}),t):[]},_getDatasets:function(){var t=this._getInstance();return t&&t.dropdown?t.dropdown.datasets:[]},_getInstance:function(){return this.$input.data("ttTypeahead")},_templatify:function(e){function i(){return e+""}return t.isFunction(e)?e:i},_setProperties:function(){var e=this,i=this.options.autocomplete,n=window.Bloodhound,s=i.sections,o=[],a=[],r={highlight:i.boldQueryInSuggestion,highlightOnlyFirstMatch:i.highlightOnlyFirstMatch,doNotRepeatSelection:i.doNotRepeatSelection};if(i.datumTokenizer=function(t){return n.tokenizers.whitespace(t.value)},i.queryTokenizer=n.tokenizers.whitespace,s&&s.length)s.forEach(function(e,s){var a=null;e.source||(a=new n(t.extend(e,{datumTokenizer:i.datumTokenizer,queryTokenizer:i.queryTokenizer})),a.initialize());var r={name:e.name||"engine_"+s,displayKey:e.displayKey||"value",source:e.source||a.ttAdapter()};e.templates&&(r.templates=e.templates),o.push(r)}),this.$input.data("container",this.$element).data("engines",a).typeahead(r,o);else{var l=new n(i);l.initialize(),this.$input.data("container",this.$element).data("engine",l).typeahead(r,{name:this.name,source:l.ttAdapter()})}this.$wrapper=this.$input.closest(i.wrapperSelector),this.$dropdown=this.$wrapper.find(i.dropdownSelector),this.$input.on("typeahead:selected",function(t,i){e.ctx.mediator&&e.ctx.mediator.publish(e.events.autoSelected,i)}),i.hideHintField&&this.$element.find(i.hintFieldSelector).hide(),this.$wrapper.addClass(i.css.wrapper),this.$input.addClass(i.css.input),this.$dropdown.addClass(i.css.dropdown)},_stripTags:function(t){return t.replace(/(<([^>]+)>)/gi,"")},_addEvents:function(){1===this._getDatasets().length&&this.$input.on("keydown keypress",function(){this._setTemplate("empty","",!0)}.bind(this))},_excludeFromResult:function(t,e){if(!e)return t;var i=_.difference(_.pluck(t,"value"),_.keys(e));return _.filter(t,function(t){return _.contains(i,t.value)})},destroy:function(){return this.$input.typeahead("destroy"),this},loading:function(t){var e=this.options.autocomplete,i=e.inputRef?this.$input:this.$element,n=e.loadingClass;e.showLoading&&i.toggleClass(n,t)}}),t.extend(!0,odesk.AutoTypeahead.prototype,odesk.mediator)}(jQuery),function(t){"use strict";new odesk.Class("odesk.FooterFeedback","odesk.AbstractWidget",{options:{selectors:{jsSubmit:"oBtn oBtnPrimary jsSubmit",jsCancel:"oBtn oBtnCancel"},title:"Feedback",dialogClass:"oPopupFeedback",submitMessage:"Sending..."},dialog:!1,init:function(e){this.$element=t(e),this.addEvents()},addEvents:function(){this.$element.on("click","a.jsFeedback",function(){return this.openFeedbackDialog(),!1}.bind(this))},openFeedbackDialog:function(){var e=this;this.openDialog(this.dialog,{dialogClass:e.options.dialogClass,title:e.options.title,onSubmit:function(i,n){var s=i.parent().find("#composeMessage").val();t("form",i).valid()&&(odesk.loading.show(e.options.submitMessage),odesk.ajax({url:"/feedbacks/user-feedback",dataType:"json",type:"POST",data:{comment:s},complete:function(){odesk.loading.hide()},success:function(){n()}}))},open:function(){e.validation(t(this)),t(this).dialog("widget").parent().find("div.ui-dialog-buttonpane button:first-child").removeClass().addClass(e.options.selectors.jsSubmit),t(this).dialog("widget").parent().find("div.ui-dialog-buttonpane button:last-child").removeClass().addClass(e.options.selectors.jsCancel)}})},openDialog:function(e,i){return e||(e=t("<div></div>")),e.html(this._renderTemplate(odesk.templates.footerFeedback)),e.dialog(t.extend({autoOpen:!0,modal:!0,resizable:!1,width:i.width||740,buttons:{"Send Us Feedback":function(){return i.onSubmit&&i.onSubmit(e,function(){e.dialog("close")}),!1},Cancel:function(){t(this).dialog("close")}}},i)),e},validation:function(e){return t("form",e).oFormValidation({ignore:".ignore,input[type=hidden],:hidden",rules:{composeMessage:{required:!0}},errorPlacement:function(t,e){e.parent().append(t.addClass("oFormErrorBottom"))}}),e},_renderTemplate:function(e){return t.tmpl(e)}}),odesk.preLoadedWidgets.footerFeedback=new odesk.FooterFeedback(".oFooter")}(jQuery),odesk.templates.footerFeedback='<h2 class="oH2Low oTxtMed">Got an idea, suggestion or general feedback? Share it here!</h2><div class="cols"><div class="col col1of2"><form><textarea id="composeMessage" name="composeMessage"></textarea></form></div><div class="col col1of2"><p class="oNull">Having problem with our site?<br><a href="https://support.odesk.com">Create a Ticket</a></p><p class="oNull">Looking for guidance from your fellow oDeskers?<br><a href="http://feedback.odesk.com">Go To Our Forum</a></p><hr><p>Thanks for taking the time to share your thoughts - honest feedback helps make oDesk a better place! And while we can\'t respond  every comment, please know that we read and appreciate every suggestion that comes our way.</p><p>Thanks for your feedback</p></div></div><hr>',odesk.templates.autoRelativeTime='<span class="jsAutoRelativeTime" data-timestamp="${timestamp}u" data-time-format="${timeformat}"/></span>',function(t){new odesk.Class("odesk.RelativeTime","odesk.AbstractWidget",{options:{selector:".jsAutoRelativeTime",addTitle:!1},template:null,init:function(e,i,n){this.name=e,this.$element=t(i||"body"),t.extend(this.options,n),this.process(),this.template=t.template("widgetHtml",odesk.templates.autoRelativeTime)
},process:function(){this.$element.find(this.options.selector).each(t.proxy(function(e,i){var n=t(i),s=odesk.date.sparse(n.data("timestamp")),o=odesk.date.format(s,n.data("time-format"));n.html(o.replace(/\((.*)\)/,'<div class="oSupportInfo nowrap">$1</div>')),this.options.addTitle&&n.attr("title",odesk.date.format(s,"%W, %B %d, %Y at %h:%M%a"))},this))},getTemplate:function(){return this.template}})}(jQuery),function(t){new odesk.Class("odesk.DateSelector","odesk.AbstractWidget",{options:{defaultDate:odesk.date.now(),clearReadonly:!1,beforeShowDay:function(){return[!0,""]},dateFormat:""},init:function(e,i,n){this.name=e;var s=this.$element=t(i);if(s&&0!==s.length){t.extend(this.options,n),t.extend(this.events,odesk.events.makeMap(e,["select","show"]));var o;s.is("input")?(o=this.$element,this.$prev=this.$next=t(),this.format="M d, yy",o.is(":focus")&&o.blur()):(s.html(odesk.templates.dateSelector).addClass("oDateSelector"),o=this.$element.find("input").focus(function(){this.blur()}),this.$prev=this.$element.find(".oPreviousIcon"),this.$next=this.$element.find(".oNextIcon"),this.format="D, M d, yy"),this.options.dateFormat&&(this.format=this.options.dateFormat),this.$input=o;var a=this;o.datepicker({showAnim:"fadeIn",firstDay:1,dateFormat:this.format,defaultDate:this.options.defaultDate?odesk.date.utcToLocal(this.options.defaultDate):null,onSelect:t.proxy(this._select,this),dayNamesMin:t.datepicker.regional[""].dayNamesShort,showOtherMonths:!0,selectOtherMonths:!0,beforeShow:function(t,e){if(!s.is("input")){var i=o.data("datepicker").dpDiv;i.css("margin-left",o[0].offsetWidth/2-i.width()/2)}a.ctx.mediator&&a.ctx.mediator.publish(a.events.show,e),a.selected&&o.datepicker("setDate",odesk.date.utcToLocal(odesk.date.clone(a.selected)))},beforeShowDay:t.proxy(this.options.beforeShowDay,this)}),!o.val()&&this.options.defaultDate&&(this.select(this.options.defaultDate),o.datepicker("setDate",odesk.date.utcToLocal(this.options.defaultDate))),this.$picker=o.data("datepicker").dpDiv.hide(),this._addEvents()}},_addEvents:function(){this.$prev.bind("click",t.proxy(this.selectPrevious,this)),this.$next.bind("click",t.proxy(this.selectNext,this)),this.options.clearReadonly&&this.$element.keyup(function(e){(8==e.keyCode||46==e.keyCode)&&(t.datepicker._clearDate(this),t(this).blur())})},_show:function(){return this.$input.datepicker("show"),this},_select:function(t){return this.select(odesk.date.localToUtc(new Date(t)))},select:function(t){if(this.selected=t,!this.$element.is("input")){var e=odesk.date.formatDate(t,this.format);this.$input.val(e)}return this.ctx.mediator.publish(this.events.select,t),this},selectPrevious:function(t){return t&&t.target.disabled?this:(odesk.date.inc(this.selected,"-1d"),this.select(this.selected))},selectNext:function(t){return t&&t.target.disabled?this:(odesk.date.inc(this.selected,"+1d"),this.select(this.selected))},disablePrevious:function(){return this.$prev.prop("disabled",!0),this},disableNext:function(){return this.$next.prop("disabled",!0),this},enablePrevious:function(){return this.$prev.prop("disabled",!1),this},enableNext:function(){return this.$next.prop("disabled",!1),this}})}(jQuery),odesk.templates.dateSelector='<button class="oPreviousIcon"></button><input type="text" class="oDatePicker" readonly></input><button class="oNextIcon"></button>',odesk.templates.helpTip='<span class="oHelpDot" data-content="${content}" data-class-name="oHelpTip" data-placement="top bottom" data-delay="{&quot;show&quot;:300,&quot;hide&quot;:400}" data-rel="flyout">',function(t){new odesk.Class("odesk.CustomSelector","odesk.AbstractWidget",{options:{className:"customSelectorWidget",allOptionText:"All",allOptionId:"All",includeAllOption:!0,noItemsText:"Nothing to select",sort:!1,selectClass:"oFormMed",storage:{enabled:!1,name:"",serverData:!1},onSelect:t.noop},init:function(e,i,n){this.name=e,t.extend(!0,this.options,n),this.$element=t(i),this.$select=t("<select></select>").appendTo(this.$element).hide().addClass(this.options.selectClass),this.$display=t('<span class="oMute"></span>').appendTo(this.$element),t.extend(this.events,odesk.events.makeMap(this.name,["change"])),this.options.storage.enabled&&(this.storage=odesk.persistentStorage),this.selected={id:this.options.id},this._initSelect()},_initSelect:function(){this.$select.bind("change",t.proxy(this._onChange,this))},_onMousedown:function(){this.$selector.hasClass("disabled")||1>=this.$menu.children("li").length||this.menu.show()},select:function(t){return this.$select.val(t),this},selectWithId:function(t){return this.select(t)},populate:function(t){this.options.sort&&this._sort(t);var e,i;return e=this._createHtml(t),this.$select.html(e),i=this.$select.find("option").length,i?(this.$select.show(),this.$select.prop("disabled",1==i),this.$display.text(""),this._onChange()):(this.$select.show(),this.$select.prop("disabled",!0)),this},isDisabled:function(){return this.$select.prop("disabled")},enable:function(){this.items&&this.items.length>1&&this.$select.prop("disabled",!1)},disable:function(){this.$select.prop("disabled",!0)},isHidden:function(){return this.$element.is(":hidden")},show:function(){this.$element.show()},hide:function(){this.$element.hide()},_sort:function(t){t.sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:-1})},_getSelected:function(){var t=this.$menu.find(".selected");return!t.length&&this.items&&this.items.length&&(t=this.menu.goFirst().$current),t},getSelected:function(){return this.$select.val()?{id:this.$select.val(),name:this.$select.find("option:selected").html()}:null},_createHtml:function(t){var e="",i=0;this.items=t;for(var n=this.options.id||this.storage&&this.storage.get(this.options.storage.name,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null),s=0,o=t.length;o>s;s++){var a=t[s];a.hidden||(i++,e+='<option value="'+a.id+'"'+(n===a.id?' selected="selected"':"")+">"+a.name+"</option>")}return i>1&&this.options.includeAllOption&&(e='<option value="'+this.options.allOptionId+'"'+(n===this.options.allOptionId?'selected="selected"':"")+">"+this.options.allOptionText+"</option>"+e),e},_setDisplay:function(t){this.$display.html(t.html())},_select:function(t){var e=this.selected.id,i=t.attr("data-id"),n=null,s=!1;if(i==this.options.allOptionId)s=!0,i=0;else for(var o=0,a=this.items.length;a>o;o++){var r=this.items[o];if(r.id==i){n=r;break}}this.selected={item:n,allOptionSelected:s,id:i},this._setDisplay(t),this.storage&&this.storage.set(this.options.storage.name,this.selected.id,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null),this.ctx.mediator.publish(this.events.change,this.selected),e!=this.selected.id&&this.options.onSelect(this.selected.item)},_onChange:function(){for(var t=this.selected.id,e=this.$select.val(),i=null,n=0,s=this.items.length;s>n;n++){var o=this.items[n];if(o.id===e){i=o;break}}this.selected={item:i,allOptionSelected:e==this.options.allOptionId,id:e},this.storage&&this.storage.set(this.options.storage.name,this.selected.id,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null),this.ctx.mediator.publish(this.events.change,this.selected),t!=this.selected.id&&this.options.onSelect(this.selected.item)}}),t.extend(!0,odesk.CustomSelector.prototype,odesk.mediator)}(jQuery),function(t){new odesk.Class("odesk.CompanySelector","odesk.CustomSelector",{options:{showMe:!1,storage:{name:"company_reference"}},init:function(e,i,n,s){this._super(e,i,n),t.extend(this,s),this.populate()},_getSelected:function(){var t=this.$menu.find(".selected");if(!t.length){if(this.storage){var e=this.storage.get(this.options.storage.name,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null);e&&(t=this.$menu.find('[data-reference="'+e+'"]'))}t.length||(t=this.$element.find("li:first"))}return t},_createHtml:function(){var e="",i=0;if(this.options.showMe&&this.authUser){i++;var n=this.authUser;e+='<li class="company me'+(this.selected.meSelected?" selected":"")+'">'+n.name+" (Me)"+"</li>"}for(var s=0,o=this.companies.length;o>s;s++){var a=this.companies[s];!a.hidden&&a.name&&t.trim(a.name).length&&(i++,e+='<li data-reference="'+a.reference+'" data-id="'+a.id+'" class="company',this.options.meSelected||this.options.reference!=a.reference&&this.options.id!=a.id||(e+=" selected"),e+='">'+a.name+"</li>")}return e},_select:function(){var t=this.$element.find(".selected");this.selected={};var e,i=t.data("reference"),n=t.data("id"),s=this.options.showMe&&t.hasClass("me")&&this.authUser;if(s)e=this.authUser,i=this.authUser.reference,n=this.authUser.id;else for(var o=0,a=this.companies.length;a>o;o++){var r=this.companies[o];if(r.reference==i){e=r;break}}if(this.selected={item:e,meSelected:s,reference:i,id:n},this.$display.text(t.text()),this.storage){var l=s?null:this.selected.reference;this.storage.set(this.options.storage.name,l,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null)}this.ctx.mediator&&this.ctx.mediator.publish(this.events.change,this.selected)}})}(jQuery),function(t){new odesk.Class("odesk.SavedJobsNavItem","odesk.AbstractWidget",{options:{apiSaveJobUrl:"/navigation/saved-jobs-count/",navigatorLinkSelector:'nav .oSecondaryNavList a[href="/jobs/saved"]'},init:function(){var e=this;this.$navLink=t(this.options.navigatorLinkSelector),this.$navLink.length>0&&(this.$navLink.text(this.$navLink.text()+" "),this.$heart=t(this.getHeartCode()).hide().insertBefore(this.$navLink),this.$count=t('<span class="oMoreCount"></span>').hide().insertAfter(this.$navLink),odesk.ajax({url:this.options.apiSaveJobUrl,dataType:"json",complete:function(i){var n=odesk.json.parse(i.responseText);t.isNumeric(n.count)&&e.setCounter(n.count)}}))},setCounter:function(t){t?(this.$count.text(t).show(),this.$heart.show()):(this.$count.text("").hide(),this.$heart.hide())},getHeartCode:function(){return'<svg style="margin-top: -2px; margin-right: 5px; vertical-align: middle" class="oSvgHeartIcon" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="12px" height="12px" viewBox="0 0 400 400" enable-background="new 0 0 400 400" xml:space="preserve"><path fill="#999" id="favorite-icon" d="m388.05948,62.90553c-39.19339,-86.47173 -158.25883,-79.78622 -188.55948,-4.44649c-30.30064,-75.33973 -149.36662,-82.02514 -188.55969,4.44545c-46.20166,101.93421 61.02374,199.03334 188.55969,338.12355c127.53583,-139.09018 234.76123,-236.18932 188.55948,-338.12241l0,-0.00011z"></path></svg> '}}),t.extend(!0,odesk.SavedJobsNavItem.prototype,odesk.mediator),odesk.preLoadedWidgets.savedJobsNavItem=new odesk.SavedJobsNavItem("SavedJobsNavItem",document.body)}(jQuery),function(t){new odesk.Class("odesk.CustomSelector","odesk.AbstractWidget",{options:{className:"customSelectorWidget",allOptionText:"All",allOptionId:"All",includeAllOption:!0,noItemsText:"Nothing to select",sort:!1,selectClass:"oFormMed",storage:{enabled:!1,name:"",serverData:!1},onSelect:t.noop},init:function(e,i,n){this.name=e,t.extend(!0,this.options,n),this.$element=t(i),this.$select=t("<select></select>").appendTo(this.$element).hide().addClass(this.options.selectClass),this.$display=t('<span class="oMute"></span>').appendTo(this.$element),t.extend(this.events,odesk.events.makeMap(this.name,["change"])),this.options.storage.enabled&&(this.storage=odesk.persistentStorage),this.selected={id:this.options.id},this._initSelect()},_initSelect:function(){this.$select.bind("change",t.proxy(this._onChange,this))},_onMousedown:function(){this.$selector.hasClass("disabled")||1>=this.$menu.children("li").length||this.menu.show()},select:function(t){return this.$select.val(t),this},selectWithId:function(t){return this.select(t)},populate:function(t){this.options.sort&&this._sort(t);var e,i;return e=this._createHtml(t),this.$select.html(e),i=this.$select.find("option").length,i?(this.$select.show(),this.$select.prop("disabled",1==i),this.$display.text(""),this._onChange()):(this.$select.show(),this.$select.prop("disabled",!0)),this},isDisabled:function(){return this.$select.prop("disabled")},enable:function(){this.items&&this.items.length>1&&this.$select.prop("disabled",!1)},disable:function(){this.$select.prop("disabled",!0)},isHidden:function(){return this.$element.is(":hidden")},show:function(){this.$element.show()},hide:function(){this.$element.hide()},_sort:function(t){t.sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:-1})},_getSelected:function(){var t=this.$menu.find(".selected");return!t.length&&this.items&&this.items.length&&(t=this.menu.goFirst().$current),t},getSelected:function(){return this.$select.val()?{id:this.$select.val(),name:this.$select.find("option:selected").html()}:null},_createHtml:function(t){var e="",i=0;this.items=t;for(var n=this.options.id||this.storage&&this.storage.get(this.options.storage.name,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null),s=0,o=t.length;o>s;s++){var a=t[s];a.hidden||(i++,e+='<option value="'+a.id+'"'+(n===a.id?' selected="selected"':"")+">"+a.name+"</option>")}return i>1&&this.options.includeAllOption&&(e='<option value="'+this.options.allOptionId+'"'+(n===this.options.allOptionId?'selected="selected"':"")+">"+this.options.allOptionText+"</option>"+e),e},_setDisplay:function(t){this.$display.html(t.html())},_select:function(t){var e=this.selected.id,i=t.attr("data-id"),n=null,s=!1;if(i==this.options.allOptionId)s=!0,i=0;else for(var o=0,a=this.items.length;a>o;o++){var r=this.items[o];if(r.id==i){n=r;break}}this.selected={item:n,allOptionSelected:s,id:i},this._setDisplay(t),this.storage&&this.storage.set(this.options.storage.name,this.selected.id,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null),this.ctx.mediator.publish(this.events.change,this.selected),e!=this.selected.id&&this.options.onSelect(this.selected.item)},_onChange:function(){for(var t=this.selected.id,e=this.$select.val(),i=null,n=0,s=this.items.length;s>n;n++){var o=this.items[n];if(o.id===e){i=o;break}}this.selected={item:i,allOptionSelected:e==this.options.allOptionId,id:e},this.storage&&this.storage.set(this.options.storage.name,this.selected.id,this.options.storage.serverData?odesk.storageManager.cnst().SERVER_DATA:null),this.ctx.mediator.publish(this.events.change,this.selected),t!=this.selected.id&&this.options.onSelect(this.selected.item)}}),t.extend(!0,odesk.CustomSelector.prototype,odesk.mediator)}(jQuery),function(t){odesk.HeaderTeamSelector=function(){return{init:function(){var e=t("#teamSelector").html("");if(e.length&&t("#teamSelectorData").length){var i=t.parseJSON(t("#teamSelectorData").html());if(i){i.sort(function(t,e){return t.parent>e.parent?1:t.parent<e.parent?-1:t.id==t.parent?-1:e.id==e.parent?1:t.name.toLowerCase()>e.name.toLowerCase()?1:-1});var n=new odesk.CustomSelector("teamSelector",e,{includeAllOption:!1,id:e.attr("data-id"),onSelect:function(t){odesk.loading.show("Please wait...",!0),location.href=t.href}});n.populate(i)}}}}}(),odesk.HeaderTeamSelector.init()}(jQuery),function(t){new odesk.Class("odesk.Tokenizer","odesk.AbstractWidget",{options:{max:25,onChange:t.noop,separator:" ",data:[],autocomplete:{noResultsMessage:"No suggested tokens found...",hideHintField:!0,loadingClass:"isLoading",doNotRepeatSelection:!0,css:{wrapper:"tt-tokenizer-wrapper",input:"tt-tokenizer-input",dropdown:"tt-tokenizer-dropdown"}},render:!0,ignoreCase:!0,template:"tokenizer",itemTemplate:"tokenizerItem",itemClassName:"",removeDuration:500,removeEasing:"easeInOutCubic",addDuration:900,addEasing:"easeInOutCubic",lineHeight:0,className:"oTagsField",containerSelector:"div.oTagsField",tagSelector:"div.oTag",closeSelector:".oBtnCloseMini",valueSelector:"div.oTag",selectedSelector:"isSelected",minInputSize:5,excludeItems:!1},init:function(e,i){this.$element=t(e),this.options.autocomplete.formatItem=t.proxy(this._formatItem,this),t.extend(!0,this.options,{draggable:{distance:3,zIndex:1e4,scroll:!1,start:t.proxy(function(e,i){i.helper,t(e.target).css("visibility","hidden"),this.$input.blur();var n=this.$input.data("select");n&&n.hide(),this._onDragStart()},this),stop:t.proxy(function(e,i){this._onDrop(t(e.target),i.helper)},this),helper:"clone"}},i),odesk.events&&t.extend(this.events,odesk.events.makeMap(this.name,["change","blur","focus"])),t.template(this.options.template,odesk.templates[this.options.template]),t.template(this.options.itemTemplate,odesk.templates[this.options.itemTemplate]),this.options.render&&this._render("function"==typeof this.options.items?this.options.items():this.options.items),this.$container=this.$element.addClass(this.options.className),this.$input=this.$element.find("input").data("tokenizer",this).data("container",this.$container),this.options.input&&(this.$sourceInput=t(this.options.input),this.$input.data("source-input",this.$sourceInput)),this.lineHeight=this._getHeight(),this.items={},this._afterRender(),this.get().length>=this.options.max&&this._disable(),this._initAutocomplete(),this._addEvents(),this._updateHeight(),this._updateWidth()},_getHeight:function(){var e=t('<div class="oTagsField"><div class="oTag '+this.options.itemClassName+'">tag</div></div>').appendTo(document.body),i=e[0].offsetHeight;return this.borderHeight=i-e[0].clientHeight+parseInt(e.css("padding-top"),10)+parseInt(e.css("padding-bottom"),10),e.remove(),i-this.borderHeight},_disable:function(){if(this.$input.prop("disabled",!0),this.$input.hide(),this.options.focusOnDisable){var t=this.$input.closest("form").find("input:visible,select:visible,textarea:visible,.oBtn:visible");t.eq(t.index(this.$input)+1).focus()}},_enable:function(){this.$input.prop("disabled",!1),this.$input.show(),this.focused=!1},_afterRender:function(){var e=this;this.$element.find(this.options.valueSelector).each(function(){var i=t(this),n=i.text();e.options.ignoreCase&&(n=n.toLowerCase()),e.items[n]=i});var i=this.options.draggable;i&&this.$container.find(this.options.tagSelector).draggable(i)},_initAutocomplete:function(){this.options.autocomplete.excludeItems=this.options.excludeItems,this.options.autocomplete.localData=this.options.autocomplete.localData||this.formatResultsData(this.options.data),this.registerWidget("autoCompleteWidget",new odesk.AutoTypeahead("autoComplete",this.$element,this.options.autocomplete)),this.subscribe(this.widgets.autoCompleteWidget.events.autoSelected,t.proxy(this._autoSelected,this)),this.subscribe(this.widgets.autoCompleteWidget.events.autoRequestStarted,t.proxy(this._autoRequestStarted,this)),this.subscribe(this.widgets.autoCompleteWidget.events.autoRequestComplete,t.proxy(this._autoRequestComplete,this))},_autoRequestStarted:t.noop,_autoRequestComplete:t.noop,_autoSelected:function(e,i){this.add(this.options.autocomplete.formatItem(i)),setTimeout(t.proxy(this._updateHeight,this),0)},_render:function(e){t.isArray(e)&&t.unique(e),this.$element.html(t.tmpl(this.options.template,{items:e||[],itemClassName:this.options.itemClassName}))},_addEvents:function(){var e=this.$input.bind("keydown",t.proxy(this._onKeypress,this)).bind("blur",t.proxy(this._onBlur,this)).bind("focus",t.proxy(this._onFocus,this)),i=this.$container.delegate(this.options.closeSelector,"click",t.proxy(this._onItemRemoveClick,this)).delegate(this.options.tagSelector,"mousedown",t.proxy(this._onItemMousedown,this)).bind("click",function(n){!t(n.target).is("input")&&i.find("input").length&&e.focus().click()});this.$container.bind("mousedown",t.proxy(function(){this.listMousedown=!0},this)),t(document).mouseup(t.proxy(function(){this.listMousedown=!1,this.select(null)},this))},_onItemMousedown:function(e){var i;i=t(e.currentTarget),this.select(i.text())},_onBlur:function(){this.$container.removeClass("isFocus"),this.ctx.mediator&&this.ctx.mediator.publish(this.events.blur),this.focused=!1},_onFocus:function(){this.$container.addClass("isFocus"),this.ctx.mediator&&this.ctx.mediator.publish(this.events.focus),this.focused=!0},_onItemRemoveClick:function(e){var i=t(e.currentTarget).parent().text();this.remove(i)},_onKeypress:function(e){var i,n=e.which;if(9==n&&t("body > div."+this.options.autocomplete.resultsClass+":visible").length)e.preventDefault();else if(8==n){if(!this.$input.closest(this.options.containerSelector).length)return}else if(188==n){e.preventDefault();var s=new t.Event("keydown");s.keyCode=13,this.$input.trigger(s)}else 13==n?e.preventDefault():32==n?(i=this.getSelected(),i&&(e.preventDefault(),this.remove(i))):this.select(null);this._updateWidth()},getSelected:function(){return this.selected},select:function(t){var e;return this.selected&&(e=this.items[this.options.ignoreCase?this.selected.toLowerCase():this.selected],e&&e.removeClass(this.options.selectedSelector),this.selected=null,e=null),t&&(e=this.items[this.options.ignoreCase?t.toLowerCase():t]),e&&(this.selected=t,e.addClass(this.options.selectedSelector)),this},get:function(){var e=[];return this.$container.find("div.oTag:not(.isRemoved):not(.isDraggable)").each(function(){e.push(t(this).text())}),e},add:function(e,i,n,s,o){if(t.isArray(e)){for(var a=0,r=e.length;r>a;a++)this.add(e[a],i,n,s,!0);return this._onChange(),this}return"string"!=typeof e&&(e=this.options.autocomplete.formatItem(e)),(e=t.trim(e))?this.get().length==this.options.max?this:(this._add(e,n,s,o),this):this},_add:function(t,e,i,n){if(this.$input.val("").trigger("input"),this.items[this.options.ignoreCase?t.toLowerCase():t])return this;var s=this.items[this.options.ignoreCase?t.toLowerCase():t]=this._createItem(t);if(this._insert(s),this.$container.scrollTop(0),e){s.hide();var o=this,a=function(){if(!s.hasClass("isRemoved")){s.show(),s.wrap('<span style="display: inline-block; overflow: hidden; position: relative; vertical-align: top;"></span>');var t=s.css("margin-top");parseInt(s.css("margin-right"),10),s.css("margin-top",0),s.parent().css({height:s[0].offsetHeight,marginTop:t,marginBottom:s.css("margin-bottom")});var e=s[0].offsetWidth;s.css({position:"relative",left:-e,marginRight:-e}).animate({left:0,marginRight:0},{duration:o.options.addDuration,step:function(){o._updateHeight()},complete:function(){s.hasClass("isRemoved")||(s.unwrap(),s.css("margin-top",t),o._updateHeight())},easing:o.options.addEasing})}};i?setTimeout(a,i):a()}this.get().length>=this.options.max&&this._disable(),this._updateHeight();var r=this.options.draggable;r&&s.draggable(r),n||this._onChange()},_updateHeight:function(){var t=this.$container,e=t.children(":visible:last");if(e.length&&e.height()){var i=e.position().top-this.$element.position().top+e.outerHeight();i!=this.animateHeight&&(this.animateHeight=i,t.css("height",i+this.borderHeight))}},_updateWidth:function(){var t=this.$input;if(t.val()&&t.val().length){var e=2,i=t.val().length+e;this.options.minInputSize>i&&(i=this.options.minInputSize),t.attr("size",i)}},_onChange:function(){var t=this.get();this.options.onChange.call(this,t),this.$input.val(""),this.ctx.mediator&&this.ctx.mediator.publish(this.events.change,t)},remove:function(t,e){var i=this.items[this.options.ignoreCase?t.toLowerCase():t];if(i){if(e){i.addClass("isRemoved"),i.wrap('<span class="animateTokenRemove" style="display: inline-block; overflow: hidden; position: relative; vertical-align: top;"></span>');var n=i.css("margin-top");i.css("margin-top",0),i.parent().css({height:i[0].offsetHeight,marginTop:n,marginBottom:i.css("margin-bottom")});var s=i[0].offsetWidth,o=this;i.css({position:"relative"}).animate({left:-s,marginRight:-s,marginLeft:0},{queue:!1,duration:this.options.removeDuration,complete:function(){i.parent().remove(),o._updateHeight(),o.get().length<o.options.max&&o._enable()},step:function(){o._updateHeight()},easing:this.options.removeEasing})}else i.parent().is("span.animateTokenRemove")?i.parent().remove():i.remove(),this._enable();delete this.items[this.options.ignoreCase?t.toLowerCase():t],this.getSelected()==t&&this.select(null),this._updateHeight(),this._onChange()}return this},removeAll:function(t){for(var e=this.get(),i=0,n=e.length;n>i;i++)this.remove(e[i],t);return this},_insert:function(t){t.insertBefore(this.$input.parent())},_createItem:function(e){return t.tmpl(this.options.itemTemplate,{value:e,itemClassName:this.options.itemClassName})},_onDrop:function(t,e){var i=e.offset(),n={left:i.left,top:i.top,right:i.left+e[0].offsetWidth,bottom:i.top+e[0].offsetHeight},s=this.$container.offset(),o={left:s.left,top:s.top,right:s.left+this.$container[0].offsetWidth,bottom:s.top+this.$container[0].offsetHeight};if(this._isIntersect(n,o)){var a=t.position(),r=e.parent();setTimeout(function(){e.appendTo(r).animate({left:a.left,top:a.top},{duration:"fast",complete:function(){e.detach(),t.css("visibility","visible")}})},0)}else e.detach(),t.css("visibility","hidden"),this.remove(t.text(),!0);this.$input.focus().click()},_isIntersect:function(t,e){var i=Math.max(t.left,e.left),n=Math.min(t.right,e.right),s=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom);return n>=i&&o>=s},_onDragStart:t.noop,_formatItem:function(t){var e=t.value||t.name||t[0];return this.options.excludeItems&&this.options.excludeItems[e]!==void 0?!1:e},setExcludes:function(t){return this.options.excludeItems=t,this},destroy:function(){return this.widgets.autoCompleteWidget.destroy(),this},formatResultsData:function(t){if(!t)return this;if("string"==typeof t)return t;var e=[];for(var i in t)if(t.hasOwnProperty(i)){var n=this._formatItem(t[i]);n&&e.push({data:[n],value:n,result:n})}return e},setValue:function(t){this.removeAll(!1),this.add(t.split(this.options.separator))}}),t.extend(!0,odesk.Tokenizer.prototype,odesk.mediator)}(jQuery),odesk.templates.tokenizer='{{each(i, value) items}}{{if value}}{{tmpl({value: value, itemClassName: itemClassName}) "tokenizerItem"}}{{/if}}{{/each}}<input type="text">',odesk.templates.tokenizerItem='<div class="oTag ${itemClassName}">${value}<button class="oBtnCloseMini"></button></div>',function(t){new odesk.Class("odesk.ModalDialog","odesk.AbstractWidget",{options:{autoOpen:!1,modal:!0,resizable:!1,width:500,minHeight:100,dialogClass:"modalDialog",onOpen:t.noop,onClose:t.noop},init:function(e,i){this.$element=t(e);var n=this;t.extend(this.options,i,{open:function(t,e){n.options.onOpen.call(n,n,t,e)},close:function(t,e){n.options.onClose.call(n,n,t,e)}}),this._configureDialog(),this._addDialogMethods(),this._addEvents()},_configureDialog:function(){this.$element.dialog(this.options)},_addDialogMethods:function(){var t=this,e=this.$element.data("uiDialog"),i=function(e){t[e]=function(){t.$element.dialog(e,arguments)}};for(var n in e)e[n]instanceof Function&&!/^_/.test(n)&&i(n)},_addEvents:function(){this.$element.closest("."+this.options.dialogClass).find("a.ui-dialog-titlebar-close").unbind("mouseenter mouseleave"),this.$openButton=t(this.options.openDialogSelector).bind("click",t.proxy(this._openButtonClick,this)),this.$element.on("click",".jsClosePopup",this.close)},_openButtonClick:function(){return this.open(),!1}})}(jQuery),function(t){new odesk.Class("odesk.TipsBox","odesk.AbstractWidget",{options:{activeClass:"active",tipsContainer:".oTips",tipContainer:"div",defaultTip:".defaultTip",tipsCountContainer:".jsTipsCount",previousTipContainer:".oTipsPrev",nextTipContainer:".oTipsNext",closeLinkContainer:"#tipsBox a.close"},init:function(e){this.$element=t(e),this.activeClass=this.options.activeClass,this.filterRule="."+this.activeClass,this._render()._addEvents()},_render:function(){return this.$tips=t(odesk.array.shuffle(this.$element.find(this.options.tipsContainer).children(this.options.tipContainer).get())),this.$tips.filter(this.options.defaultTip).addClass(this.activeClass).length||this.$tips.first().addClass(this.activeClass),this.$element.find(this.options.tipsContainer).html(this.$tips).end().find(this.options.tipsCountContainer).text(this.$tips.length+" tips"),this},_addEvents:function(){this.$element.delegate(this.options.closeLinkContainer,"click",t.proxy(this._close,this)).delegate(this.options.nextTipContainer,"click",t.proxy(this._next,this)).delegate(this.options.previousTipContainer,"click",t.proxy(this._prev,this))},_prev:function(){return this.$tips.filter(this.filterRule).removeClass(this.activeClass).prev().addClass(this.activeClass).length||this.$tips.last().addClass(this.activeClass),!1},_next:function(){return this.$tips.filter(this.filterRule).removeClass(this.activeClass).next().addClass(this.activeClass).length||this.$tips.first().addClass(this.activeClass),!1},_close:function(e){var i=t(e.currentTarget).attr("data-page"),n=odesk.env.COOKIE_DOMAIN,s=odesk.env.COOKIE_PREFIX;return this.$element.hide("fast"),t.cookie(s+i+"_HideTipsBox",!0,{domain:n,path:"/",expires:365}),!1}})}(jQuery),odesk.pageConfig&&odesk.pageConfig.AUSER&&(odesk.launchbar=new odesk.Launchbar(".oHeader, .navigation",{uid:odesk.pageConfig.AUSER.uid,helpcms:odesk.env.HELPCMS_ROOT,cookie:{prefix:odesk.env.COOKIE_PREFIX,name:odesk.env.COOKIE_PREFIX+"mc_unread."+odesk.pageConfig.AUSER.uid,options:{domain:odesk.env.COOKIE_DOMAIN}}}));